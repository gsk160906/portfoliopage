(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var am={exports:{}},hc={};var M0;function jN(){if(M0)return hc;M0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:s,type:i,key:h,ref:l!==void 0?l:null,props:u}}return hc.Fragment=e,hc.jsx=n,hc.jsxs=n,hc}var O0;function EN(){return O0||(O0=1,am.exports=jN()),am.exports}var r=EN(),sm={exports:{}},Se={};var z0;function NN(){if(z0)return Se;z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),j=Symbol.iterator;function S(q){return q===null||typeof q!="object"?null:(q=j&&q[j]||q["@@iterator"],typeof q=="function"?q:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function V(q,se,ue){this.props=q,this.context=se,this.refs=M,this.updater=ue||I}V.prototype.isReactComponent={},V.prototype.setState=function(q,se){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,se,"setState")},V.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function P(){}P.prototype=V.prototype;function H(q,se,ue){this.props=q,this.context=se,this.refs=M,this.updater=ue||I}var ee=H.prototype=new P;ee.constructor=H,C(ee,V.prototype),ee.isPureReactComponent=!0;var re=Array.isArray;function W(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(q,se,ue){var pe=ue.ref;return{$$typeof:s,type:q,key:se,ref:pe!==void 0?pe:null,props:ue}}function L(q,se){return D(q.type,se,q.props)}function k(q){return typeof q=="object"&&q!==null&&q.$$typeof===s}function U(q){var se={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ue){return se[ue]})}var O=/\/+/g;function Be(q,se){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):se.toString(36)}function bt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(W,W):(q.status="pending",q.then(function(se){q.status==="pending"&&(q.status="fulfilled",q.value=se)},function(se){q.status==="pending"&&(q.status="rejected",q.reason=se)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Q(q,se,ue,pe,Ne){var ke=typeof q;(ke==="undefined"||ke==="boolean")&&(q=null);var He=!1;if(q===null)He=!0;else switch(ke){case"bigint":case"string":case"number":He=!0;break;case"object":switch(q.$$typeof){case s:case e:He=!0;break;case x:return He=q._init,Q(He(q._payload),se,ue,pe,Ne)}}if(He)return Ne=Ne(q),He=pe===""?"."+Be(q,0):pe,re(Ne)?(ue="",He!=null&&(ue=He.replace(O,"$&/")+"/"),Q(Ne,se,ue,"",function(Yr){return Yr})):Ne!=null&&(k(Ne)&&(Ne=L(Ne,ue+(Ne.key==null||q&&q.key===Ne.key?"":(""+Ne.key).replace(O,"$&/")+"/")+He)),se.push(Ne)),1;He=0;var $t=pe===""?".":pe+":";if(re(q))for(var ft=0;ft<q.length;ft++)pe=q[ft],ke=$t+Be(pe,ft),He+=Q(pe,se,ue,ke,Ne);else if(ft=S(q),typeof ft=="function")for(q=ft.call(q),ft=0;!(pe=q.next()).done;)pe=pe.value,ke=$t+Be(pe,ft++),He+=Q(pe,se,ue,ke,Ne);else if(ke==="object"){if(typeof q.then=="function")return Q(bt(q),se,ue,pe,Ne);throw se=String(q),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return He}function le(q,se,ue){if(q==null)return q;var pe=[],Ne=0;return Q(q,pe,"","",function(ke){return se.call(ue,ke,Ne++)}),pe}function ve(q){if(q._status===-1){var se=q._result;se=se(),se.then(function(ue){(q._status===0||q._status===-1)&&(q._status=1,q._result=ue)},function(ue){(q._status===0||q._status===-1)&&(q._status=2,q._result=ue)}),q._status===-1&&(q._status=0,q._result=se)}if(q._status===1)return q._result.default;throw q._result}var qe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},We={map:le,forEach:function(q,se,ue){le(q,function(){se.apply(this,arguments)},ue)},count:function(q){var se=0;return le(q,function(){se++}),se},toArray:function(q){return le(q,function(se){return se})||[]},only:function(q){if(!k(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Se.Activity=_,Se.Children=We,Se.Component=V,Se.Fragment=n,Se.Profiler=l,Se.PureComponent=H,Se.StrictMode=i,Se.Suspense=v,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Se.__COMPILER_RUNTIME={__proto__:null,c:function(q){return R.H.useMemoCache(q)}},Se.cache=function(q){return function(){return q.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(q,se,ue){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var pe=C({},q.props),Ne=q.key;if(se!=null)for(ke in se.key!==void 0&&(Ne=""+se.key),se)!A.call(se,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&se.ref===void 0||(pe[ke]=se[ke]);var ke=arguments.length-2;if(ke===1)pe.children=ue;else if(1<ke){for(var He=Array(ke),$t=0;$t<ke;$t++)He[$t]=arguments[$t+2];pe.children=He}return D(q.type,Ne,pe)},Se.createContext=function(q){return q={$$typeof:h,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:u,_context:q},q},Se.createElement=function(q,se,ue){var pe,Ne={},ke=null;if(se!=null)for(pe in se.key!==void 0&&(ke=""+se.key),se)A.call(se,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Ne[pe]=se[pe]);var He=arguments.length-2;if(He===1)Ne.children=ue;else if(1<He){for(var $t=Array(He),ft=0;ft<He;ft++)$t[ft]=arguments[ft+2];Ne.children=$t}if(q&&q.defaultProps)for(pe in He=q.defaultProps,He)Ne[pe]===void 0&&(Ne[pe]=He[pe]);return D(q,ke,Ne)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(q){return{$$typeof:m,render:q}},Se.isValidElement=k,Se.lazy=function(q){return{$$typeof:x,_payload:{_status:-1,_result:q},_init:ve}},Se.memo=function(q,se){return{$$typeof:g,type:q,compare:se===void 0?null:se}},Se.startTransition=function(q){var se=R.T,ue={};R.T=ue;try{var pe=q(),Ne=R.S;Ne!==null&&Ne(ue,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(W,qe)}catch(ke){qe(ke)}finally{se!==null&&ue.types!==null&&(se.types=ue.types),R.T=se}},Se.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Se.use=function(q){return R.H.use(q)},Se.useActionState=function(q,se,ue){return R.H.useActionState(q,se,ue)},Se.useCallback=function(q,se){return R.H.useCallback(q,se)},Se.useContext=function(q){return R.H.useContext(q)},Se.useDebugValue=function(){},Se.useDeferredValue=function(q,se){return R.H.useDeferredValue(q,se)},Se.useEffect=function(q,se){return R.H.useEffect(q,se)},Se.useEffectEvent=function(q){return R.H.useEffectEvent(q)},Se.useId=function(){return R.H.useId()},Se.useImperativeHandle=function(q,se,ue){return R.H.useImperativeHandle(q,se,ue)},Se.useInsertionEffect=function(q,se){return R.H.useInsertionEffect(q,se)},Se.useLayoutEffect=function(q,se){return R.H.useLayoutEffect(q,se)},Se.useMemo=function(q,se){return R.H.useMemo(q,se)},Se.useOptimistic=function(q,se){return R.H.useOptimistic(q,se)},Se.useReducer=function(q,se,ue){return R.H.useReducer(q,se,ue)},Se.useRef=function(q){return R.H.useRef(q)},Se.useState=function(q){return R.H.useState(q)},Se.useSyncExternalStore=function(q,se,ue){return R.H.useSyncExternalStore(q,se,ue)},Se.useTransition=function(){return R.H.useTransition()},Se.version="19.2.4",Se}var P0;function rg(){return P0||(P0=1,sm.exports=NN()),sm.exports}var T=rg(),rm={exports:{}},fc={},im={exports:{}},om={};var V0;function TN(){return V0||(V0=1,(function(s){function e(Q,le){var ve=Q.length;Q.push(le);e:for(;0<ve;){var qe=ve-1>>>1,We=Q[qe];if(0<l(We,le))Q[qe]=le,Q[ve]=We,ve=qe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var le=Q[0],ve=Q.pop();if(ve!==le){Q[0]=ve;e:for(var qe=0,We=Q.length,q=We>>>1;qe<q;){var se=2*(qe+1)-1,ue=Q[se],pe=se+1,Ne=Q[pe];if(0>l(ue,ve))pe<We&&0>l(Ne,ue)?(Q[qe]=Ne,Q[pe]=ve,qe=pe):(Q[qe]=ue,Q[se]=ve,qe=se);else if(pe<We&&0>l(Ne,ve))Q[qe]=Ne,Q[pe]=ve,qe=pe;else break e}}return le}function l(Q,le){var ve=Q.sortIndex-le.sortIndex;return ve!==0?ve:Q.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var v=[],g=[],x=1,_=null,j=3,S=!1,I=!1,C=!1,M=!1,V=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ee(Q){for(var le=n(g);le!==null;){if(le.callback===null)i(g);else if(le.startTime<=Q)i(g),le.sortIndex=le.expirationTime,e(v,le);else break;le=n(g)}}function re(Q){if(C=!1,ee(Q),!I)if(n(v)!==null)I=!0,W||(W=!0,U());else{var le=n(g);le!==null&&bt(re,le.startTime-Q)}}var W=!1,R=-1,A=5,D=-1;function L(){return M?!0:!(s.unstable_now()-D<A)}function k(){if(M=!1,W){var Q=s.unstable_now();D=Q;var le=!0;try{e:{I=!1,C&&(C=!1,P(R),R=-1),S=!0;var ve=j;try{t:{for(ee(Q),_=n(v);_!==null&&!(_.expirationTime>Q&&L());){var qe=_.callback;if(typeof qe=="function"){_.callback=null,j=_.priorityLevel;var We=qe(_.expirationTime<=Q);if(Q=s.unstable_now(),typeof We=="function"){_.callback=We,ee(Q),le=!0;break t}_===n(v)&&i(v),ee(Q)}else i(v);_=n(v)}if(_!==null)le=!0;else{var q=n(g);q!==null&&bt(re,q.startTime-Q),le=!1}}break e}finally{_=null,j=ve,S=!1}le=void 0}}finally{le?U():W=!1}}}var U;if(typeof H=="function")U=function(){H(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Be=O.port2;O.port1.onmessage=k,U=function(){Be.postMessage(null)}}else U=function(){V(k,0)};function bt(Q,le){R=V(function(){Q(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_next=function(Q){switch(j){case 1:case 2:case 3:var le=3;break;default:le=j}var ve=j;j=le;try{return Q()}finally{j=ve}},s.unstable_requestPaint=function(){M=!0},s.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ve=j;j=Q;try{return le()}finally{j=ve}},s.unstable_scheduleCallback=function(Q,le,ve){var qe=s.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?qe+ve:qe):ve=qe,Q){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=ve+We,Q={id:x++,callback:le,priorityLevel:Q,startTime:ve,expirationTime:We,sortIndex:-1},ve>qe?(Q.sortIndex=ve,e(g,Q),n(v)===null&&Q===n(g)&&(C?(P(R),R=-1):C=!0,bt(re,ve-qe))):(Q.sortIndex=We,e(v,Q),I||S||(I=!0,W||(W=!0,U()))),Q},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(Q){var le=j;return function(){var ve=j;j=le;try{return Q.apply(this,arguments)}finally{j=ve}}}})(om)),om}var L0;function SN(){return L0||(L0=1,im.exports=TN()),im.exports}var lm={exports:{}},dn={};var U0;function AN(){if(U0)return dn;U0=1;var s=rg();function e(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(v,g,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:v,containerInfo:g,implementation:x}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(v,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(v,g,null,x)},dn.flushSync=function(v){var g=h.T,x=i.p;try{if(h.T=null,i.p=2,v)return v()}finally{h.T=g,i.p=x,i.d.f()}},dn.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(v,g))},dn.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},dn.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var x=g.as,_=m(x,g.crossOrigin),j=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?i.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:j,fetchPriority:S}):x==="script"&&i.d.X(v,{crossOrigin:_,integrity:j,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=m(g.as,g.crossOrigin);i.d.M(v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(v)},dn.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,_=m(x,g.crossOrigin);i.d.L(v,x,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(v,g){if(typeof v=="string")if(g){var x=m(g.as,g.crossOrigin);i.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(v)},dn.requestFormReset=function(v){i.d.r(v)},dn.unstable_batchedUpdates=function(v,g){return v(g)},dn.useFormState=function(v,g,x){return h.H.useFormState(v,g,x)},dn.useFormStatus=function(){return h.H.useHostTransitionStatus()},dn.version="19.2.4",dn}var B0;function CN(){if(B0)return lm.exports;B0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),lm.exports=AN(),lm.exports}var q0;function RN(){if(q0)return fc;q0=1;var s=SN(),e=rg(),n=CN();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,o=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(o=a.return),t=a.return;while(t)}return a.tag===3?o:null}function h(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function m(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(i(188))}function g(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(i(188));return a!==t?null:t}for(var o=t,c=a;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return v(f),t;if(p===c)return v(f),a;p=p.sibling}throw Error(i(188))}if(o.return!==c.return)o=f,c=p;else{for(var b=!1,E=f.child;E;){if(E===o){b=!0,o=f,c=p;break}if(E===c){b=!0,c=f,o=p;break}E=E.sibling}if(!b){for(E=p.child;E;){if(E===o){b=!0,o=p,c=f;break}if(E===c){b=!0,c=p,o=f;break}E=E.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?t:a}function x(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=x(t),a!==null)return a;t=t.sibling}return null}var _=Object.assign,j=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case V:return"Profiler";case M:return"StrictMode";case re:return"Suspense";case W:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case H:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case ee:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return a=t.displayName||null,a!==null?a:Be(t.type)||"Memo";case A:a=t._payload,t=t._init;try{return Be(t(a))}catch{}}return null}var bt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},qe=[],We=-1;function q(t){return{current:t}}function se(t){0>We||(t.current=qe[We],qe[We]=null,We--)}function ue(t,a){We++,qe[We]=t.current,t.current=a}var pe=q(null),Ne=q(null),ke=q(null),He=q(null);function $t(t,a){switch(ue(ke,a),ue(Ne,t),ue(pe,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?a0(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=a0(a),t=s0(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(pe),ue(pe,t)}function ft(){se(pe),se(Ne),se(ke)}function Yr(t){t.memoizedState!==null&&ue(He,t);var a=pe.current,o=s0(a,t.type);a!==o&&(ue(Ne,t),ue(pe,o))}function Gi(t){Ne.current===t&&(se(pe),se(Ne)),He.current===t&&(se(He),lc._currentValue=ve)}var $i,Yi;function ka(t){if($i===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);$i=a&&a[1]||"",Yi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$i+t+Yi}var ll=!1;function Qr(t,a){if(!t||ll)return"";ll=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var K=J}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(J){K=J}t.call(ae.prototype)}}else{try{throw Error()}catch(J){K=J}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&K&&typeof J.stack=="string")return[J.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],E=p[1];if(b&&E){var z=b.split(`
`),Y=E.split(`
`);for(f=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(c===z.length||f===Y.length)for(c=z.length-1,f=Y.length-1;1<=c&&0<=f&&z[c]!==Y[f];)f--;for(;1<=c&&0<=f;c--,f--)if(z[c]!==Y[f]){if(c!==1||f!==1)do if(c--,f--,0>f||z[c]!==Y[f]){var Z=`
`+z[c].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=c&&0<=f);break}}}finally{ll=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?ka(o):""}function cl(t,a){switch(t.tag){case 26:case 27:case 5:return ka(t.type);case 16:return ka("Lazy");case 13:return t.child!==a&&a!==null?ka("Suspense Fallback"):ka("Suspense");case 19:return ka("SuspenseList");case 0:case 15:return Qr(t.type,!1);case 11:return Qr(t.type.render,!1);case 1:return Qr(t.type,!0);case 31:return ka("Activity");default:return""}}function ul(t){try{var a="",o=null;do a+=cl(t,o),o=t,t=t.return;while(t);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Mt=Object.prototype.hasOwnProperty,Yt=s.unstable_scheduleCallback,Gs=s.unstable_cancelCallback,sf=s.unstable_shouldYield,du=s.unstable_requestPaint,gn=s.unstable_now,Kr=s.unstable_getCurrentPriorityLevel,dl=s.unstable_ImmediatePriority,hl=s.unstable_UserBlockingPriority,$s=s.unstable_NormalPriority,rf=s.unstable_LowPriority,hu=s.unstable_IdlePriority,fu=s.log,pu=s.unstable_setDisableYieldValue,da=null,en=null;function Yn(t){if(typeof fu=="function"&&pu(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(da,t)}catch{}}var At=Math.clz32?Math.clz32:gu,mu=Math.log,Qi=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(mu(t)/Qi|0)|0}var Ia=256,Xr=262144,Ot=4194304;function Da(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ma(t,a,o){var c=t.pendingLanes;if(c===0)return 0;var f=0,p=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var E=c&134217727;return E!==0?(c=E&~p,c!==0?f=Da(c):(b&=E,b!==0?f=Da(b):o||(o=E&~t,o!==0&&(f=Da(o))))):(E=c&~p,E!==0?f=Da(E):b!==0?f=Da(b):o||(o=c&~t,o!==0&&(f=Da(o)))),f===0?0:a!==0&&a!==f&&(a&p)===0&&(p=f&-f,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:f}function ha(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function of(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var t=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),t}function Oa(t){for(var a=[],o=0;31>o;o++)a.push(t);return a}function Jr(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lf(t,a,o,c,f,p){var b=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var E=t.entanglements,z=t.expirationTimes,Y=t.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-At(o),ae=1<<Z;E[Z]=0,z[Z]=-1;var K=Y[Z];if(K!==null)for(Y[Z]=null,Z=0;Z<K.length;Z++){var J=K[Z];J!==null&&(J.lane&=-536870913)}o&=~ae}c!==0&&Wr(t,c,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(b&~a))}function Wr(t,a,o){t.pendingLanes|=a,t.suspendedLanes&=~a;var c=31-At(a);t.entangledLanes|=a,t.entanglements[c]=t.entanglements[c]|1073741824|o&261930}function fl(t,a){var o=t.entangledLanes|=a;for(t=t.entanglements;o;){var c=31-At(o),f=1<<c;f&a|t[c]&a&&(t[c]|=a),o&=~f}}function pl(t,a){var o=a&-a;return o=(o&42)!==0?1:Zr(o),(o&(t.suspendedLanes|a))!==0?0:o}function Zr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function hs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:S0(t.type))}function fa(t,a){var o=le.p;try{return le.p=t,a()}finally{le.p=o}}var pa=Math.random().toString(36).slice(2),zt="__reactFiber$"+pa,Xt="__reactProps$"+pa,za="__reactContainer$"+pa,Ki="__reactEvents$"+pa,cf="__reactListeners$"+pa,xu="__reactHandles$"+pa,bu="__reactResources$"+pa,Pa="__reactMarker$"+pa;function Xi(t){delete t[zt],delete t[Xt],delete t[Ki],delete t[cf],delete t[xu]}function Va(t){var a=t[zt];if(a)return a;for(var o=t.parentNode;o;){if(a=o[za]||o[zt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(t=d0(t);t!==null;){if(o=t[zt])return o;t=d0(t)}return a}t=o,o=t.parentNode}return null}function Qn(t){if(t=t[zt]||t[za]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function zn(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function La(t){var a=t[bu];return a||(a=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pt(t){t[Pa]=!0}var ml=new Set,gl={};function Ua(t,a){Ba(t,a),Ba(t+"Capture",a)}function Ba(t,a){for(gl[t]=a,t=0;t<a.length;t++)ml.add(a[t])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},xl={};function _u(t){return Mt.call(xl,t)?!0:Mt.call(yl,t)?!1:vl.test(t)?xl[t]=!0:(yl[t]=!0,!1)}function Ji(t,a,o){if(_u(a))if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+o)}}function Pn(t,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+o)}}function Vt(t,a,o,c){if(c===null)t.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(a,o,""+c)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ys(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function bl(t,a,o){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(t,a,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Ze(t){if(!t._valueTracker){var a=Ys(t)?"checked":"value";t._valueTracker=bl(t,a,""+t[a])}}function ei(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return t&&(c=Ys(t)?t.checked?"true":"false":t.value),t=c,t!==o?(a.setValue(t),!0):!1}function qa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ti=/[\n"\\]/g;function _n(t){return t.replace(ti,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Wi(t,a,o,c,f,p,b,E){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),a!=null?b==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Jt(a)):t.value!==""+Jt(a)&&(t.value=""+Jt(a)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),a!=null?_l(t,b,Jt(a)):o!=null?_l(t,b,Jt(o)):c!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function wu(t,a,o,c,f,p,b,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Ze(t);return}o=o!=null?""+Jt(o):"",a=a!=null?""+Jt(a):o,E||a===t.value||(t.value=a),t.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=E?t.checked:!!c,t.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),Ze(t)}function _l(t,a,o){a==="number"&&qa(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Qs(t,a,o,c){if(t=t.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=a.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Jt(o),a=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}a!==null||t[f].disabled||(a=t[f])}a!==null&&(a.selected=!0)}}function ju(t,a,o){if(a!=null&&(a=""+Jt(a),a!==t.value&&(t.value=a),o==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=o!=null?""+Jt(o):""}function Ks(t,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(i(92));if(bt(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=Jt(a),t.defaultValue=o,c=t.textContent,c===o&&c!==""&&c!==null&&(t.value=c),Ze(t)}function wn(t,a){if(a){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=a;return}}t.textContent=a}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(t,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":c?t.setProperty(a,o):typeof o!="number"||o===0||Eu.has(a)?a==="float"?t.cssFloat=o:t[a]=(""+o).trim():t[a]=o+"px"}function jl(t,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&o[f]!==c&&wl(t,f,c)}else for(var p in a)a.hasOwnProperty(p)&&wl(t,p,a[p])}function Zi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(t){return Xs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ma(){}var El=null;function Kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Js=null,Fa=null;function ni(t){var a=Qn(t);if(a&&(t=a.stateNode)){var o=t[Xt]||null;e:switch(t=a.stateNode,a.type){case"input":if(Wi(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==t&&c.form===t.form){var f=c[Xt]||null;if(!f)throw Error(i(90));Wi(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===t.form&&ei(c)}break e;case"textarea":ju(t,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Qs(t,!!o.multiple,a,!1)}}}var to=!1;function Ws(t,a,o){if(to)return t(a,o);to=!0;try{var c=t(a);return c}finally{if(to=!1,(Js!==null||Fa!==null)&&(yd(),Js&&(a=Js,t=Fa,Fa=Js=null,ni(a),t)))for(a=0;a<t.length;a++)ni(t[a])}}function ga(t,a){var o=t.stateNode;if(o===null)return null;var c=o[Xt]||null;if(c===null)return null;o=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ai=!1;if(Xn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){ai=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{ai=!1}var Ha=null,Nl=null,si=null;function Tl(){if(si)return si;var t,a=Nl,o=a.length,c,f="value"in Ha?Ha.value:Ha.textContent,p=f.length;for(t=0;t<o&&a[t]===f[t];t++);var b=o-t;for(c=1;c<=b&&a[o-c]===f[p-c];c++);return si=f.slice(t,1<c?1-c:void 0)}function ri(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function fs(){return!0}function va(){return!1}function tn(t){function a(o,c,f,p,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(o=t[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?fs:va,this.isPropagationStopped=va,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),a}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=tn(ps),Zs=_({},ps,{view:0,detail:0}),Sl=tn(Zs),er,no,$a,ao=_({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$a&&($a&&t.type==="mousemove"?(er=t.screenX-$a.screenX,no=t.screenY-$a.screenY):no=er=0,$a=t),er)},movementY:function(t){return"movementY"in t?t.movementY:no}}),Al=tn(ao),ii=_({},ao,{dataTransfer:0}),Tu=tn(ii),Su=_({},Zs,{relatedTarget:0}),oi=tn(Su),Cl=_({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=tn(Cl),so=_({},ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=tn(so),Ru=_({},ps,{data:0}),Ya=tn(Ru),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Du[t])?!!a[t]:!1}function tr(){return Mu}var vn=_({},Zs,{key:function(t){if(t.key){var a=ku[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(t){return t.type==="keypress"?ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=tn(vn),zu=_({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ms=tn(zu),d=_({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),y=tn(d),w=_({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=tn(w),G=_({},ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=tn(G),ce=_({},ps,{newState:0,oldState:0}),Ce=tn(ce),Ct=[9,13,27,32],Qe=Xn&&"CompositionEvent"in window,pt=null;Xn&&"documentMode"in document&&(pt=document.documentMode);var Jn=Xn&&"TextEvent"in window&&!pt,Qa=Xn&&(!Qe||pt&&8<pt&&11>=pt),ya=" ",xa=!1;function li(t,a){switch(t){case"keyup":return Ct.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function Yj(t,a){switch(t){case"compositionend":return ro(a);case"keypress":return a.which!==32?null:(xa=!0,ya);case"textInput":return t=a.data,t===ya&&xa?null:t;default:return null}}function Qj(t,a){if(io)return t==="compositionend"||!Qe&&li(t,a)?(t=Tl(),si=Nl=Ha=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qa&&a.locale!=="ko"?null:a.data;default:return null}}var Kj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Kj[t.type]:a==="textarea"}function mv(t,a,o,c){Js?Fa?Fa.push(c):Fa=[c]:Js=c,a=Nd(a,"onChange"),0<a.length&&(o=new Ga("onChange","change",null,o,c),t.push({event:o,listeners:a}))}var Rl=null,kl=null;function Xj(t){Jx(t,0)}function Pu(t){var a=zn(t);if(ei(a))return t}function gv(t,a){if(t==="change")return a}var vv=!1;if(Xn){var uf;if(Xn){var df="oninput"in document;if(!df){var yv=document.createElement("div");yv.setAttribute("oninput","return;"),df=typeof yv.oninput=="function"}uf=df}else uf=!1;vv=uf&&(!document.documentMode||9<document.documentMode)}function xv(){Rl&&(Rl.detachEvent("onpropertychange",bv),kl=Rl=null)}function bv(t){if(t.propertyName==="value"&&Pu(kl)){var a=[];mv(a,kl,t,Kn(t)),Ws(Xj,a)}}function Jj(t,a,o){t==="focusin"?(xv(),Rl=a,kl=o,Rl.attachEvent("onpropertychange",bv)):t==="focusout"&&xv()}function Wj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(kl)}function Zj(t,a){if(t==="click")return Pu(a)}function eE(t,a){if(t==="input"||t==="change")return Pu(a)}function tE(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Vn=typeof Object.is=="function"?Object.is:tE;function Il(t,a){if(Vn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var o=Object.keys(t),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Mt.call(a,f)||!Vn(t[f],a[f]))return!1}return!0}function _v(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wv(t,a){var o=_v(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=a&&c>=a)return{node:o,offset:a-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_v(o)}}function jv(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?jv(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Ev(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=qa(t.document);a instanceof t.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)t=a.contentWindow;else break;a=qa(t.document)}return a}function hf(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var nE=Xn&&"documentMode"in document&&11>=document.documentMode,oo=null,ff=null,Dl=null,pf=!1;function Nv(t,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pf||oo==null||oo!==qa(c)||(c=oo,"selectionStart"in c&&hf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Dl&&Il(Dl,c)||(Dl=c,c=Nd(ff,"onSelect"),0<c.length&&(a=new Ga("onSelect","select",null,a,o),t.push({event:a,listeners:c}),a.target=oo)))}function ci(t,a){var o={};return o[t.toLowerCase()]=a.toLowerCase(),o["Webkit"+t]="webkit"+a,o["Moz"+t]="moz"+a,o}var lo={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},mf={},Tv={};Xn&&(Tv=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ui(t){if(mf[t])return mf[t];if(!lo[t])return t;var a=lo[t],o;for(o in a)if(a.hasOwnProperty(o)&&o in Tv)return mf[t]=a[o];return t}var Sv=ui("animationend"),Av=ui("animationiteration"),Cv=ui("animationstart"),aE=ui("transitionrun"),sE=ui("transitionstart"),rE=ui("transitioncancel"),Rv=ui("transitionend"),kv=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function ba(t,a){kv.set(t,a),Ua(a,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Wn=[],co=0,vf=0;function Lu(){for(var t=co,a=vf=co=0;a<t;){var o=Wn[a];Wn[a++]=null;var c=Wn[a];Wn[a++]=null;var f=Wn[a];Wn[a++]=null;var p=Wn[a];if(Wn[a++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}p!==0&&Iv(o,f,p)}}function Uu(t,a,o,c){Wn[co++]=t,Wn[co++]=a,Wn[co++]=o,Wn[co++]=c,vf|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function yf(t,a,o,c){return Uu(t,a,o,c),Bu(t)}function di(t,a){return Uu(t,null,null,a),Bu(t)}function Iv(t,a,o){t.lanes|=o;var c=t.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=t.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&a!==null&&(f=31-At(o),t=p.hiddenUpdates,c=t[f],c===null?t[f]=[a]:c.push(a),a.lane=o|536870912),p):null}function Bu(t){if(50<tc)throw tc=0,Sp=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var uo={};function iE(t,a,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,a,o,c){return new iE(t,a,o,c)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gs(t,a){var o=t.alternate;return o===null?(o=Ln(t.tag,a,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=a,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,a=t.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Dv(t,a){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,a=o.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function qu(t,a,o,c,f,p){var b=0;if(c=t,typeof t=="function")xf(t)&&(b=1);else if(typeof t=="string")b=dN(t,o,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Ln(31,o,a,f),t.elementType=D,t.lanes=p,t;case C:return hi(o.children,f,p,a);case M:b=8,f|=24;break;case V:return t=Ln(12,o,a,f|2),t.elementType=V,t.lanes=p,t;case re:return t=Ln(13,o,a,f),t.elementType=re,t.lanes=p,t;case W:return t=Ln(19,o,a,f),t.elementType=W,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:b=10;break e;case P:b=9;break e;case ee:b=11;break e;case R:b=14;break e;case A:b=16,c=null;break e}b=29,o=Error(i(130,t===null?"null":typeof t,"")),c=null}return a=Ln(b,o,a,f),a.elementType=t,a.type=c,a.lanes=p,a}function hi(t,a,o,c){return t=Ln(7,t,c,a),t.lanes=o,t}function bf(t,a,o){return t=Ln(6,t,null,a),t.lanes=o,t}function Mv(t){var a=Ln(18,null,null,0);return a.stateNode=t,a}function _f(t,a,o){return a=Ln(4,t.children!==null?t.children:[],t.key,a),a.lanes=o,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Ov=new WeakMap;function Zn(t,a){if(typeof t=="object"&&t!==null){var o=Ov.get(t);return o!==void 0?o:(a={value:t,source:a,stack:ul(a)},Ov.set(t,a),a)}return{value:t,source:a,stack:ul(a)}}var ho=[],fo=0,Fu=null,Ml=0,ea=[],ta=0,nr=null,Ka=1,Xa="";function vs(t,a){ho[fo++]=Ml,ho[fo++]=Fu,Fu=t,Ml=a}function zv(t,a,o){ea[ta++]=Ka,ea[ta++]=Xa,ea[ta++]=nr,nr=t;var c=Ka;t=Xa;var f=32-At(c)-1;c&=~(1<<f),o+=1;var p=32-At(a)+f;if(30<p){var b=f-f%5;p=(c&(1<<b)-1).toString(32),c>>=b,f-=b,Ka=1<<32-At(a)+f|o<<f|c,Xa=p+t}else Ka=1<<p|o<<f|c,Xa=t}function wf(t){t.return!==null&&(vs(t,1),zv(t,1,0))}function jf(t){for(;t===Fu;)Fu=ho[--fo],ho[fo]=null,Ml=ho[--fo],ho[fo]=null;for(;t===nr;)nr=ea[--ta],ea[ta]=null,Xa=ea[--ta],ea[ta]=null,Ka=ea[--ta],ea[ta]=null}function Pv(t,a){ea[ta++]=Ka,ea[ta++]=Xa,ea[ta++]=nr,Ka=a.id,Xa=a.overflow,nr=t}var nn=null,ct=null,Fe=!1,ar=null,na=!1,Ef=Error(i(519));function sr(t){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(Zn(a,t)),Ef}function Vv(t){var a=t.stateNode,o=t.type,c=t.memoizedProps;switch(a[zt]=t,a[Xt]=c,o){case"dialog":Oe("cancel",a),Oe("close",a);break;case"iframe":case"object":case"embed":Oe("load",a);break;case"video":case"audio":for(o=0;o<ac.length;o++)Oe(ac[o],a);break;case"source":Oe("error",a);break;case"img":case"image":case"link":Oe("error",a),Oe("load",a);break;case"details":Oe("toggle",a);break;case"input":Oe("invalid",a),wu(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Oe("invalid",a);break;case"textarea":Oe("invalid",a),Ks(a,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||t0(a.textContent,o)?(c.popover!=null&&(Oe("beforetoggle",a),Oe("toggle",a)),c.onScroll!=null&&Oe("scroll",a),c.onScrollEnd!=null&&Oe("scrollend",a),c.onClick!=null&&(a.onclick=ma),a=!0):a=!1,a||sr(t,!0)}function Lv(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:na=!1;return;case 27:case 3:na=!0;return;default:nn=nn.return}}function po(t){if(t!==nn)return!1;if(!Fe)return Lv(t),Fe=!0,!1;var a=t.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||qp(t.type,t.memoizedProps)),o=!o),o&&ct&&sr(t),Lv(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ct=u0(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ct=u0(t)}else a===27?(a=ct,yr(t.type)?(t=Yp,Yp=null,ct=t):ct=a):ct=nn?sa(t.stateNode.nextSibling):null;return!0}function fi(){ct=nn=null,Fe=!1}function Nf(){var t=ar;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),ar=null),t}function Ol(t){ar===null?ar=[t]:ar.push(t)}var Tf=q(null),pi=null,ys=null;function rr(t,a,o){ue(Tf,a._currentValue),a._currentValue=o}function xs(t){t._currentValue=Tf.current,se(Tf)}function Sf(t,a,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),t===o)break;t=t.return}}function Af(t,a,o,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var z=0;z<a.length;z++)if(E.context===a[z]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),Sf(p.return,o,t),c||(b=null);break e}p=E.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),Sf(b,o,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function mo(t,a,o,c){t=null;for(var f=a,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var E=f.type;Vn(f.pendingProps.value,b.value)||(t!==null?t.push(E):t=[E])}}else if(f===He.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(lc):t=[lc])}f=f.return}t!==null&&Af(a,t,o,c),a.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function mi(t){pi=t,ys=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Uv(pi,t)}function Gu(t,a){return pi===null&&mi(t),Uv(t,a)}function Uv(t,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},ys===null){if(t===null)throw Error(i(308));ys=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ys=ys.next=a;return o}var oE=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(o,c){t.push(c)}};this.abort=function(){a.aborted=!0,t.forEach(function(o){return o()})}},lE=s.unstable_scheduleCallback,cE=s.unstable_NormalPriority,Lt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new oE,data:new Map,refCount:0}}function zl(t){t.refCount--,t.refCount===0&&lE(cE,function(){t.controller.abort()})}var Pl=null,Rf=0,go=0,vo=null;function uE(t,a){if(Pl===null){var o=Pl=[];Rf=0,go=Dp(),vo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Rf++,a.then(Bv,Bv),a}function Bv(){if(--Rf===0&&Pl!==null){vo!==null&&(vo.status="fulfilled");var t=Pl;Pl=null,go=0,vo=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function dE(t,a){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return t.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var qv=Q.S;Q.S=function(t,a){Nx=gn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&uE(t,a),qv!==null&&qv(t,a)};var gi=q(null);function kf(){var t=gi.current;return t!==null?t:it.pooledCache}function $u(t,a){a===null?ue(gi,gi.current):ue(gi,a.pool)}function Fv(){var t=kf();return t===null?null:{parent:Lt._currentValue,pool:t}}var yo=Error(i(460)),If=Error(i(474)),Yu=Error(i(542)),Qu={then:function(){}};function Hv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gv(t,a,o){switch(o=t[o],o===void 0?t.push(a):o!==a&&(a.then(ma,ma),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Yv(t),t;default:if(typeof a.status=="string")a.then(ma,ma);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Yv(t),t}throw yi=a,yo}}function vi(t){try{var a=t._init;return a(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(yi=o,yo):o}}var yi=null;function $v(){if(yi===null)throw Error(i(459));var t=yi;return yi=null,t}function Yv(t){if(t===yo||t===Yu)throw Error(i(483))}var xo=null,Vl=0;function Ku(t){var a=Vl;return Vl+=1,xo===null&&(xo=[]),Gv(xo,t,a)}function Ll(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Xu(t,a){throw a.$$typeof===j?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Qv(t){function a(F,B){if(t){var $=F.deletions;$===null?(F.deletions=[B],F.flags|=16):$.push(B)}}function o(F,B){if(!t)return null;for(;B!==null;)a(F,B),B=B.sibling;return null}function c(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function f(F,B){return F=gs(F,B),F.index=0,F.sibling=null,F}function p(F,B,$){return F.index=$,t?($=F.alternate,$!==null?($=$.index,$<B?(F.flags|=67108866,B):$):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function b(F){return t&&F.alternate===null&&(F.flags|=67108866),F}function E(F,B,$,te){return B===null||B.tag!==6?(B=bf($,F.mode,te),B.return=F,B):(B=f(B,$),B.return=F,B)}function z(F,B,$,te){var ye=$.type;return ye===C?Z(F,B,$.props.children,te,$.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&vi(ye)===B.type)?(B=f(B,$.props),Ll(B,$),B.return=F,B):(B=qu($.type,$.key,$.props,null,F.mode,te),Ll(B,$),B.return=F,B)}function Y(F,B,$,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=_f($,F.mode,te),B.return=F,B):(B=f(B,$.children||[]),B.return=F,B)}function Z(F,B,$,te,ye){return B===null||B.tag!==7?(B=hi($,F.mode,te,ye),B.return=F,B):(B=f(B,$),B.return=F,B)}function ae(F,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=bf(""+B,F.mode,$),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return $=qu(B.type,B.key,B.props,null,F.mode,$),Ll($,B),$.return=F,$;case I:return B=_f(B,F.mode,$),B.return=F,B;case A:return B=vi(B),ae(F,B,$)}if(bt(B)||U(B))return B=hi(B,F.mode,$,null),B.return=F,B;if(typeof B.then=="function")return ae(F,Ku(B),$);if(B.$$typeof===H)return ae(F,Gu(F,B),$);Xu(F,B)}return null}function K(F,B,$,te){var ye=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ye!==null?null:E(F,B,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return $.key===ye?z(F,B,$,te):null;case I:return $.key===ye?Y(F,B,$,te):null;case A:return $=vi($),K(F,B,$,te)}if(bt($)||U($))return ye!==null?null:Z(F,B,$,te,null);if(typeof $.then=="function")return K(F,B,Ku($),te);if($.$$typeof===H)return K(F,B,Gu(F,$),te);Xu(F,$)}return null}function J(F,B,$,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get($)||null,E(B,F,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return F=F.get(te.key===null?$:te.key)||null,z(B,F,te,ye);case I:return F=F.get(te.key===null?$:te.key)||null,Y(B,F,te,ye);case A:return te=vi(te),J(F,B,$,te,ye)}if(bt(te)||U(te))return F=F.get($)||null,Z(B,F,te,ye,null);if(typeof te.then=="function")return J(F,B,$,Ku(te),ye);if(te.$$typeof===H)return J(F,B,$,Gu(B,te),ye);Xu(B,te)}return null}function me(F,B,$,te){for(var ye=null,$e=null,ge=B,Ie=B=0,Pe=null;ge!==null&&Ie<$.length;Ie++){ge.index>Ie?(Pe=ge,ge=null):Pe=ge.sibling;var Ye=K(F,ge,$[Ie],te);if(Ye===null){ge===null&&(ge=Pe);break}t&&ge&&Ye.alternate===null&&a(F,ge),B=p(Ye,B,Ie),$e===null?ye=Ye:$e.sibling=Ye,$e=Ye,ge=Pe}if(Ie===$.length)return o(F,ge),Fe&&vs(F,Ie),ye;if(ge===null){for(;Ie<$.length;Ie++)ge=ae(F,$[Ie],te),ge!==null&&(B=p(ge,B,Ie),$e===null?ye=ge:$e.sibling=ge,$e=ge);return Fe&&vs(F,Ie),ye}for(ge=c(ge);Ie<$.length;Ie++)Pe=J(ge,F,Ie,$[Ie],te),Pe!==null&&(t&&Pe.alternate!==null&&ge.delete(Pe.key===null?Ie:Pe.key),B=p(Pe,B,Ie),$e===null?ye=Pe:$e.sibling=Pe,$e=Pe);return t&&ge.forEach(function(jr){return a(F,jr)}),Fe&&vs(F,Ie),ye}function we(F,B,$,te){if($==null)throw Error(i(151));for(var ye=null,$e=null,ge=B,Ie=B=0,Pe=null,Ye=$.next();ge!==null&&!Ye.done;Ie++,Ye=$.next()){ge.index>Ie?(Pe=ge,ge=null):Pe=ge.sibling;var jr=K(F,ge,Ye.value,te);if(jr===null){ge===null&&(ge=Pe);break}t&&ge&&jr.alternate===null&&a(F,ge),B=p(jr,B,Ie),$e===null?ye=jr:$e.sibling=jr,$e=jr,ge=Pe}if(Ye.done)return o(F,ge),Fe&&vs(F,Ie),ye;if(ge===null){for(;!Ye.done;Ie++,Ye=$.next())Ye=ae(F,Ye.value,te),Ye!==null&&(B=p(Ye,B,Ie),$e===null?ye=Ye:$e.sibling=Ye,$e=Ye);return Fe&&vs(F,Ie),ye}for(ge=c(ge);!Ye.done;Ie++,Ye=$.next())Ye=J(ge,F,Ie,Ye.value,te),Ye!==null&&(t&&Ye.alternate!==null&&ge.delete(Ye.key===null?Ie:Ye.key),B=p(Ye,B,Ie),$e===null?ye=Ye:$e.sibling=Ye,$e=Ye);return t&&ge.forEach(function(wN){return a(F,wN)}),Fe&&vs(F,Ie),ye}function rt(F,B,$,te){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case S:e:{for(var ye=$.key;B!==null;){if(B.key===ye){if(ye=$.type,ye===C){if(B.tag===7){o(F,B.sibling),te=f(B,$.props.children),te.return=F,F=te;break e}}else if(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&vi(ye)===B.type){o(F,B.sibling),te=f(B,$.props),Ll(te,$),te.return=F,F=te;break e}o(F,B);break}else a(F,B);B=B.sibling}$.type===C?(te=hi($.props.children,F.mode,te,$.key),te.return=F,F=te):(te=qu($.type,$.key,$.props,null,F.mode,te),Ll(te,$),te.return=F,F=te)}return b(F);case I:e:{for(ye=$.key;B!==null;){if(B.key===ye)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){o(F,B.sibling),te=f(B,$.children||[]),te.return=F,F=te;break e}else{o(F,B);break}else a(F,B);B=B.sibling}te=_f($,F.mode,te),te.return=F,F=te}return b(F);case A:return $=vi($),rt(F,B,$,te)}if(bt($))return me(F,B,$,te);if(U($)){if(ye=U($),typeof ye!="function")throw Error(i(150));return $=ye.call($),we(F,B,$,te)}if(typeof $.then=="function")return rt(F,B,Ku($),te);if($.$$typeof===H)return rt(F,B,Gu(F,$),te);Xu(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(o(F,B.sibling),te=f(B,$),te.return=F,F=te):(o(F,B),te=bf($,F.mode,te),te.return=F,F=te),b(F)):o(F,B)}return function(F,B,$,te){try{Vl=0;var ye=rt(F,B,$,te);return xo=null,ye}catch(ge){if(ge===yo||ge===Yu)throw ge;var $e=Ln(29,ge,null,F.mode);return $e.lanes=te,$e.return=F,$e}}}var xi=Qv(!0),Kv=Qv(!1),ir=!1;function Df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function lr(t,a,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=Bu(t),Iv(t,null,o),a}return Uu(t,c,a,o),Bu(t)}function Ul(t,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var c=a.lanes;c&=t.pendingLanes,o|=c,a.lanes=o,fl(t,o)}}function Of(t,a){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?f=p=a:p=p.next=a}else f=p=a;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=a:t.next=a,o.lastBaseUpdate=a}var zf=!1;function Bl(){if(zf){var t=vo;if(t!==null)throw t}}function ql(t,a,o,c){zf=!1;var f=t.updateQueue;ir=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var z=E,Y=z.next;z.next=null,b===null?p=Y:b.next=Y,b=z;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==b&&(E===null?Z.firstBaseUpdate=Y:E.next=Y,Z.lastBaseUpdate=z))}if(p!==null){var ae=f.baseState;b=0,Z=Y=z=null,E=p;do{var K=E.lane&-536870913,J=K!==E.lane;if(J?(ze&K)===K:(c&K)===K){K!==0&&K===go&&(zf=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var me=t,we=E;K=a;var rt=o;switch(we.tag){case 1:if(me=we.payload,typeof me=="function"){ae=me.call(rt,ae,K);break e}ae=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,K=typeof me=="function"?me.call(rt,ae,K):me,K==null)break e;ae=_({},ae,K);break e;case 2:ir=!0}}K=E.callback,K!==null&&(t.flags|=64,J&&(t.flags|=8192),J=f.callbacks,J===null?f.callbacks=[K]:J.push(K))}else J={lane:K,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(Y=Z=J,z=ae):Z=Z.next=J,b|=K;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;J=E,E=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);Z===null&&(z=ae),f.baseState=z,f.firstBaseUpdate=Y,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),fr|=b,t.lanes=b,t.memoizedState=ae}}function Xv(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function Jv(t,a){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Xv(o[t],a)}var bo=q(null),Ju=q(0);function Wv(t,a){t=As,ue(Ju,t),ue(bo,a),As=t|a.baseLanes}function Pf(){ue(Ju,As),ue(bo,bo.current)}function Vf(){As=Ju.current,se(bo),se(Ju)}var Un=q(null),aa=null;function cr(t){var a=t.alternate;ue(Rt,Rt.current&1),ue(Un,t),aa===null&&(a===null||bo.current!==null||a.memoizedState!==null)&&(aa=t)}function Lf(t){ue(Rt,Rt.current),ue(Un,t),aa===null&&(aa=t)}function Zv(t){t.tag===22?(ue(Rt,Rt.current),ue(Un,t),aa===null&&(aa=t)):ur()}function ur(){ue(Rt,Rt.current),ue(Un,Un.current)}function Bn(t){se(Un),aa===t&&(aa=null),se(Rt)}var Rt=q(0);function Wu(t){for(var a=t;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Gp(o)||$p(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var bs=0,Re=null,at=null,Ut=null,Zu=!1,_o=!1,bi=!1,ed=0,Fl=0,wo=null,hE=0;function Et(){throw Error(i(321))}function Uf(t,a){if(a===null)return!1;for(var o=0;o<a.length&&o<t.length;o++)if(!Vn(t[o],a[o]))return!1;return!0}function Bf(t,a,o,c,f,p){return bs=p,Re=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=t===null||t.memoizedState===null?zy:np,bi=!1,p=o(c,f),bi=!1,_o&&(p=ty(a,o,c,f)),ey(t),p}function ey(t){Q.H=$l;var a=at!==null&&at.next!==null;if(bs=0,Ut=at=Re=null,Zu=!1,Fl=0,wo=null,a)throw Error(i(300));t===null||Bt||(t=t.dependencies,t!==null&&Hu(t)&&(Bt=!0))}function ty(t,a,o,c){Re=t;var f=0;do{if(_o&&(wo=null),Fl=0,_o=!1,25<=f)throw Error(i(301));if(f+=1,Ut=at=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=Py,p=a(o,c)}while(_o);return p}function fE(){var t=Q.H,a=t.useState()[0];return a=typeof a.then=="function"?Hl(a):a,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Re.flags|=1024),a}function qf(){var t=ed!==0;return ed=0,t}function Ff(t,a,o){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~o}function Hf(t){if(Zu){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Zu=!1}bs=0,Ut=at=Re=null,_o=!1,Fl=ed=0,wo=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Re.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function kt(){if(at===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var a=Ut===null?Re.memoizedState:Ut.next;if(a!==null)Ut=a,at=t;else{if(t===null)throw Re.alternate===null?Error(i(467)):Error(i(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ut===null?Re.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(t){var a=Fl;return Fl+=1,wo===null&&(wo=[]),t=Gv(wo,t,a),a=Re,(Ut===null?a.memoizedState:Ut.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?zy:np),t}function nd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Hl(t);if(t.$$typeof===H)return an(t)}throw Error(i(438,String(t)))}function Gf(t){var a=null,o=Re.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=Re.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=td(),Re.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(t),c=0;c<t;c++)o[c]=L;return a.index++,o}function _s(t,a){return typeof a=="function"?a(t):a}function ad(t){var a=kt();return $f(a,at,t)}function $f(t,a,o){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var f=t.baseQueue,p=c.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}a.baseQueue=f=p,c.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{a=f.next;var E=b=null,z=null,Y=a,Z=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(ze&ae)===ae:(bs&ae)===ae){var K=Y.revertLane;if(K===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===go&&(Z=!0);else if((bs&K)===K){Y=Y.next,K===go&&(Z=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(E=z=ae,b=p):z=z.next=ae,Re.lanes|=K,fr|=K;ae=Y.action,bi&&o(p,ae),p=Y.hasEagerState?Y.eagerState:o(p,ae)}else K={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(E=z=K,b=p):z=z.next=K,Re.lanes|=ae,fr|=ae;Y=Y.next}while(Y!==null&&Y!==a);if(z===null?b=p:z.next=E,!Vn(p,t.memoizedState)&&(Bt=!0,Z&&(o=vo,o!==null)))throw o;t.memoizedState=p,t.baseState=b,t.baseQueue=z,c.lastRenderedState=p}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Yf(t){var a=kt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,p=a.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do p=t(p,b.action),b=b.next;while(b!==f);Vn(p,a.memoizedState)||(Bt=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,c]}function ny(t,a,o){var c=Re,f=kt(),p=Fe;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=a();var b=!Vn((at||f).memoizedState,o);if(b&&(f.memoizedState=o,Bt=!0),f=f.queue,Xf(ry.bind(null,c,f,t),[t]),f.getSnapshot!==a||b||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,jo(9,{destroy:void 0},sy.bind(null,c,f,o,a),null),it===null)throw Error(i(349));p||(bs&127)!==0||ay(c,a,o)}return o}function ay(t,a,o){t.flags|=16384,t={getSnapshot:a,value:o},a=Re.updateQueue,a===null?(a=td(),Re.updateQueue=a,a.stores=[t]):(o=a.stores,o===null?a.stores=[t]:o.push(t))}function sy(t,a,o,c){a.value=o,a.getSnapshot=c,iy(a)&&oy(t)}function ry(t,a,o){return o(function(){iy(a)&&oy(t)})}function iy(t){var a=t.getSnapshot;t=t.value;try{var o=a();return!Vn(t,o)}catch{return!0}}function oy(t){var a=di(t,2);a!==null&&Sn(a,t,2)}function Qf(t){var a=yn();if(typeof t=="function"){var o=t;if(t=o(),bi){Yn(!0);try{o()}finally{Yn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:t},a}function ly(t,a,o,c){return t.baseState=o,$f(t,at,typeof c=="function"?c:_s)}function pE(t,a,o,c,f){if(id(t))throw Error(i(485));if(t=a.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Q.T!==null?o(!0):p.isTransition=!1,c(p),o=a.pending,o===null?(p.next=a.pending=p,cy(a,p)):(p.next=o.next,a.pending=o.next=p)}}function cy(t,a){var o=a.action,c=a.payload,f=t.state;if(a.isTransition){var p=Q.T,b={};Q.T=b;try{var E=o(f,c),z=Q.S;z!==null&&z(b,E),uy(t,a,E)}catch(Y){Kf(t,a,Y)}finally{p!==null&&b.types!==null&&(p.types=b.types),Q.T=p}}else try{p=o(f,c),uy(t,a,p)}catch(Y){Kf(t,a,Y)}}function uy(t,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){dy(t,a,c)},function(c){return Kf(t,a,c)}):dy(t,a,o)}function dy(t,a,o){a.status="fulfilled",a.value=o,hy(a),t.state=o,a=t.pending,a!==null&&(o=a.next,o===a?t.pending=null:(o=o.next,a.next=o,cy(t,o)))}function Kf(t,a,o){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,hy(a),a=a.next;while(a!==c)}t.action=null}function hy(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function fy(t,a){return a}function py(t,a){if(Fe){var o=it.formState;if(o!==null){e:{var c=Re;if(Fe){if(ct){t:{for(var f=ct,p=na;f.nodeType!==8;){if(!p){f=null;break t}if(f=sa(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ct=sa(f.nextSibling),c=f.data==="F!";break e}}sr(c)}c=!1}c&&(a=o[0])}}return o=yn(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:a},o.queue=c,o=Dy.bind(null,Re,c),c.dispatch=o,c=Qf(!1),p=tp.bind(null,Re,!1,c.queue),c=yn(),f={state:a,dispatch:null,action:t,pending:null},c.queue=f,o=pE.bind(null,Re,f,p,o),f.dispatch=o,c.memoizedState=t,[a,o,!1]}function my(t){var a=kt();return gy(a,at,t)}function gy(t,a,o){if(a=$f(t,a,fy)[0],t=ad(_s)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Hl(a)}catch(b){throw b===yo?Yu:b}else c=a;a=kt();var f=a.queue,p=f.dispatch;return o!==a.memoizedState&&(Re.flags|=2048,jo(9,{destroy:void 0},mE.bind(null,f,o),null)),[c,p,t]}function mE(t,a){t.action=a}function vy(t){var a=kt(),o=at;if(o!==null)return gy(a,o,t);kt(),a=a.memoizedState,o=kt();var c=o.queue.dispatch;return o.memoizedState=t,[a,c,!1]}function jo(t,a,o,c){return t={tag:t,create:o,deps:c,inst:a,next:null},a=Re.updateQueue,a===null&&(a=td(),Re.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,a.lastEffect=t),t}function yy(){return kt().memoizedState}function sd(t,a,o,c){var f=yn();Re.flags|=t,f.memoizedState=jo(1|a,{destroy:void 0},o,c===void 0?null:c)}function rd(t,a,o,c){var f=kt();c=c===void 0?null:c;var p=f.memoizedState.inst;at!==null&&c!==null&&Uf(c,at.memoizedState.deps)?f.memoizedState=jo(a,p,o,c):(Re.flags|=t,f.memoizedState=jo(1|a,p,o,c))}function xy(t,a){sd(8390656,8,t,a)}function Xf(t,a){rd(2048,8,t,a)}function gE(t){Re.flags|=4;var a=Re.updateQueue;if(a===null)a=td(),Re.updateQueue=a,a.events=[t];else{var o=a.events;o===null?a.events=[t]:o.push(t)}}function by(t){var a=kt().memoizedState;return gE({ref:a,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function _y(t,a){return rd(4,2,t,a)}function wy(t,a){return rd(4,4,t,a)}function jy(t,a){if(typeof a=="function"){t=t();var o=a(t);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Ey(t,a,o){o=o!=null?o.concat([t]):null,rd(4,4,jy.bind(null,a,t),o)}function Jf(){}function Ny(t,a){var o=kt();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&Uf(a,c[1])?c[0]:(o.memoizedState=[t,a],t)}function Ty(t,a){var o=kt();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&Uf(a,c[1]))return c[0];if(c=t(),bi){Yn(!0);try{t()}finally{Yn(!1)}}return o.memoizedState=[c,a],c}function Wf(t,a,o){return o===void 0||(bs&1073741824)!==0&&(ze&261930)===0?t.memoizedState=a:(t.memoizedState=o,t=Sx(),Re.lanes|=t,fr|=t,o)}function Sy(t,a,o,c){return Vn(o,a)?o:bo.current!==null?(t=Wf(t,o,c),Vn(t,a)||(Bt=!0),t):(bs&42)===0||(bs&1073741824)!==0&&(ze&261930)===0?(Bt=!0,t.memoizedState=o):(t=Sx(),Re.lanes|=t,fr|=t,a)}function Ay(t,a,o,c,f){var p=le.p;le.p=p!==0&&8>p?p:8;var b=Q.T,E={};Q.T=E,tp(t,!1,a,o);try{var z=f(),Y=Q.S;if(Y!==null&&Y(E,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=dE(z,c);Gl(t,a,Z,Hn(t))}else Gl(t,a,c,Hn(t))}catch(ae){Gl(t,a,{then:function(){},status:"rejected",reason:ae},Hn())}finally{le.p=p,b!==null&&E.types!==null&&(b.types=E.types),Q.T=b}}function vE(){}function Zf(t,a,o,c){if(t.tag!==5)throw Error(i(476));var f=Cy(t).queue;Ay(t,f,a,ve,o===null?vE:function(){return Ry(t),o(c)})}function Cy(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:ve},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:o},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Ry(t){var a=Cy(t);a.next===null&&(a=t.alternate.memoizedState),Gl(t,a.next.queue,{},Hn())}function ep(){return an(lc)}function ky(){return kt().memoizedState}function Iy(){return kt().memoizedState}function yE(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var o=Hn();t=or(o);var c=lr(a,t,o);c!==null&&(Sn(c,a,o),Ul(c,a,o)),a={cache:Cf()},t.payload=a;return}a=a.return}}function xE(t,a,o){var c=Hn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},id(t)?My(a,o):(o=yf(t,a,o,c),o!==null&&(Sn(o,t,c),Oy(o,a,c)))}function Dy(t,a,o){var c=Hn();Gl(t,a,o,c)}function Gl(t,a,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(id(t))My(a,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,E=p(b,o);if(f.hasEagerState=!0,f.eagerState=E,Vn(E,b))return Uu(t,a,f,0),it===null&&Lu(),!1}catch{}if(o=yf(t,a,f,c),o!==null)return Sn(o,t,c),Oy(o,a,c),!0}return!1}function tp(t,a,o,c){if(c={lane:2,revertLane:Dp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},id(t)){if(a)throw Error(i(479))}else a=yf(t,o,c,2),a!==null&&Sn(a,t,2)}function id(t){var a=t.alternate;return t===Re||a!==null&&a===Re}function My(t,a){_o=Zu=!0;var o=t.pending;o===null?a.next=a:(a.next=o.next,o.next=a),t.pending=a}function Oy(t,a,o){if((o&4194048)!==0){var c=a.lanes;c&=t.pendingLanes,o|=c,a.lanes=o,fl(t,o)}}var $l={readContext:an,use:nd,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};$l.useEffectEvent=Et;var zy={readContext:an,use:nd,useCallback:function(t,a){return yn().memoizedState=[t,a===void 0?null:a],t},useContext:an,useEffect:xy,useImperativeHandle:function(t,a,o){o=o!=null?o.concat([t]):null,sd(4194308,4,jy.bind(null,a,t),o)},useLayoutEffect:function(t,a){return sd(4194308,4,t,a)},useInsertionEffect:function(t,a){sd(4,2,t,a)},useMemo:function(t,a){var o=yn();a=a===void 0?null:a;var c=t();if(bi){Yn(!0);try{t()}finally{Yn(!1)}}return o.memoizedState=[c,a],c},useReducer:function(t,a,o){var c=yn();if(o!==void 0){var f=o(a);if(bi){Yn(!0);try{o(a)}finally{Yn(!1)}}}else f=a;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=xE.bind(null,Re,t),[c.memoizedState,t]},useRef:function(t){var a=yn();return t={current:t},a.memoizedState=t},useState:function(t){t=Qf(t);var a=t.queue,o=Dy.bind(null,Re,a);return a.dispatch=o,[t.memoizedState,o]},useDebugValue:Jf,useDeferredValue:function(t,a){var o=yn();return Wf(o,t,a)},useTransition:function(){var t=Qf(!1);return t=Ay.bind(null,Re,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,o){var c=Re,f=yn();if(Fe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),it===null)throw Error(i(349));(ze&127)!==0||ay(c,a,o)}f.memoizedState=o;var p={value:o,getSnapshot:a};return f.queue=p,xy(ry.bind(null,c,p,t),[t]),c.flags|=2048,jo(9,{destroy:void 0},sy.bind(null,c,p,o,a),null),o},useId:function(){var t=yn(),a=it.identifierPrefix;if(Fe){var o=Xa,c=Ka;o=(c&~(1<<32-At(c)-1)).toString(32)+o,a="_"+a+"R_"+o,o=ed++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=hE++,a="_"+a+"r_"+o.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:ep,useFormState:py,useActionState:py,useOptimistic:function(t){var a=yn();a.memoizedState=a.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=tp.bind(null,Re,!0,o),o.dispatch=a,[t,a]},useMemoCache:Gf,useCacheRefresh:function(){return yn().memoizedState=yE.bind(null,Re)},useEffectEvent:function(t){var a=yn(),o={impl:t};return a.memoizedState=o,function(){if((Ke&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},np={readContext:an,use:nd,useCallback:Ny,useContext:an,useEffect:Xf,useImperativeHandle:Ey,useInsertionEffect:_y,useLayoutEffect:wy,useMemo:Ty,useReducer:ad,useRef:yy,useState:function(){return ad(_s)},useDebugValue:Jf,useDeferredValue:function(t,a){var o=kt();return Sy(o,at.memoizedState,t,a)},useTransition:function(){var t=ad(_s)[0],a=kt().memoizedState;return[typeof t=="boolean"?t:Hl(t),a]},useSyncExternalStore:ny,useId:ky,useHostTransitionStatus:ep,useFormState:my,useActionState:my,useOptimistic:function(t,a){var o=kt();return ly(o,at,t,a)},useMemoCache:Gf,useCacheRefresh:Iy};np.useEffectEvent=by;var Py={readContext:an,use:nd,useCallback:Ny,useContext:an,useEffect:Xf,useImperativeHandle:Ey,useInsertionEffect:_y,useLayoutEffect:wy,useMemo:Ty,useReducer:Yf,useRef:yy,useState:function(){return Yf(_s)},useDebugValue:Jf,useDeferredValue:function(t,a){var o=kt();return at===null?Wf(o,t,a):Sy(o,at.memoizedState,t,a)},useTransition:function(){var t=Yf(_s)[0],a=kt().memoizedState;return[typeof t=="boolean"?t:Hl(t),a]},useSyncExternalStore:ny,useId:ky,useHostTransitionStatus:ep,useFormState:vy,useActionState:vy,useOptimistic:function(t,a){var o=kt();return at!==null?ly(o,at,t,a):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:Iy};Py.useEffectEvent=by;function ap(t,a,o,c){a=t.memoizedState,o=o(c,a),o=o==null?a:_({},a,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var sp={enqueueSetState:function(t,a,o){t=t._reactInternals;var c=Hn(),f=or(c);f.payload=a,o!=null&&(f.callback=o),a=lr(t,f,c),a!==null&&(Sn(a,t,c),Ul(a,t,c))},enqueueReplaceState:function(t,a,o){t=t._reactInternals;var c=Hn(),f=or(c);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=lr(t,f,c),a!==null&&(Sn(a,t,c),Ul(a,t,c))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var o=Hn(),c=or(o);c.tag=2,a!=null&&(c.callback=a),a=lr(t,c,o),a!==null&&(Sn(a,t,o),Ul(a,t,o))}};function Vy(t,a,o,c,f,p,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,b):a.prototype&&a.prototype.isPureReactComponent?!Il(o,c)||!Il(f,p):!0}function Ly(t,a,o,c){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==t&&sp.enqueueReplaceState(a,a.state,null)}function _i(t,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(t=t.defaultProps){o===a&&(o=_({},o));for(var f in t)o[f]===void 0&&(o[f]=t[f])}return o}function Uy(t){Vu(t)}function By(t){console.error(t)}function qy(t){Vu(t)}function od(t,a){try{var o=t.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Fy(t,a,o){try{var c=t.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rp(t,a,o){return o=or(o),o.tag=3,o.payload={element:null},o.callback=function(){od(t,a)},o}function Hy(t){return t=or(t),t.tag=3,t}function Gy(t,a,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;t.payload=function(){return f(p)},t.callback=function(){Fy(a,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Fy(a,o,c),typeof f!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function bE(t,a,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&mo(a,o,f,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return aa===null?xd():o.alternate===null&&Nt===0&&(Nt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Qu?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),Rp(t,c,f)),!1;case 22:return o.flags|=65536,c===Qu?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),Rp(t,c,f)),!1}throw Error(i(435,o.tag))}return Rp(t,c,f),xd(),!1}if(Fe)return a=Un.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==Ef&&(t=Error(i(422),{cause:c}),Ol(Zn(t,o)))):(c!==Ef&&(a=Error(i(423),{cause:c}),Ol(Zn(a,o))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=Zn(c,o),f=rp(t.stateNode,c,f),Of(t,f),Nt!==4&&(Nt=2)),!1;var p=Error(i(520),{cause:c});if(p=Zn(p,o),ec===null?ec=[p]:ec.push(p),Nt!==4&&(Nt=2),a===null)return!0;c=Zn(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,t=f&-f,o.lanes|=t,t=rp(o.stateNode,c,t),Of(o,t),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(pr===null||!pr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Hy(f),Gy(f,t,o,c),Of(o,f),!1}o=o.return}while(o!==null);return!1}var ip=Error(i(461)),Bt=!1;function sn(t,a,o,c){a.child=t===null?Kv(a,null,o,c):xi(a,t.child,o,c)}function $y(t,a,o,c,f){o=o.render;var p=a.ref;if("ref"in c){var b={};for(var E in c)E!=="ref"&&(b[E]=c[E])}else b=c;return mi(a),c=Bf(t,a,o,b,p,f),E=qf(),t!==null&&!Bt?(Ff(t,a,f),ws(t,a,f)):(Fe&&E&&wf(a),a.flags|=1,sn(t,a,c,f),a.child)}function Yy(t,a,o,c,f){if(t===null){var p=o.type;return typeof p=="function"&&!xf(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,Qy(t,a,p,c,f)):(t=qu(o.type,null,c,a,a.mode,f),t.ref=a.ref,t.return=a,a.child=t)}if(p=t.child,!pp(t,f)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:Il,o(b,c)&&t.ref===a.ref)return ws(t,a,f)}return a.flags|=1,t=gs(p,c),t.ref=a.ref,t.return=a,a.child=t}function Qy(t,a,o,c,f){if(t!==null){var p=t.memoizedProps;if(Il(p,c)&&t.ref===a.ref)if(Bt=!1,a.pendingProps=c=p,pp(t,f))(t.flags&131072)!==0&&(Bt=!0);else return a.lanes=t.lanes,ws(t,a,f)}return op(t,a,o,c,f)}function Ky(t,a,o,c){var f=c.children,p=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,t!==null){for(c=a.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,a.child=null;return Xy(t,a,p,o,c)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(a,p!==null?p.cachePool:null),p!==null?Wv(a,p):Pf(),Zv(a);else return c=a.lanes=536870912,Xy(t,a,p!==null?p.baseLanes|o:o,o,c)}else p!==null?($u(a,p.cachePool),Wv(a,p),ur(),a.memoizedState=null):(t!==null&&$u(a,null),Pf(),ur());return sn(t,a,f,o),a.child}function Yl(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Xy(t,a,o,c,f){var p=kf();return p=p===null?null:{parent:Lt._currentValue,pool:p},a.memoizedState={baseLanes:o,cachePool:p},t!==null&&$u(a,null),Pf(),Zv(a),t!==null&&mo(t,a,c,!0),a.childLanes=f,null}function ld(t,a){return a=ud({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function Jy(t,a,o){return xi(a,t.child,null,o),t=ld(a,a.pendingProps),t.flags|=2,Bn(a),a.memoizedState=null,t}function _E(t,a,o){var c=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Fe){if(c.mode==="hidden")return t=ld(a,c),a.lanes=536870912,Yl(null,t);if(Lf(a),(t=ct)?(t=c0(t,na),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:nr!==null?{id:Ka,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},o=Mv(t),o.return=a,a.child=o,nn=a,ct=null)):t=null,t===null)throw sr(a);return a.lanes=536870912,null}return ld(a,c)}var p=t.memoizedState;if(p!==null){var b=p.dehydrated;if(Lf(a),f)if(a.flags&256)a.flags&=-257,a=Jy(t,a,o);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(i(558));else if(Bt||mo(t,a,o,!1),f=(o&t.childLanes)!==0,Bt||f){if(c=it,c!==null&&(b=pl(c,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,di(t,b),Sn(c,t,b),ip;xd(),a=Jy(t,a,o)}else t=p.treeContext,ct=sa(b.nextSibling),nn=a,Fe=!0,ar=null,na=!1,t!==null&&Pv(a,t),a=ld(a,c),a.flags|=4096;return a}return t=gs(t.child,{mode:c.mode,children:c.children}),t.ref=a.ref,a.child=t,t.return=a,t}function cd(t,a){var o=a.ref;if(o===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(t===null||t.ref!==o)&&(a.flags|=4194816)}}function op(t,a,o,c,f){return mi(a),o=Bf(t,a,o,c,void 0,f),c=qf(),t!==null&&!Bt?(Ff(t,a,f),ws(t,a,f)):(Fe&&c&&wf(a),a.flags|=1,sn(t,a,o,f),a.child)}function Wy(t,a,o,c,f,p){return mi(a),a.updateQueue=null,o=ty(a,c,o,f),ey(t),c=qf(),t!==null&&!Bt?(Ff(t,a,p),ws(t,a,p)):(Fe&&c&&wf(a),a.flags|=1,sn(t,a,o,p),a.child)}function Zy(t,a,o,c,f){if(mi(a),a.stateNode===null){var p=uo,b=o.contextType;typeof b=="object"&&b!==null&&(p=an(b)),p=new o(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=sp,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},Df(a),b=o.contextType,p.context=typeof b=="object"&&b!==null?an(b):uo,p.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(ap(a,o,b,c),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&sp.enqueueReplaceState(p,p.state,null),ql(a,c,p,f),Bl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(t===null){p=a.stateNode;var E=a.memoizedProps,z=_i(o,E);p.props=z;var Y=p.context,Z=o.contextType;b=uo,typeof Z=="object"&&Z!==null&&(b=an(Z));var ae=o.getDerivedStateFromProps;Z=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=a.pendingProps!==E,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||Y!==b)&&Ly(a,p,c,b),ir=!1;var K=a.memoizedState;p.state=K,ql(a,c,p,f),Bl(),Y=a.memoizedState,E||K!==Y||ir?(typeof ae=="function"&&(ap(a,o,ae,c),Y=a.memoizedState),(z=ir||Vy(a,o,z,c,K,Y,b))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Y),p.props=c,p.state=Y,p.context=b,c=z):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,Mf(t,a),b=a.memoizedProps,Z=_i(o,b),p.props=Z,ae=a.pendingProps,K=p.context,Y=o.contextType,z=uo,typeof Y=="object"&&Y!==null&&(z=an(Y)),E=o.getDerivedStateFromProps,(Y=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ae||K!==z)&&Ly(a,p,c,z),ir=!1,K=a.memoizedState,p.state=K,ql(a,c,p,f),Bl();var J=a.memoizedState;b!==ae||K!==J||ir||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof E=="function"&&(ap(a,o,E,c),J=a.memoizedState),(Z=ir||Vy(a,o,Z,c,K,J,z)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,J,z),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,J,z)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=J),p.props=c,p.state=J,p.context=z,c=Z):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(a.flags|=1024),c=!1)}return p=c,cd(t,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,t!==null&&c?(a.child=xi(a,t.child,null,f),a.child=xi(a,null,o,f)):sn(t,a,o,f),a.memoizedState=p.state,t=a.child):t=ws(t,a,f),t}function ex(t,a,o,c){return fi(),a.flags|=256,sn(t,a,o,c),a.child}var lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cp(t){return{baseLanes:t,cachePool:Fv()}}function up(t,a,o){return t=t!==null?t.childLanes&~o:0,a&&(t|=Fn),t}function tx(t,a,o){var c=a.pendingProps,f=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),b&&(f=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,t===null){if(Fe){if(f?cr(a):ur(),(t=ct)?(t=c0(t,na),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:nr!==null?{id:Ka,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},o=Mv(t),o.return=a,a.child=o,nn=a,ct=null)):t=null,t===null)throw sr(a);return $p(t)?a.lanes=32:a.lanes=536870912,null}var E=c.children;return c=c.fallback,f?(ur(),f=a.mode,E=ud({mode:"hidden",children:E},f),c=hi(c,f,o,null),E.return=a,c.return=a,E.sibling=c,a.child=E,c=a.child,c.memoizedState=cp(o),c.childLanes=up(t,b,o),a.memoizedState=lp,Yl(null,c)):(cr(a),dp(a,E))}var z=t.memoizedState;if(z!==null&&(E=z.dehydrated,E!==null)){if(p)a.flags&256?(cr(a),a.flags&=-257,a=hp(t,a,o)):a.memoizedState!==null?(ur(),a.child=t.child,a.flags|=128,a=null):(ur(),E=c.fallback,f=a.mode,c=ud({mode:"visible",children:c.children},f),E=hi(E,f,o,null),E.flags|=2,c.return=a,E.return=a,c.sibling=E,a.child=c,xi(a,t.child,null,o),c=a.child,c.memoizedState=cp(o),c.childLanes=up(t,b,o),a.memoizedState=lp,a=Yl(null,c));else if(cr(a),$p(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var Y=b.dgst;b=Y,c=Error(i(419)),c.stack="",c.digest=b,Ol({value:c,source:null,stack:null}),a=hp(t,a,o)}else if(Bt||mo(t,a,o,!1),b=(o&t.childLanes)!==0,Bt||b){if(b=it,b!==null&&(c=pl(b,o),c!==0&&c!==z.retryLane))throw z.retryLane=c,di(t,c),Sn(b,t,c),ip;Gp(E)||xd(),a=hp(t,a,o)}else Gp(E)?(a.flags|=192,a.child=t.child,a=null):(t=z.treeContext,ct=sa(E.nextSibling),nn=a,Fe=!0,ar=null,na=!1,t!==null&&Pv(a,t),a=dp(a,c.children),a.flags|=4096);return a}return f?(ur(),E=c.fallback,f=a.mode,z=t.child,Y=z.sibling,c=gs(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,Y!==null?E=gs(Y,E):(E=hi(E,f,o,null),E.flags|=2),E.return=a,c.return=a,c.sibling=E,a.child=c,Yl(null,c),c=a.child,E=t.child.memoizedState,E===null?E=cp(o):(f=E.cachePool,f!==null?(z=Lt._currentValue,f=f.parent!==z?{parent:z,pool:z}:f):f=Fv(),E={baseLanes:E.baseLanes|o,cachePool:f}),c.memoizedState=E,c.childLanes=up(t,b,o),a.memoizedState=lp,Yl(t.child,c)):(cr(a),o=t.child,t=o.sibling,o=gs(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,t!==null&&(b=a.deletions,b===null?(a.deletions=[t],a.flags|=16):b.push(t)),a.child=o,a.memoizedState=null,o)}function dp(t,a){return a=ud({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function ud(t,a){return t=Ln(22,t,null,a),t.lanes=0,t}function hp(t,a,o){return xi(a,t.child,null,o),t=dp(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function nx(t,a,o){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a),Sf(t.return,a,o)}function fp(t,a,o,c,f,p){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=f,b.treeForkCount=p)}function ax(t,a,o){var c=a.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var b=Rt.current,E=(b&2)!==0;if(E?(b=b&1|2,a.flags|=128):b&=1,ue(Rt,b),sn(t,a,c,o),c=Fe?Ml:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nx(t,o,a);else if(t.tag===19)nx(t,o,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(o=a.child,f=null;o!==null;)t=o.alternate,t!==null&&Wu(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),fp(a,!1,f,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(t=f.alternate,t!==null&&Wu(t)===null){a.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}fp(a,!0,o,null,p,c);break;case"together":fp(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function ws(t,a,o){if(t!==null&&(a.dependencies=t.dependencies),fr|=a.lanes,(o&a.childLanes)===0)if(t!==null){if(mo(t,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,o=gs(t,t.pendingProps),a.child=o,o.return=a;t.sibling!==null;)t=t.sibling,o=o.sibling=gs(t,t.pendingProps),o.return=a;o.sibling=null}return a.child}function pp(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function wE(t,a,o){switch(a.tag){case 3:$t(a,a.stateNode.containerInfo),rr(a,Lt,t.memoizedState.cache),fi();break;case 27:case 5:Yr(a);break;case 4:$t(a,a.stateNode.containerInfo);break;case 10:rr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Lf(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(cr(a),a.flags|=128,null):(o&a.child.childLanes)!==0?tx(t,a,o):(cr(a),t=ws(t,a,o),t!==null?t.sibling:null);cr(a);break;case 19:var f=(t.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(mo(t,a,o,!1),c=(o&a.childLanes)!==0),f){if(c)return ax(t,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Rt,Rt.current),c)break;return null;case 22:return a.lanes=0,Ky(t,a,o,a.pendingProps);case 24:rr(a,Lt,t.memoizedState.cache)}return ws(t,a,o)}function sx(t,a,o){if(t!==null)if(t.memoizedProps!==a.pendingProps)Bt=!0;else{if(!pp(t,o)&&(a.flags&128)===0)return Bt=!1,wE(t,a,o);Bt=(t.flags&131072)!==0}else Bt=!1,Fe&&(a.flags&1048576)!==0&&zv(a,Ml,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(t=vi(a.elementType),a.type=t,typeof t=="function")xf(t)?(c=_i(t,c),a.tag=1,a=Zy(null,a,t,c,o)):(a.tag=0,a=op(null,a,t,c,o));else{if(t!=null){var f=t.$$typeof;if(f===ee){a.tag=11,a=$y(null,a,t,c,o);break e}else if(f===R){a.tag=14,a=Yy(null,a,t,c,o);break e}}throw a=Be(t)||t,Error(i(306,a,""))}}return a;case 0:return op(t,a,a.type,a.pendingProps,o);case 1:return c=a.type,f=_i(c,a.pendingProps),Zy(t,a,c,f,o);case 3:e:{if($t(a,a.stateNode.containerInfo),t===null)throw Error(i(387));c=a.pendingProps;var p=a.memoizedState;f=p.element,Mf(t,a),ql(a,c,null,o);var b=a.memoizedState;if(c=b.cache,rr(a,Lt,c),c!==p.cache&&Af(a,[Lt],o,!0),Bl(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=ex(t,a,c,o);break e}else if(c!==f){f=Zn(Error(i(424)),a),Ol(f),a=ex(t,a,c,o);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ct=sa(t.firstChild),nn=a,Fe=!0,ar=null,na=!0,o=Kv(a,null,c,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fi(),c===f){a=ws(t,a,o);break e}sn(t,a,c,o)}a=a.child}return a;case 26:return cd(t,a),t===null?(o=m0(a.type,null,a.pendingProps,null))?a.memoizedState=o:Fe||(o=a.type,t=a.pendingProps,c=Td(ke.current).createElement(o),c[zt]=a,c[Xt]=t,rn(c,o,t),Pt(c),a.stateNode=c):a.memoizedState=m0(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Yr(a),t===null&&Fe&&(c=a.stateNode=h0(a.type,a.pendingProps,ke.current),nn=a,na=!0,f=ct,yr(a.type)?(Yp=f,ct=sa(c.firstChild)):ct=f),sn(t,a,a.pendingProps.children,o),cd(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Fe&&((f=c=ct)&&(c=WE(c,a.type,a.pendingProps,na),c!==null?(a.stateNode=c,nn=a,ct=sa(c.firstChild),na=!1,f=!0):f=!1),f||sr(a)),Yr(a),f=a.type,p=a.pendingProps,b=t!==null?t.memoizedProps:null,c=p.children,qp(f,p)?c=null:b!==null&&qp(f,b)&&(a.flags|=32),a.memoizedState!==null&&(f=Bf(t,a,fE,null,null,o),lc._currentValue=f),cd(t,a),sn(t,a,c,o),a.child;case 6:return t===null&&Fe&&((t=o=ct)&&(o=ZE(o,a.pendingProps,na),o!==null?(a.stateNode=o,nn=a,ct=null,t=!0):t=!1),t||sr(a)),null;case 13:return tx(t,a,o);case 4:return $t(a,a.stateNode.containerInfo),c=a.pendingProps,t===null?a.child=xi(a,null,c,o):sn(t,a,c,o),a.child;case 11:return $y(t,a,a.type,a.pendingProps,o);case 7:return sn(t,a,a.pendingProps,o),a.child;case 8:return sn(t,a,a.pendingProps.children,o),a.child;case 12:return sn(t,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,rr(a,a.type,c.value),sn(t,a,c.children,o),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,mi(a),f=an(f),c=c(f),a.flags|=1,sn(t,a,c,o),a.child;case 14:return Yy(t,a,a.type,a.pendingProps,o);case 15:return Qy(t,a,a.type,a.pendingProps,o);case 19:return ax(t,a,o);case 31:return _E(t,a,o);case 22:return Ky(t,a,o,a.pendingProps);case 24:return mi(a),c=an(Lt),t===null?(f=kf(),f===null&&(f=it,p=Cf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),a.memoizedState={parent:c,cache:f},Df(a),rr(a,Lt,f)):((t.lanes&o)!==0&&(Mf(t,a),ql(a,null,null,o),Bl()),f=t.memoizedState,p=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),rr(a,Lt,c)):(c=p.cache,rr(a,Lt,c),c!==f.cache&&Af(a,[Lt],o,!0))),sn(t,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function js(t){t.flags|=4}function mp(t,a,o,c,f){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(kx())t.flags|=8192;else throw yi=Qu,If}else t.flags&=-16777217}function rx(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b0(a))if(kx())t.flags|=8192;else throw yi=Qu,If}function dd(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?vu():536870912,t.lanes|=a,So|=a)}function Ql(t,a){if(!Fe)switch(t.tailMode){case"hidden":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function ut(t){var a=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(a)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,a}function jE(t,a,o){var c=a.pendingProps;switch(jf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(a),null;case 1:return ut(a),null;case 3:return o=a.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),xs(Lt),ft(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(po(a)?js(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Nf())),ut(a),null;case 26:var f=a.type,p=a.memoizedState;return t===null?(js(a),p!==null?(ut(a),rx(a,p)):(ut(a),mp(a,f,null,c,o))):p?p!==t.memoizedState?(js(a),ut(a),rx(a,p)):(ut(a),a.flags&=-16777217):(t=t.memoizedProps,t!==c&&js(a),ut(a),mp(a,f,t,c,o)),null;case 27:if(Gi(a),o=ke.current,f=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&js(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ut(a),null}t=pe.current,po(a)?Vv(a):(t=h0(f,c,o),a.stateNode=t,js(a))}return ut(a),null;case 5:if(Gi(a),f=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&js(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ut(a),null}if(p=pe.current,po(a))Vv(a);else{var b=Td(ke.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}p[zt]=a,p[Xt]=c;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;e:switch(rn(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&js(a)}}return ut(a),mp(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,o),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==c&&js(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(t=ke.current,po(a)){if(t=a.stateNode,o=a.memoizedProps,c=null,f=nn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[zt]=a,t=!!(t.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||t0(t.nodeValue,o)),t||sr(a,!0)}else t=Td(t).createTextNode(c),t[zt]=a,a.stateNode=t}return ut(a),null;case 31:if(o=a.memoizedState,t===null||t.memoizedState!==null){if(c=po(a),o!==null){if(t===null){if(!c)throw Error(i(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[zt]=a}else fi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ut(a),t=!1}else o=Nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return a.flags&256?(Bn(a),a):(Bn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ut(a),null;case 13:if(c=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=po(a),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[zt]=a}else fi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ut(a),f=!1}else f=Nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Bn(a),a):(Bn(a),null)}return Bn(a),(a.flags&128)!==0?(a.lanes=o,a):(o=c!==null,t=t!==null&&t.memoizedState!==null,o&&(c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),o!==t&&o&&(a.child.flags|=8192),dd(a,a.updateQueue),ut(a),null);case 4:return ft(),t===null&&Pp(a.stateNode.containerInfo),ut(a),null;case 10:return xs(a.type),ut(a),null;case 19:if(se(Rt),c=a.memoizedState,c===null)return ut(a),null;if(f=(a.flags&128)!==0,p=c.rendering,p===null)if(f)Ql(c,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(p=Wu(t),p!==null){for(a.flags|=128,Ql(c,!1),t=p.updateQueue,a.updateQueue=t,dd(a,t),a.subtreeFlags=0,t=o,o=a.child;o!==null;)Dv(o,t),o=o.sibling;return ue(Rt,Rt.current&1|2),Fe&&vs(a,c.treeForkCount),a.child}t=t.sibling}c.tail!==null&&gn()>gd&&(a.flags|=128,f=!0,Ql(c,!1),a.lanes=4194304)}else{if(!f)if(t=Wu(p),t!==null){if(a.flags|=128,f=!0,t=t.updateQueue,a.updateQueue=t,dd(a,t),Ql(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Fe)return ut(a),null}else 2*gn()-c.renderingStartTime>gd&&o!==536870912&&(a.flags|=128,f=!0,Ql(c,!1),a.lanes=4194304);c.isBackwards?(p.sibling=a.child,a.child=p):(t=c.last,t!==null?t.sibling=p:a.child=p,c.last=p)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=gn(),t.sibling=null,o=Rt.current,ue(Rt,f?o&1|2:o&1),Fe&&vs(a,c.treeForkCount),t):(ut(a),null);case 22:case 23:return Bn(a),Vf(),c=a.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(ut(a),a.subtreeFlags&6&&(a.flags|=8192)):ut(a),o=a.updateQueue,o!==null&&dd(a,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),t!==null&&se(gi),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),xs(Lt),ut(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function EE(t,a){switch(jf(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return xs(Lt),ft(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Gi(a),null;case 31:if(a.memoizedState!==null){if(Bn(a),a.alternate===null)throw Error(i(340));fi()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(Bn(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));fi()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return se(Rt),null;case 4:return ft(),null;case 10:return xs(a.type),null;case 22:case 23:return Bn(a),Vf(),t!==null&&se(gi),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return xs(Lt),null;case 25:return null;default:return null}}function ix(t,a){switch(jf(a),a.tag){case 3:xs(Lt),ft();break;case 26:case 27:case 5:Gi(a);break;case 4:ft();break;case 31:a.memoizedState!==null&&Bn(a);break;case 13:Bn(a);break;case 19:se(Rt);break;case 10:xs(a.type);break;case 22:case 23:Bn(a),Vf(),t!==null&&se(gi);break;case 24:xs(Lt)}}function Kl(t,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&t)===t){c=void 0;var p=o.create,b=o.inst;c=p(),b.destroy=c}o=o.next}while(o!==f)}}catch(E){tt(a,a.return,E)}}function dr(t,a,o){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&t)===t){var b=c.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,f=a;var z=o,Y=E;try{Y()}catch(Z){tt(f,z,Z)}}}c=c.next}while(c!==p)}}catch(Z){tt(a,a.return,Z)}}function ox(t){var a=t.updateQueue;if(a!==null){var o=t.stateNode;try{Jv(a,o)}catch(c){tt(t,t.return,c)}}}function lx(t,a,o){o.props=_i(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(c){tt(t,a,c)}}function Xl(t,a){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof o=="function"?t.refCleanup=o(c):o.current=c}}catch(f){tt(t,a,f)}}function Ja(t,a){var o=t.ref,c=t.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){tt(t,a,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(t,a,f)}else o.current=null}function cx(t){var a=t.type,o=t.memoizedProps,c=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){tt(t,t.return,f)}}function gp(t,a,o){try{var c=t.stateNode;$E(c,t.type,o,a),c[Xt]=a}catch(f){tt(t,t.return,f)}}function ux(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&yr(t.type)||t.tag===4}function vp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ux(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yp(t,a,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(t),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=ma));else if(c!==4&&(c===27&&yr(t.type)&&(o=t.stateNode,a=null),t=t.child,t!==null))for(yp(t,a,o),t=t.sibling;t!==null;)yp(t,a,o),t=t.sibling}function hd(t,a,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?o.insertBefore(t,a):o.appendChild(t);else if(c!==4&&(c===27&&yr(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(hd(t,a,o),t=t.sibling;t!==null;)hd(t,a,o),t=t.sibling}function dx(t){var a=t.stateNode,o=t.memoizedProps;try{for(var c=t.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);rn(a,c,o),a[zt]=t,a[Xt]=o}catch(p){tt(t,t.return,p)}}var Es=!1,qt=!1,xp=!1,hx=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function NE(t,a){if(t=t.containerInfo,Up=Dd,t=Ev(t),hf(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,E=-1,z=-1,Y=0,Z=0,ae=t,K=null;t:for(;;){for(var J;ae!==o||f!==0&&ae.nodeType!==3||(E=b+f),ae!==p||c!==0&&ae.nodeType!==3||(z=b+c),ae.nodeType===3&&(b+=ae.nodeValue.length),(J=ae.firstChild)!==null;)K=ae,ae=J;for(;;){if(ae===t)break t;if(K===o&&++Y===f&&(E=b),K===p&&++Z===c&&(z=b),(J=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=J}o=E===-1||z===-1?null:{start:E,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bp={focusedElem:t,selectionRange:o},Dd=!1,Wt=a;Wt!==null;)if(a=Wt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Wt=t;else for(;Wt!==null;){switch(a=Wt,p=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)f=t[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,o=a,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var me=_i(o.type,f);t=c.getSnapshotBeforeUpdate(me,p),c.__reactInternalSnapshotBeforeUpdate=t}catch(we){tt(o,o.return,we)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,o=t.nodeType,o===9)Hp(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,Wt=t;break}Wt=a.return}}function fx(t,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ts(t,o),c&4&&Kl(5,o);break;case 1:if(Ts(t,o),c&4)if(t=o.stateNode,a===null)try{t.componentDidMount()}catch(b){tt(o,o.return,b)}else{var f=_i(o.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(f,a,t.__reactInternalSnapshotBeforeUpdate)}catch(b){tt(o,o.return,b)}}c&64&&ox(o),c&512&&Xl(o,o.return);break;case 3:if(Ts(t,o),c&64&&(t=o.updateQueue,t!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Jv(t,a)}catch(b){tt(o,o.return,b)}}break;case 27:a===null&&c&4&&dx(o);case 26:case 5:Ts(t,o),a===null&&c&4&&cx(o),c&512&&Xl(o,o.return);break;case 12:Ts(t,o);break;case 31:Ts(t,o),c&4&&gx(t,o);break;case 13:Ts(t,o),c&4&&vx(t,o),c&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=ME.bind(null,o),eN(t,o))));break;case 22:if(c=o.memoizedState!==null||Es,!c){a=a!==null&&a.memoizedState!==null||qt,f=Es;var p=qt;Es=c,(qt=a)&&!p?Ss(t,o,(o.subtreeFlags&8772)!==0):Ts(t,o),Es=f,qt=p}break;case 30:break;default:Ts(t,o)}}function px(t){var a=t.alternate;a!==null&&(t.alternate=null,px(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Xi(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,jn=!1;function Ns(t,a,o){for(o=o.child;o!==null;)mx(t,a,o),o=o.sibling}function mx(t,a,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(da,o)}catch{}switch(o.tag){case 26:qt||Ja(o,a),Ns(t,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:qt||Ja(o,a);var c=mt,f=jn;yr(o.type)&&(mt=o.stateNode,jn=!1),Ns(t,a,o),rc(o.stateNode),mt=c,jn=f;break;case 5:qt||Ja(o,a);case 6:if(c=mt,f=jn,mt=null,Ns(t,a,o),mt=c,jn=f,mt!==null)if(jn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(p){tt(o,a,p)}else try{mt.removeChild(o.stateNode)}catch(p){tt(o,a,p)}break;case 18:mt!==null&&(jn?(t=mt,o0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Oo(t)):o0(mt,o.stateNode));break;case 4:c=mt,f=jn,mt=o.stateNode.containerInfo,jn=!0,Ns(t,a,o),mt=c,jn=f;break;case 0:case 11:case 14:case 15:dr(2,o,a),qt||dr(4,o,a),Ns(t,a,o);break;case 1:qt||(Ja(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&lx(o,a,c)),Ns(t,a,o);break;case 21:Ns(t,a,o);break;case 22:qt=(c=qt)||o.memoizedState!==null,Ns(t,a,o),qt=c;break;default:Ns(t,a,o)}}function gx(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Oo(t)}catch(o){tt(a,a.return,o)}}}function vx(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Oo(t)}catch(o){tt(a,a.return,o)}}function TE(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new hx),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new hx),a;default:throw Error(i(435,t.tag))}}function fd(t,a){var o=TE(t);a.forEach(function(c){if(!o.has(c)){o.add(c);var f=OE.bind(null,t,c);c.then(f,f)}})}function En(t,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=t,b=a,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(yr(E.type)){mt=E.stateNode,jn=!1;break e}break;case 5:mt=E.stateNode,jn=!1;break e;case 3:case 4:mt=E.stateNode.containerInfo,jn=!0;break e}E=E.return}if(mt===null)throw Error(i(160));mx(p,b,f),mt=null,jn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)yx(a,t),a=a.sibling}var _a=null;function yx(t,a){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(a,t),Nn(t),c&4&&(dr(3,t,t.return),Kl(3,t),dr(5,t,t.return));break;case 1:En(a,t),Nn(t),c&512&&(qt||o===null||Ja(o,o.return)),c&64&&Es&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=_a;if(En(a,t),Nn(t),c&512&&(qt||o===null||Ja(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=t.memoizedState,o===null)if(c===null)if(t.stateNode===null){e:{c=t.type,o=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Pa]||p[zt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),rn(p,c,o),p[zt]=t,Pt(p),c=p;break e;case"link":var b=y0("link","href",f).get(c+(o.href||""));if(b){for(var E=0;E<b.length;E++)if(p=b[E],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(E,1);break t}}p=f.createElement(c),rn(p,c,o),f.head.appendChild(p);break;case"meta":if(b=y0("meta","content",f).get(c+(o.content||""))){for(E=0;E<b.length;E++)if(p=b[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(E,1);break t}}p=f.createElement(c),rn(p,c,o),f.head.appendChild(p);break;default:throw Error(i(468,c))}p[zt]=t,Pt(p),c=p}t.stateNode=c}else x0(f,t.type,t.stateNode);else t.stateNode=v0(f,c,t.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?x0(f,t.type,t.stateNode):v0(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&gp(t,t.memoizedProps,o.memoizedProps)}break;case 27:En(a,t),Nn(t),c&512&&(qt||o===null||Ja(o,o.return)),o!==null&&c&4&&gp(t,t.memoizedProps,o.memoizedProps);break;case 5:if(En(a,t),Nn(t),c&512&&(qt||o===null||Ja(o,o.return)),t.flags&32){f=t.stateNode;try{wn(f,"")}catch(me){tt(t,t.return,me)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,gp(t,f,o!==null?o.memoizedProps:f)),c&1024&&(xp=!0);break;case 6:if(En(a,t),Nn(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,o=t.stateNode;try{o.nodeValue=c}catch(me){tt(t,t.return,me)}}break;case 3:if(Cd=null,f=_a,_a=Sd(a.containerInfo),En(a,t),_a=f,Nn(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Oo(a.containerInfo)}catch(me){tt(t,t.return,me)}xp&&(xp=!1,xx(t));break;case 4:c=_a,_a=Sd(t.stateNode.containerInfo),En(a,t),Nn(t),_a=c;break;case 12:En(a,t),Nn(t);break;case 31:En(a,t),Nn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,fd(t,c)));break;case 13:En(a,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(md=gn()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,fd(t,c)));break;case 22:f=t.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,Y=Es,Z=qt;if(Es=Y||f,qt=Z||z,En(a,t),qt=Z,Es=Y,Nn(t),c&8192)e:for(a=t.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||z||Es||qt||wi(t)),o=null,a=t;;){if(a.tag===5||a.tag===26){if(o===null){z=o=a;try{if(p=z.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=z.stateNode;var ae=z.memoizedProps.style,K=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;E.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){tt(z,z.return,me)}}}else if(a.tag===6){if(o===null){z=a;try{z.stateNode.nodeValue=f?"":z.memoizedProps}catch(me){tt(z,z.return,me)}}}else if(a.tag===18){if(o===null){z=a;try{var J=z.stateNode;f?l0(J,!0):l0(z.stateNode,!1)}catch(me){tt(z,z.return,me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=t.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,fd(t,o))));break;case 19:En(a,t),Nn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,fd(t,c)));break;case 30:break;case 21:break;default:En(a,t),Nn(t)}}function Nn(t){var a=t.flags;if(a&2){try{for(var o,c=t.return;c!==null;){if(ux(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=vp(t);hd(t,p,f);break;case 5:var b=o.stateNode;o.flags&32&&(wn(b,""),o.flags&=-33);var E=vp(t);hd(t,E,b);break;case 3:case 4:var z=o.stateNode.containerInfo,Y=vp(t);yp(t,Y,z);break;default:throw Error(i(161))}}catch(Z){tt(t,t.return,Z)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function xx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;xx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Ts(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)fx(t,a.alternate,a),a=a.sibling}function wi(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:dr(4,a,a.return),wi(a);break;case 1:Ja(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&lx(a,a.return,o),wi(a);break;case 27:rc(a.stateNode);case 26:case 5:Ja(a,a.return),wi(a);break;case 22:a.memoizedState===null&&wi(a);break;case 30:wi(a);break;default:wi(a)}t=t.sibling}}function Ss(t,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=t,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:Ss(f,p,o),Kl(4,p);break;case 1:if(Ss(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){tt(c,c.return,Y)}if(c=p,f=c.updateQueue,f!==null){var E=c.stateNode;try{var z=f.shared.hiddenCallbacks;if(z!==null)for(f.shared.hiddenCallbacks=null,f=0;f<z.length;f++)Xv(z[f],E)}catch(Y){tt(c,c.return,Y)}}o&&b&64&&ox(p),Xl(p,p.return);break;case 27:dx(p);case 26:case 5:Ss(f,p,o),o&&c===null&&b&4&&cx(p),Xl(p,p.return);break;case 12:Ss(f,p,o);break;case 31:Ss(f,p,o),o&&b&4&&gx(f,p);break;case 13:Ss(f,p,o),o&&b&4&&vx(f,p);break;case 22:p.memoizedState===null&&Ss(f,p,o),Xl(p,p.return);break;case 30:break;default:Ss(f,p,o)}a=a.sibling}}function bp(t,a){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&zl(o))}function _p(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&zl(t))}function wa(t,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bx(t,a,o,c),a=a.sibling}function bx(t,a,o,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:wa(t,a,o,c),f&2048&&Kl(9,a);break;case 1:wa(t,a,o,c);break;case 3:wa(t,a,o,c),f&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&zl(t)));break;case 12:if(f&2048){wa(t,a,o,c),t=a.stateNode;try{var p=a.memoizedProps,b=p.id,E=p.onPostCommit;typeof E=="function"&&E(b,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){tt(a,a.return,z)}}else wa(t,a,o,c);break;case 31:wa(t,a,o,c);break;case 13:wa(t,a,o,c);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?wa(t,a,o,c):Jl(t,a):p._visibility&2?wa(t,a,o,c):(p._visibility|=2,Eo(t,a,o,c,(a.subtreeFlags&10256)!==0||!1)),f&2048&&bp(b,a);break;case 24:wa(t,a,o,c),f&2048&&_p(a.alternate,a);break;default:wa(t,a,o,c)}}function Eo(t,a,o,c,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=t,b=a,E=o,z=c,Y=b.flags;switch(b.tag){case 0:case 11:case 15:Eo(p,b,E,z,f),Kl(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?Eo(p,b,E,z,f):Jl(p,b):(Z._visibility|=2,Eo(p,b,E,z,f)),f&&Y&2048&&bp(b.alternate,b);break;case 24:Eo(p,b,E,z,f),f&&Y&2048&&_p(b.alternate,b);break;default:Eo(p,b,E,z,f)}a=a.sibling}}function Jl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=t,c=a,f=c.flags;switch(c.tag){case 22:Jl(o,c),f&2048&&bp(c.alternate,c);break;case 24:Jl(o,c),f&2048&&_p(c.alternate,c);break;default:Jl(o,c)}a=a.sibling}}var Wl=8192;function No(t,a,o){if(t.subtreeFlags&Wl)for(t=t.child;t!==null;)_x(t,a,o),t=t.sibling}function _x(t,a,o){switch(t.tag){case 26:No(t,a,o),t.flags&Wl&&t.memoizedState!==null&&hN(o,_a,t.memoizedState,t.memoizedProps);break;case 5:No(t,a,o);break;case 3:case 4:var c=_a;_a=Sd(t.stateNode.containerInfo),No(t,a,o),_a=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Wl,Wl=16777216,No(t,a,o),Wl=c):No(t,a,o));break;default:No(t,a,o)}}function wx(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Zl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Wt=c,Ex(c,t)}wx(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jx(t),t=t.sibling}function jx(t){switch(t.tag){case 0:case 11:case 15:Zl(t),t.flags&2048&&dr(9,t,t.return);break;case 3:Zl(t);break;case 12:Zl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,pd(t)):Zl(t);break;default:Zl(t)}}function pd(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Wt=c,Ex(c,t)}wx(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:dr(8,a,a.return),pd(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,pd(a));break;default:pd(a)}t=t.sibling}}function Ex(t,a){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:dr(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Wt=c;else e:for(o=t;Wt!==null;){c=Wt;var f=c.sibling,p=c.return;if(px(c),c===o){Wt=null;break e}if(f!==null){f.return=p,Wt=f;break e}Wt=p}}}var SE={getCacheForType:function(t){var a=an(Lt),o=a.data.get(t);return o===void 0&&(o=t(),a.data.set(t,o)),o},cacheSignal:function(){return an(Lt).controller.signal}},AE=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,Me=null,ze=0,et=0,qn=null,hr=!1,To=!1,wp=!1,As=0,Nt=0,fr=0,ji=0,jp=0,Fn=0,So=0,ec=null,Tn=null,Ep=!1,md=0,Nx=0,gd=1/0,vd=null,pr=null,Qt=0,mr=null,Ao=null,Cs=0,Np=0,Tp=null,Tx=null,tc=0,Sp=null;function Hn(){return(Ke&2)!==0&&ze!==0?ze&-ze:Q.T!==null?Dp():yu()}function Sx(){if(Fn===0)if((ze&536870912)===0||Fe){var t=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),Fn=t}else Fn=536870912;return t=Un.current,t!==null&&(t.flags|=32),Fn}function Sn(t,a,o){(t===it&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Co(t,0),gr(t,ze,Fn,!1)),Jr(t,o),((Ke&2)===0||t!==it)&&(t===it&&((Ke&2)===0&&(ji|=o),Nt===4&&gr(t,ze,Fn,!1)),Wa(t))}function Ax(t,a,o){if((Ke&6)!==0)throw Error(i(327));var c=!o&&(a&127)===0&&(a&t.expiredLanes)===0||ha(t,a),f=c?kE(t,a):Cp(t,a,!0),p=c;do{if(f===0){To&&!c&&gr(t,a,0,!1);break}else{if(o=t.current.alternate,p&&!CE(o)){f=Cp(t,a,!1),p=!1;continue}if(f===2){if(p=a,t.errorRecoveryDisabledLanes&p)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var E=t;f=ec;var z=E.current.memoizedState.isDehydrated;if(z&&(Co(E,b).flags|=256),b=Cp(E,b,!1),b!==2){if(wp&&!z){E.errorRecoveryDisabledLanes|=p,ji|=p,f=4;break e}p=Tn,Tn=f,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){Co(t,0),gr(t,a,0,!0);break}e:{switch(c=t,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:gr(c,a,Fn,!hr);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=md+300-gn(),10<f)){if(gr(c,a,Fn,!hr),Ma(c,0,!0)!==0)break e;Cs=a,c.timeoutHandle=r0(Cx.bind(null,c,o,Tn,vd,Ep,a,Fn,ji,So,hr,p,"Throttled",-0,0),f);break e}Cx(c,o,Tn,vd,Ep,a,Fn,ji,So,hr,p,null,-0,0)}}break}while(!0);Wa(t)}function Cx(t,a,o,c,f,p,b,E,z,Y,Z,ae,K,J){if(t.timeoutHandle=-1,ae=a.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ma},_x(a,p,ae);var me=(p&62914560)===p?md-gn():(p&4194048)===p?Nx-gn():0;if(me=fN(ae,me),me!==null){Cs=p,t.cancelPendingCommit=me(Px.bind(null,t,a,p,o,c,f,b,E,z,Z,ae,null,K,J)),gr(t,p,b,!Y);return}}Px(t,a,p,o,c,f,b,E,z)}function CE(t){for(var a=t;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Vn(p(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function gr(t,a,o,c){a&=~jp,a&=~ji,t.suspendedLanes|=a,t.pingedLanes&=~a,c&&(t.warmLanes|=a),c=t.expirationTimes;for(var f=a;0<f;){var p=31-At(f),b=1<<p;c[p]=-1,f&=~b}o!==0&&Wr(t,o,a)}function yd(){return(Ke&6)===0?(nc(0),!1):!0}function Ap(){if(Me!==null){if(et===0)var t=Me.return;else t=Me,ys=pi=null,Hf(t),xo=null,Vl=0,t=Me;for(;t!==null;)ix(t.alternate,t),t=t.return;Me=null}}function Co(t,a){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,KE(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Cs=0,Ap(),it=t,Me=o=gs(t.current,null),ze=a,et=0,qn=null,hr=!1,To=ha(t,a),wp=!1,So=Fn=jp=ji=fr=Nt=0,Tn=ec=null,Ep=!1,(a&8)!==0&&(a|=a&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=a;0<c;){var f=31-At(c),p=1<<f;a|=t[f],c&=~p}return As=a,Lu(),o}function Rx(t,a){Re=null,Q.H=$l,a===yo||a===Yu?(a=$v(),et=3):a===If?(a=$v(),et=4):et=a===ip?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qn=a,Me===null&&(Nt=1,od(t,Zn(a,t.current)))}function kx(){var t=Un.current;return t===null?!0:(ze&4194048)===ze?aa===null:(ze&62914560)===ze||(ze&536870912)!==0?t===aa:!1}function Ix(){var t=Q.H;return Q.H=$l,t===null?$l:t}function Dx(){var t=Q.A;return Q.A=SE,t}function xd(){Nt=4,hr||(ze&4194048)!==ze&&Un.current!==null||(To=!0),(fr&134217727)===0&&(ji&134217727)===0||it===null||gr(it,ze,Fn,!1)}function Cp(t,a,o){var c=Ke;Ke|=2;var f=Ix(),p=Dx();(it!==t||ze!==a)&&(vd=null,Co(t,a)),a=!1;var b=Nt;e:do try{if(et!==0&&Me!==null){var E=Me,z=qn;switch(et){case 8:Ap(),b=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(a=!0);var Y=et;if(et=0,qn=null,Ro(t,E,z,Y),o&&To){b=0;break e}break;default:Y=et,et=0,qn=null,Ro(t,E,z,Y)}}RE(),b=Nt;break}catch(Z){Rx(t,Z)}while(!0);return a&&t.shellSuspendCounter++,ys=pi=null,Ke=c,Q.H=f,Q.A=p,Me===null&&(it=null,ze=0,Lu()),b}function RE(){for(;Me!==null;)Mx(Me)}function kE(t,a){var o=Ke;Ke|=2;var c=Ix(),f=Dx();it!==t||ze!==a?(vd=null,gd=gn()+500,Co(t,a)):To=ha(t,a);e:do try{if(et!==0&&Me!==null){a=Me;var p=qn;t:switch(et){case 1:et=0,qn=null,Ro(t,a,p,1);break;case 2:case 9:if(Hv(p)){et=0,qn=null,Ox(a);break}a=function(){et!==2&&et!==9||it!==t||(et=7),Wa(t)},p.then(a,a);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Hv(p)?(et=0,qn=null,Ox(a)):(et=0,qn=null,Ro(t,a,p,7));break;case 5:var b=null;switch(Me.tag){case 26:b=Me.memoizedState;case 5:case 27:var E=Me;if(b?b0(b):E.stateNode.complete){et=0,qn=null;var z=E.sibling;if(z!==null)Me=z;else{var Y=E.return;Y!==null?(Me=Y,bd(Y)):Me=null}break t}}et=0,qn=null,Ro(t,a,p,5);break;case 6:et=0,qn=null,Ro(t,a,p,6);break;case 8:Ap(),Nt=6;break e;default:throw Error(i(462))}}IE();break}catch(Z){Rx(t,Z)}while(!0);return ys=pi=null,Q.H=c,Q.A=f,Ke=o,Me!==null?0:(it=null,ze=0,Lu(),Nt)}function IE(){for(;Me!==null&&!sf();)Mx(Me)}function Mx(t){var a=sx(t.alternate,t,As);t.memoizedProps=t.pendingProps,a===null?bd(t):Me=a}function Ox(t){var a=t,o=a.alternate;switch(a.tag){case 15:case 0:a=Wy(o,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=Wy(o,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:Hf(a);default:ix(o,a),a=Me=Dv(a,As),a=sx(o,a,As)}t.memoizedProps=t.pendingProps,a===null?bd(t):Me=a}function Ro(t,a,o,c){ys=pi=null,Hf(a),xo=null,Vl=0;var f=a.return;try{if(bE(t,f,a,o,ze)){Nt=1,od(t,Zn(o,t.current)),Me=null;return}}catch(p){if(f!==null)throw Me=f,p;Nt=1,od(t,Zn(o,t.current)),Me=null;return}a.flags&32768?(Fe||c===1?t=!0:To||(ze&536870912)!==0?t=!1:(hr=t=!0,(c===2||c===9||c===3||c===6)&&(c=Un.current,c!==null&&c.tag===13&&(c.flags|=16384))),zx(a,t)):bd(a)}function bd(t){var a=t;do{if((a.flags&32768)!==0){zx(a,hr);return}t=a.return;var o=jE(a.alternate,a,As);if(o!==null){Me=o;return}if(a=a.sibling,a!==null){Me=a;return}Me=a=t}while(a!==null);Nt===0&&(Nt=5)}function zx(t,a){do{var o=EE(t.alternate,t);if(o!==null){o.flags&=32767,Me=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(t=t.sibling,t!==null)){Me=t;return}Me=t=o}while(t!==null);Nt=6,Me=null}function Px(t,a,o,c,f,p,b,E,z){t.cancelPendingCommit=null;do _d();while(Qt!==0);if((Ke&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=vf,lf(t,o,p,b,E,z),t===it&&(Me=it=null,ze=0),Ao=a,mr=t,Cs=o,Np=p,Tp=f,Tx=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zE($s,function(){return qx(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,f=le.p,le.p=2,b=Ke,Ke|=4;try{NE(t,a,o)}finally{Ke=b,le.p=f,Q.T=c}}Qt=1,Vx(),Lx(),Ux()}}function Vx(){if(Qt===1){Qt=0;var t=mr,a=Ao,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var c=le.p;le.p=2;var f=Ke;Ke|=4;try{yx(a,t);var p=Bp,b=Ev(t.containerInfo),E=p.focusedElem,z=p.selectionRange;if(b!==E&&E&&E.ownerDocument&&jv(E.ownerDocument.documentElement,E)){if(z!==null&&hf(E)){var Y=z.start,Z=z.end;if(Z===void 0&&(Z=Y),"selectionStart"in E)E.selectionStart=Y,E.selectionEnd=Math.min(Z,E.value.length);else{var ae=E.ownerDocument||document,K=ae&&ae.defaultView||window;if(K.getSelection){var J=K.getSelection(),me=E.textContent.length,we=Math.min(z.start,me),rt=z.end===void 0?we:Math.min(z.end,me);!J.extend&&we>rt&&(b=rt,rt=we,we=b);var F=wv(E,we),B=wv(E,rt);if(F&&B&&(J.rangeCount!==1||J.anchorNode!==F.node||J.anchorOffset!==F.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var $=ae.createRange();$.setStart(F.node,F.offset),J.removeAllRanges(),we>rt?(J.addRange($),J.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),J.addRange($))}}}}for(ae=[],J=E;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ae.length;E++){var te=ae[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Dd=!!Up,Bp=Up=null}finally{Ke=f,le.p=c,Q.T=o}}t.current=a,Qt=2}}function Lx(){if(Qt===2){Qt=0;var t=mr,a=Ao,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var c=le.p;le.p=2;var f=Ke;Ke|=4;try{fx(t,a.alternate,a)}finally{Ke=f,le.p=c,Q.T=o}}Qt=3}}function Ux(){if(Qt===4||Qt===3){Qt=0,du();var t=mr,a=Ao,o=Cs,c=Tx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Qt=5:(Qt=0,Ao=mr=null,Bx(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(pr=null),hs(o),a=a.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(da,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Q.T,f=le.p,le.p=2,Q.T=null;try{for(var p=t.onRecoverableError,b=0;b<c.length;b++){var E=c[b];p(E.value,{componentStack:E.stack})}}finally{Q.T=a,le.p=f}}(Cs&3)!==0&&_d(),Wa(t),f=t.pendingLanes,(o&261930)!==0&&(f&42)!==0?t===Sp?tc++:(tc=0,Sp=t):tc=0,nc(0)}}function Bx(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,zl(a)))}function _d(){return Vx(),Lx(),Ux(),qx()}function qx(){if(Qt!==5)return!1;var t=mr,a=Np;Np=0;var o=hs(Cs),c=Q.T,f=le.p;try{le.p=32>o?32:o,Q.T=null,o=Tp,Tp=null;var p=mr,b=Cs;if(Qt=0,Ao=mr=null,Cs=0,(Ke&6)!==0)throw Error(i(331));var E=Ke;if(Ke|=4,jx(p.current),bx(p,p.current,b,o),Ke=E,nc(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(da,p)}catch{}return!0}finally{le.p=f,Q.T=c,Bx(t,a)}}function Fx(t,a,o){a=Zn(o,a),a=rp(t.stateNode,a,2),t=lr(t,a,2),t!==null&&(Jr(t,2),Wa(t))}function tt(t,a,o){if(t.tag===3)Fx(t,t,o);else for(;a!==null;){if(a.tag===3){Fx(a,t,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(pr===null||!pr.has(c))){t=Zn(o,t),o=Hy(2),c=lr(a,o,2),c!==null&&(Gy(o,c,a,t),Jr(c,2),Wa(c));break}}a=a.return}}function Rp(t,a,o){var c=t.pingCache;if(c===null){c=t.pingCache=new AE;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(o)||(wp=!0,f.add(o),t=DE.bind(null,t,a,o),a.then(t,t))}function DE(t,a,o){var c=t.pingCache;c!==null&&c.delete(a),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,it===t&&(ze&o)===o&&(Nt===4||Nt===3&&(ze&62914560)===ze&&300>gn()-md?(Ke&2)===0&&Co(t,0):jp|=o,So===ze&&(So=0)),Wa(t)}function Hx(t,a){a===0&&(a=vu()),t=di(t,a),t!==null&&(Jr(t,a),Wa(t))}function ME(t){var a=t.memoizedState,o=0;a!==null&&(o=a.retryLane),Hx(t,o)}function OE(t,a){var o=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),Hx(t,o)}function zE(t,a){return Yt(t,a)}var wd=null,ko=null,kp=!1,jd=!1,Ip=!1,vr=0;function Wa(t){t!==ko&&t.next===null&&(ko===null?wd=ko=t:ko=ko.next=t),jd=!0,kp||(kp=!0,VE())}function nc(t,a){if(!Ip&&jd){Ip=!0;do for(var o=!1,c=wd;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var b=c.suspendedLanes,E=c.pingedLanes;p=(1<<31-At(42|t)+1)-1,p&=f&~(b&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Qx(c,p))}else p=ze,p=Ma(c,c===it?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||ha(c,p)||(o=!0,Qx(c,p));c=c.next}while(o);Ip=!1}}function PE(){Gx()}function Gx(){jd=kp=!1;var t=0;vr!==0&&QE()&&(t=vr);for(var a=gn(),o=null,c=wd;c!==null;){var f=c.next,p=$x(c,a);p===0?(c.next=null,o===null?wd=f:o.next=f,f===null&&(ko=o)):(o=c,(t!==0||(p&3)!==0)&&(jd=!0)),c=f}Qt!==0&&Qt!==5||nc(t),vr!==0&&(vr=0)}function $x(t,a){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var b=31-At(p),E=1<<b,z=f[b];z===-1?((E&o)===0||(E&c)!==0)&&(f[b]=of(E,a)):z<=a&&(t.expiredLanes|=E),p&=~E}if(a=it,o=ze,o=Ma(t,t===a?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,o===0||t===a&&(et===2||et===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Gs(c),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||ha(t,o)){if(a=o&-o,a===t.callbackPriority)return a;switch(c!==null&&Gs(c),hs(o)){case 2:case 8:o=hl;break;case 32:o=$s;break;case 268435456:o=hu;break;default:o=$s}return c=Yx.bind(null,t),o=Yt(o,c),t.callbackPriority=a,t.callbackNode=o,a}return c!==null&&c!==null&&Gs(c),t.callbackPriority=2,t.callbackNode=null,2}function Yx(t,a){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(_d()&&t.callbackNode!==o)return null;var c=ze;return c=Ma(t,t===it?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Ax(t,c,a),$x(t,gn()),t.callbackNode!=null&&t.callbackNode===o?Yx.bind(null,t):null)}function Qx(t,a){if(_d())return null;Ax(t,a,!0)}function VE(){XE(function(){(Ke&6)!==0?Yt(dl,PE):Gx()})}function Dp(){if(vr===0){var t=go;t===0&&(t=Ia,Ia<<=1,(Ia&261888)===0&&(Ia=256)),vr=t}return vr}function Kx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:eo(""+t)}function Xx(t,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,t.id&&o.setAttribute("form",t.id),a.parentNode.insertBefore(o,a),t=new FormData(t),o.parentNode.removeChild(o),t}function LE(t,a,o,c,f){if(a==="submit"&&o&&o.stateNode===f){var p=Kx((f[Xt]||null).action),b=c.submitter;b&&(a=(a=b[Xt]||null)?Kx(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var E=new Ga("action","action",null,c,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vr!==0){var z=b?Xx(f,b):new FormData(f);Zf(o,{pending:!0,data:z,method:f.method,action:p},null,z)}}else typeof p=="function"&&(E.preventDefault(),z=b?Xx(f,b):new FormData(f),Zf(o,{pending:!0,data:z,method:f.method,action:p},p,z))},currentTarget:f}]})}}for(var Mp=0;Mp<gf.length;Mp++){var Op=gf[Mp],UE=Op.toLowerCase(),BE=Op[0].toUpperCase()+Op.slice(1);ba(UE,"on"+BE)}ba(Sv,"onAnimationEnd"),ba(Av,"onAnimationIteration"),ba(Cv,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(aE,"onTransitionRun"),ba(sE,"onTransitionStart"),ba(rE,"onTransitionCancel"),ba(Rv,"onTransitionEnd"),Ba("onMouseEnter",["mouseout","mouseover"]),Ba("onMouseLeave",["mouseout","mouseover"]),Ba("onPointerEnter",["pointerout","pointerover"]),Ba("onPointerLeave",["pointerout","pointerover"]),Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function Jx(t,a){a=(a&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var p=void 0;if(a)for(var b=c.length-1;0<=b;b--){var E=c[b],z=E.instance,Y=E.currentTarget;if(E=E.listener,z!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=Y;try{p(f)}catch(Z){Vu(Z)}f.currentTarget=null,p=z}else for(b=0;b<c.length;b++){if(E=c[b],z=E.instance,Y=E.currentTarget,E=E.listener,z!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=Y;try{p(f)}catch(Z){Vu(Z)}f.currentTarget=null,p=z}}}}function Oe(t,a){var o=a[Ki];o===void 0&&(o=a[Ki]=new Set);var c=t+"__bubble";o.has(c)||(Wx(a,t,2,!1),o.add(c))}function zp(t,a,o){var c=0;a&&(c|=4),Wx(o,t,c,a)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function Pp(t){if(!t[Ed]){t[Ed]=!0,ml.forEach(function(o){o!=="selectionchange"&&(qE.has(o)||zp(o,!1,t),zp(o,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Ed]||(a[Ed]=!0,zp("selectionchange",!1,a))}}function Wx(t,a,o,c){switch(S0(a)){case 2:var f=gN;break;case 8:f=vN;break;default:f=Wp}o=f.bind(null,a,o,t),f=void 0,!ai||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(a,o,{capture:!0,passive:f}):t.addEventListener(a,o,!0):f!==void 0?t.addEventListener(a,o,{passive:f}):t.addEventListener(a,o,!1)}function Vp(t,a,o,c,f){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var E=c.stateNode.containerInfo;if(E===f)break;if(b===4)for(b=c.return;b!==null;){var z=b.tag;if((z===3||z===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;E!==null;){if(b=Va(E),b===null)return;if(z=b.tag,z===5||z===6||z===26||z===27){c=p=b;continue e}E=E.parentNode}}c=c.return}Ws(function(){var Y=p,Z=Kn(o),ae=[];e:{var K=kv.get(t);if(K!==void 0){var J=Ga,me=t;switch(t){case"keypress":if(ri(o)===0)break e;case"keydown":case"keyup":J=Ou;break;case"focusin":me="focus",J=oi;break;case"focusout":me="blur",J=oi;break;case"beforeblur":case"afterblur":J=oi;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=y;break;case Sv:case Av:case Cv:J=Au;break;case Rv:J=N;break;case"scroll":case"scrollend":J=Sl;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ms;break;case"toggle":case"beforetoggle":J=Ce}var we=(a&4)!==0,rt=!we&&(t==="scroll"||t==="scrollend"),F=we?K!==null?K+"Capture":null:K;we=[];for(var B=Y,$;B!==null;){var te=B;if($=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||$===null||F===null||(te=ga(B,F),te!=null&&we.push(sc(B,te,$))),rt)break;B=B.return}0<we.length&&(K=new J(K,me,null,o,Z),ae.push({event:K,listeners:we}))}}if((a&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",K&&o!==El&&(me=o.relatedTarget||o.fromElement)&&(Va(me)||me[za]))break e;if((J||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,J?(me=o.relatedTarget||o.toElement,J=Y,me=me?Va(me):null,me!==null&&(rt=u(me),we=me.tag,me!==rt||we!==5&&we!==27&&we!==6)&&(me=null)):(J=null,me=Y),J!==me)){if(we=Al,te="onMouseLeave",F="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(we=ms,te="onPointerLeave",F="onPointerEnter",B="pointer"),rt=J==null?K:zn(J),$=me==null?K:zn(me),K=new we(te,B+"leave",J,o,Z),K.target=rt,K.relatedTarget=$,te=null,Va(Z)===Y&&(we=new we(F,B+"enter",me,o,Z),we.target=$,we.relatedTarget=rt,te=we),rt=te,J&&me)t:{for(we=FE,F=J,B=me,$=0,te=F;te;te=we(te))$++;te=0;for(var ye=B;ye;ye=we(ye))te++;for(;0<$-te;)F=we(F),$--;for(;0<te-$;)B=we(B),te--;for(;$--;){if(F===B||B!==null&&F===B.alternate){we=F;break t}F=we(F),B=we(B)}we=null}else we=null;J!==null&&Zx(ae,K,J,we,!1),me!==null&&rt!==null&&Zx(ae,rt,me,we,!0)}}e:{if(K=Y?zn(Y):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var $e=gv;else if(pv(K))if(vv)$e=eE;else{$e=Wj;var ge=Jj}else J=K.nodeName,!J||J.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&Zi(Y.elementType)&&($e=gv):$e=Zj;if($e&&($e=$e(t,Y))){mv(ae,$e,o,Z);break e}ge&&ge(t,K,Y),t==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&_l(K,"number",K.value)}switch(ge=Y?zn(Y):window,t){case"focusin":(pv(ge)||ge.contentEditable==="true")&&(oo=ge,ff=Y,Dl=null);break;case"focusout":Dl=ff=oo=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,Nv(ae,o,Z);break;case"selectionchange":if(nE)break;case"keydown":case"keyup":Nv(ae,o,Z)}var Ie;if(Qe)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else io?li(t,o)&&(Pe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(Qa&&o.locale!=="ko"&&(io||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&io&&(Ie=Tl()):(Ha=Z,Nl="value"in Ha?Ha.value:Ha.textContent,io=!0)),ge=Nd(Y,Pe),0<ge.length&&(Pe=new Ya(Pe,t,null,o,Z),ae.push({event:Pe,listeners:ge}),Ie?Pe.data=Ie:(Ie=ro(o),Ie!==null&&(Pe.data=Ie)))),(Ie=Jn?Yj(t,o):Qj(t,o))&&(Pe=Nd(Y,"onBeforeInput"),0<Pe.length&&(ge=new Ya("onBeforeInput","beforeinput",null,o,Z),ae.push({event:ge,listeners:Pe}),ge.data=Ie)),LE(ae,t,Y,o,Z)}Jx(ae,a)})}function sc(t,a,o){return{instance:t,listener:a,currentTarget:o}}function Nd(t,a){for(var o=a+"Capture",c=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ga(t,o),f!=null&&c.unshift(sc(t,f,p)),f=ga(t,a),f!=null&&c.push(sc(t,f,p))),t.tag===3)return c;t=t.return}return[]}function FE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zx(t,a,o,c,f){for(var p=a._reactName,b=[];o!==null&&o!==c;){var E=o,z=E.alternate,Y=E.stateNode;if(E=E.tag,z!==null&&z===c)break;E!==5&&E!==26&&E!==27||Y===null||(z=Y,f?(Y=ga(o,p),Y!=null&&b.unshift(sc(o,Y,z))):f||(Y=ga(o,p),Y!=null&&b.push(sc(o,Y,z)))),o=o.return}b.length!==0&&t.push({event:a,listeners:b})}var HE=/\r\n?/g,GE=/\u0000|\uFFFD/g;function e0(t){return(typeof t=="string"?t:""+t).replace(HE,`
`).replace(GE,"")}function t0(t,a){return a=e0(a),e0(t)===a}function st(t,a,o,c,f,p){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||wn(t,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&wn(t,""+c);break;case"className":Pn(t,"class",c);break;case"tabIndex":Pn(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,o,c);break;case"style":jl(t,c,p);break;case"data":if(a!=="object"){Pn(t,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){t.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=eo(""+c),t.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&st(t,a,"name",f.name,f,null),st(t,a,"formEncType",f.formEncType,f,null),st(t,a,"formMethod",f.formMethod,f,null),st(t,a,"formTarget",f.formTarget,f,null)):(st(t,a,"encType",f.encType,f,null),st(t,a,"method",f.method,f,null),st(t,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=eo(""+c),t.setAttribute(o,c);break;case"onClick":c!=null&&(t.onclick=ma);break;case"onScroll":c!=null&&Oe("scroll",t);break;case"onScrollEnd":c!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=o}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}o=eo(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""+c):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":c===!0?t.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,c):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(o,c):t.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(o):t.setAttribute(o,c);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Ji(t,"popover",c);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ji(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Nu.get(o)||o,Ji(t,o,c))}}function Lp(t,a,o,c,f,p){switch(o){case"style":jl(t,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=o}}break;case"children":typeof c=="string"?wn(t,c):(typeof c=="number"||typeof c=="bigint")&&wn(t,""+c);break;case"onScroll":c!=null&&Oe("scroll",t);break;case"onScrollEnd":c!=null&&Oe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),p=t[Xt]||null,p=p!=null?p[o]:null,typeof p=="function"&&t.removeEventListener(a,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(a,c,f);break e}o in t?t[o]=c:c===!0?t.setAttribute(o,""):Ji(t,o,c)}}}function rn(t,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:st(t,a,p,b,o,null)}}f&&st(t,a,"srcSet",o.srcSet,o,null),c&&st(t,a,"src",o.src,o,null);return;case"input":Oe("invalid",t);var E=p=b=f=null,z=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":f=Z;break;case"type":b=Z;break;case"checked":z=Z;break;case"defaultChecked":Y=Z;break;case"value":p=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:st(t,a,c,Z,o,null)}}wu(t,p,E,z,Y,b,f,!1);return;case"select":Oe("invalid",t),c=b=p=null;for(f in o)if(o.hasOwnProperty(f)&&(E=o[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":b=E;break;case"multiple":c=E;default:st(t,a,f,E,o,null)}a=p,o=b,t.multiple=!!c,a!=null?Qs(t,!!c,a,!1):o!=null&&Qs(t,!!c,o,!0);return;case"textarea":Oe("invalid",t),p=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(E=o[b],E!=null))switch(b){case"value":c=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:st(t,a,b,E,o,null)}Ks(t,c,f,p);return;case"option":for(z in o)o.hasOwnProperty(z)&&(c=o[z],c!=null)&&(z==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":st(t,a,z,c,o,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(c=0;c<ac.length;c++)Oe(ac[c],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:st(t,a,Y,c,o,null)}return;default:if(Zi(a)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Lp(t,a,Z,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&st(t,a,E,c,o,null))}function $E(t,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,E=null,z=null,Y=null,Z=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":z=ae;default:c.hasOwnProperty(J)||st(t,a,J,null,c,ae)}}for(var K in c){var J=c[K];if(ae=o[K],c.hasOwnProperty(K)&&(J!=null||ae!=null))switch(K){case"type":p=J;break;case"name":f=J;break;case"checked":Y=J;break;case"defaultChecked":Z=J;break;case"value":b=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:J!==ae&&st(t,a,K,J,c,ae)}}Wi(t,b,E,z,Y,Z,p,f);return;case"select":J=b=E=K=null;for(p in o)if(z=o[p],o.hasOwnProperty(p)&&z!=null)switch(p){case"value":break;case"multiple":J=z;default:c.hasOwnProperty(p)||st(t,a,p,null,c,z)}for(f in c)if(p=c[f],z=o[f],c.hasOwnProperty(f)&&(p!=null||z!=null))switch(f){case"value":K=p;break;case"defaultValue":E=p;break;case"multiple":b=p;default:p!==z&&st(t,a,f,p,c,z)}a=E,o=b,c=J,K!=null?Qs(t,!!o,K,!1):!!c!=!!o&&(a!=null?Qs(t,!!o,a,!0):Qs(t,!!o,o?[]:"",!1));return;case"textarea":J=K=null;for(E in o)if(f=o[E],o.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(t,a,E,null,c,f)}for(b in c)if(f=c[b],p=o[b],c.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":K=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&st(t,a,b,f,c,p)}ju(t,K,J);return;case"option":for(var me in o)K=o[me],o.hasOwnProperty(me)&&K!=null&&!c.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:st(t,a,me,null,c,K));for(z in c)K=c[z],J=o[z],c.hasOwnProperty(z)&&K!==J&&(K!=null||J!=null)&&(z==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":st(t,a,z,K,c,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)K=o[we],o.hasOwnProperty(we)&&K!=null&&!c.hasOwnProperty(we)&&st(t,a,we,null,c,K);for(Y in c)if(K=c[Y],J=o[Y],c.hasOwnProperty(Y)&&K!==J&&(K!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:st(t,a,Y,K,c,J)}return;default:if(Zi(a)){for(var rt in o)K=o[rt],o.hasOwnProperty(rt)&&K!==void 0&&!c.hasOwnProperty(rt)&&Lp(t,a,rt,void 0,c,K);for(Z in c)K=c[Z],J=o[Z],!c.hasOwnProperty(Z)||K===J||K===void 0&&J===void 0||Lp(t,a,Z,K,c,J);return}}for(var F in o)K=o[F],o.hasOwnProperty(F)&&K!=null&&!c.hasOwnProperty(F)&&st(t,a,F,null,c,K);for(ae in c)K=c[ae],J=o[ae],!c.hasOwnProperty(ae)||K===J||K==null&&J==null||st(t,a,ae,K,c,J)}function n0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],p=f.transferSize,b=f.initiatorType,E=f.duration;if(p&&E&&n0(b)){for(b=0,E=f.responseEnd,c+=1;c<o.length;c++){var z=o[c],Y=z.startTime;if(Y>E)break;var Z=z.transferSize,ae=z.initiatorType;Z&&n0(ae)&&(z=z.responseEnd,b+=Z*(z<E?1:(E-Y)/(z-Y)))}if(--c,a+=8*(p+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Up=null,Bp=null;function Td(t){return t.nodeType===9?t:t.ownerDocument}function a0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s0(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function qp(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Fp=null;function QE(){var t=window.event;return t&&t.type==="popstate"?t===Fp?!1:(Fp=t,!0):(Fp=null,!1)}var r0=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,XE=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(t){return i0.resolve(null).then(t).catch(JE)}:r0;function JE(t){setTimeout(function(){throw t})}function yr(t){return t==="head"}function o0(t,a){var o=a,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){t.removeChild(f),Oo(a);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")rc(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,rc(o);for(var p=o.firstChild;p;){var b=p.nextSibling,E=p.nodeName;p[Pa]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&rc(t.ownerDocument.body);o=f}while(o);Oo(a)}function l0(t,a){var o=t;t=0;do{var c=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=c}while(o)}function Hp(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hp(o),Xi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function WE(t,a,o,c){for(;t.nodeType===1;){var f=o;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Pa])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=sa(t.nextSibling),t===null)break}return null}function ZE(t,a,o){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=sa(t.nextSibling),t===null))return null;return t}function c0(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=sa(t.nextSibling),t===null))return null;return t}function Gp(t){return t.data==="$?"||t.data==="$~"}function $p(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function eN(t,a){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||o.readyState!=="loading")a();else{var c=function(){a(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function sa(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var Yp=null;function u0(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(a===0)return sa(t.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}t=t.nextSibling}return null}function d0(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return t;a--}else o!=="/$"&&o!=="/&"||a++}t=t.previousSibling}return null}function h0(t,a,o){switch(a=Td(o),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function rc(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Xi(t)}var ra=new Map,f0=new Set;function Sd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Rs=le.d;le.d={f:tN,r:nN,D:aN,C:sN,L:rN,m:iN,X:lN,S:oN,M:cN};function tN(){var t=Rs.f(),a=yd();return t||a}function nN(t){var a=Qn(t);a!==null&&a.tag===5&&a.type==="form"?Ry(a):Rs.r(t)}var Io=typeof document>"u"?null:document;function p0(t,a,o){var c=Io;if(c&&typeof a=="string"&&a){var f=_n(a);f='link[rel="'+t+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),f0.has(f)||(f0.add(f),t={rel:t,crossOrigin:o,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),rn(a,"link",t),Pt(a),c.head.appendChild(a)))}}function aN(t){Rs.D(t),p0("dns-prefetch",t,null)}function sN(t,a){Rs.C(t,a),p0("preconnect",t,a)}function rN(t,a,o){Rs.L(t,a,o);var c=Io;if(c&&t&&a){var f='link[rel="preload"][as="'+_n(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+_n(o.imageSizes)+'"]')):f+='[href="'+_n(t)+'"]';var p=f;switch(a){case"style":p=Do(t);break;case"script":p=Mo(t)}ra.has(p)||(t=_({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:t,as:a},o),ra.set(p,t),c.querySelector(f)!==null||a==="style"&&c.querySelector(ic(p))||a==="script"&&c.querySelector(oc(p))||(a=c.createElement("link"),rn(a,"link",t),Pt(a),c.head.appendChild(a)))}}function iN(t,a){Rs.m(t,a);var o=Io;if(o&&t){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+_n(c)+'"][href="'+_n(t)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Mo(t)}if(!ra.has(p)&&(t=_({rel:"modulepreload",href:t},a),ra.set(p,t),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(oc(p)))return}c=o.createElement("link"),rn(c,"link",t),Pt(c),o.head.appendChild(c)}}}function oN(t,a,o){Rs.S(t,a,o);var c=Io;if(c&&t){var f=La(c).hoistableStyles,p=Do(t);a=a||"default";var b=f.get(p);if(!b){var E={loading:0,preload:null};if(b=c.querySelector(ic(p)))E.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":a},o),(o=ra.get(p))&&Qp(t,o);var z=b=c.createElement("link");Pt(z),rn(z,"link",t),z._p=new Promise(function(Y,Z){z.onload=Y,z.onerror=Z}),z.addEventListener("load",function(){E.loading|=1}),z.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ad(b,a,c)}b={type:"stylesheet",instance:b,count:1,state:E},f.set(p,b)}}}function lN(t,a){Rs.X(t,a);var o=Io;if(o&&t){var c=La(o).hoistableScripts,f=Mo(t),p=c.get(f);p||(p=o.querySelector(oc(f)),p||(t=_({src:t,async:!0},a),(a=ra.get(f))&&Kp(t,a),p=o.createElement("script"),Pt(p),rn(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function cN(t,a){Rs.M(t,a);var o=Io;if(o&&t){var c=La(o).hoistableScripts,f=Mo(t),p=c.get(f);p||(p=o.querySelector(oc(f)),p||(t=_({src:t,async:!0,type:"module"},a),(a=ra.get(f))&&Kp(t,a),p=o.createElement("script"),Pt(p),rn(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function m0(t,a,o,c){var f=(f=ke.current)?Sd(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Do(o.href),o=La(f).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Do(o.href);var p=La(f).hoistableStyles,b=p.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,b),(p=f.querySelector(ic(t)))&&!p._p&&(b.instance=p,b.state.loading=5),ra.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ra.set(t,o),p||uN(f,t,o,b.state))),a&&c===null)throw Error(i(528,""));return b}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Mo(o),o=La(f).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Do(t){return'href="'+_n(t)+'"'}function ic(t){return'link[rel="stylesheet"]['+t+"]"}function g0(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function uN(t,a,o,c){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=t.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),rn(a,"link",o),Pt(a),t.head.appendChild(a))}function Mo(t){return'[src="'+_n(t)+'"]'}function oc(t){return"script[async]"+t}function v0(t,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=t.querySelector('style[data-href~="'+_n(o.href)+'"]');if(c)return a.instance=c,Pt(c),c;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Pt(c),rn(c,"style",f),Ad(c,o.precedence,t),a.instance=c;case"stylesheet":f=Do(o.href);var p=t.querySelector(ic(f));if(p)return a.state.loading|=4,a.instance=p,Pt(p),p;c=g0(o),(f=ra.get(f))&&Qp(c,f),p=(t.ownerDocument||t).createElement("link"),Pt(p);var b=p;return b._p=new Promise(function(E,z){b.onload=E,b.onerror=z}),rn(p,"link",c),a.state.loading|=4,Ad(p,o.precedence,t),a.instance=p;case"script":return p=Mo(o.src),(f=t.querySelector(oc(p)))?(a.instance=f,Pt(f),f):(c=o,(f=ra.get(p))&&(c=_({},o),Kp(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),Pt(f),rn(f,"link",c),t.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Ad(c,o.precedence,t));return a.instance}function Ad(t,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,b=0;b<c.length;b++){var E=c[b];if(E.dataset.precedence===a)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(t,a.firstChild))}function Qp(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Kp(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Cd=null;function y0(t,a,o){if(Cd===null){var c=new Map,f=Cd=new Map;f.set(o,c)}else f=Cd,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(t))return c;for(c.set(t,null),o=o.getElementsByTagName(t),f=0;f<o.length;f++){var p=o[f];if(!(p[Pa]||p[zt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=t+b;var E=c.get(b);E?E.push(p):c.set(b,[p])}}return c}function x0(t,a,o){t=t.ownerDocument||t,t.head.insertBefore(o,a==="title"?t.querySelector("head > title"):null)}function dN(t,a,o){if(o===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function b0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hN(t,a,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Do(c.href),p=a.querySelector(ic(f));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=Rd.bind(t),a.then(t,t)),o.state.loading|=4,o.instance=p,Pt(p);return}p=a.ownerDocument||a,c=g0(c),(f=ra.get(f))&&Qp(c,f),p=p.createElement("link"),Pt(p);var b=p;b._p=new Promise(function(E,z){b.onload=E,b.onerror=z}),rn(p,"link",c),o.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=Rd.bind(t),a.addEventListener("load",o),a.addEventListener("error",o))}}var Xp=0;function fN(t,a){return t.stylesheets&&t.count===0&&Id(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var c=setTimeout(function(){if(t.stylesheets&&Id(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+a);0<t.imgBytes&&Xp===0&&(Xp=62500*YE());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Id(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>Xp?50:800)+a);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kd=null;function Id(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kd=new Map,a.forEach(pN,t),kd=null,Rd.call(t))}function pN(t,a){if(!(a.state.loading&4)){var o=kd.get(t);if(o)var c=o.get(null);else{o=new Map,kd.set(t,o);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=a.instance,b=f.getAttribute("data-precedence"),p=o.get(b)||c,p===c&&o.set(null,f),o.set(b,f),this.count++,c=Rd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),a.state.loading|=4}}var lc={$$typeof:H,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function mN(t,a,o,c,f,p,b,E,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.hiddenUpdates=Oa(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function _0(t,a,o,c,f,p,b,E,z,Y,Z,ae){return t=new mN(t,a,o,b,z,Y,Z,ae,E),a=1,p===!0&&(a|=24),p=Ln(3,null,null,a),t.current=p,p.stateNode=t,a=Cf(),a.refCount++,t.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:a},Df(p),t}function w0(t){return t?(t=uo,t):uo}function j0(t,a,o,c,f,p){f=w0(f),c.context===null?c.context=f:c.pendingContext=f,c=or(a),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=lr(t,c,a),o!==null&&(Sn(o,t,a),Ul(o,t,a))}function E0(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<a?o:a}}function Jp(t,a){E0(t,a),(t=t.alternate)&&E0(t,a)}function N0(t){if(t.tag===13||t.tag===31){var a=di(t,67108864);a!==null&&Sn(a,t,67108864),Jp(t,67108864)}}function T0(t){if(t.tag===13||t.tag===31){var a=Hn();a=Zr(a);var o=di(t,a);o!==null&&Sn(o,t,a),Jp(t,a)}}var Dd=!0;function gN(t,a,o,c){var f=Q.T;Q.T=null;var p=le.p;try{le.p=2,Wp(t,a,o,c)}finally{le.p=p,Q.T=f}}function vN(t,a,o,c){var f=Q.T;Q.T=null;var p=le.p;try{le.p=8,Wp(t,a,o,c)}finally{le.p=p,Q.T=f}}function Wp(t,a,o,c){if(Dd){var f=Zp(c);if(f===null)Vp(t,a,c,Md,o),A0(t,c);else if(xN(f,t,a,o,c))c.stopPropagation();else if(A0(t,c),a&4&&-1<yN.indexOf(t)){for(;f!==null;){var p=Qn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Da(p.pendingLanes);if(b!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var z=1<<31-At(b);E.entanglements[1]|=z,b&=~z}Wa(p),(Ke&6)===0&&(gd=gn()+500,nc(0))}}break;case 31:case 13:E=di(p,2),E!==null&&Sn(E,p,2),yd(),Jp(p,2)}if(p=Zp(c),p===null&&Vp(t,a,c,Md,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else Vp(t,a,c,null,o)}}function Zp(t){return t=Kn(t),em(t)}var Md=null;function em(t){if(Md=null,t=Va(t),t!==null){var a=u(t);if(a===null)t=null;else{var o=a.tag;if(o===13){if(t=h(a),t!==null)return t;t=null}else if(o===31){if(t=m(a),t!==null)return t;t=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Md=t,null}function S0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kr()){case dl:return 2;case hl:return 8;case $s:case rf:return 32;case hu:return 268435456;default:return 32}default:return 32}}var tm=!1,xr=null,br=null,_r=null,cc=new Map,uc=new Map,wr=[],yN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A0(t,a){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":cc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(a.pointerId)}}function dc(t,a,o,c,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},a!==null&&(a=Qn(a),a!==null&&N0(a)),t):(t.eventSystemFlags|=c,a=t.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),t)}function xN(t,a,o,c,f){switch(a){case"focusin":return xr=dc(xr,t,a,o,c,f),!0;case"dragenter":return br=dc(br,t,a,o,c,f),!0;case"mouseover":return _r=dc(_r,t,a,o,c,f),!0;case"pointerover":var p=f.pointerId;return cc.set(p,dc(cc.get(p)||null,t,a,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,uc.set(p,dc(uc.get(p)||null,t,a,o,c,f)),!0}return!1}function C0(t){var a=Va(t.target);if(a!==null){var o=u(a);if(o!==null){if(a=o.tag,a===13){if(a=h(o),a!==null){t.blockedOn=a,fa(t.priority,function(){T0(o)});return}}else if(a===31){if(a=m(o),a!==null){t.blockedOn=a,fa(t.priority,function(){T0(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Od(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var o=Zp(t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);El=c,o.target.dispatchEvent(c),El=null}else return a=Qn(o),a!==null&&N0(a),t.blockedOn=o,!1;a.shift()}return!0}function R0(t,a,o){Od(t)&&o.delete(a)}function bN(){tm=!1,xr!==null&&Od(xr)&&(xr=null),br!==null&&Od(br)&&(br=null),_r!==null&&Od(_r)&&(_r=null),cc.forEach(R0),uc.forEach(R0)}function zd(t,a){t.blockedOn===a&&(t.blockedOn=null,tm||(tm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bN)))}var Pd=null;function k0(t){Pd!==t&&(Pd=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pd===t&&(Pd=null);for(var a=0;a<t.length;a+=3){var o=t[a],c=t[a+1],f=t[a+2];if(typeof c!="function"){if(em(c||o)===null)continue;break}var p=Qn(o);p!==null&&(t.splice(a,3),a-=3,Zf(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Oo(t){function a(z){return zd(z,t)}xr!==null&&zd(xr,t),br!==null&&zd(br,t),_r!==null&&zd(_r,t),cc.forEach(a),uc.forEach(a);for(var o=0;o<wr.length;o++){var c=wr[o];c.blockedOn===t&&(c.blockedOn=null)}for(;0<wr.length&&(o=wr[0],o.blockedOn===null);)C0(o),o.blockedOn===null&&wr.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],b=f[Xt]||null;if(typeof p=="function")b||k0(o);else if(b){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[Xt]||null)E=b.formAction;else if(em(f)!==null)continue}else E=b.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),k0(o)}}}function I0(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function nm(t){this._internalRoot=t}Vd.prototype.render=nm.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,c=Hn();j0(o,c,t,a,null,null)},Vd.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;j0(t.current,2,null,t,null,null),yd(),a[za]=null}};function Vd(t){this._internalRoot=t}Vd.prototype.unstable_scheduleHydration=function(t){if(t){var a=yu();t={blockedOn:null,target:t,priority:a};for(var o=0;o<wr.length&&a!==0&&a<wr[o].priority;o++);wr.splice(o,0,t),o===0&&C0(t)}};var D0=e.version;if(D0!=="19.2.4")throw Error(i(527,D0,"19.2.4"));le.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(a),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var _N={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{da=Ld.inject(_N),en=Ld}catch{}}return fc.createRoot=function(t,a){if(!l(t))throw Error(i(299));var o=!1,c="",f=Uy,p=By,b=qy;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=_0(t,1,!1,null,null,o,c,null,f,p,b,I0),t[za]=a.current,Pp(t),new nm(a)},fc.hydrateRoot=function(t,a,o){if(!l(t))throw Error(i(299));var c=!1,f="",p=Uy,b=By,E=qy,z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),a=_0(t,1,!0,a,o??null,c,f,z,p,b,E,I0),a.context=w0(null),o=a.current,c=Hn(),c=Zr(c),f=or(c),f.callback=null,lr(o,f,c),o=c,a.current.lanes=o,Jr(a,o),Wa(a),t[za]=a.current,Pp(t),new Vd(a)},fc.version="19.2.4",fc}var F0;function kN(){if(F0)return rm.exports;F0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),rm.exports=RN(),rm.exports}var IN=kN();var H0="popstate";function DN(s={}){function e(i,l){let{pathname:u,search:h,hash:m}=i.location;return Am("",{pathname:u,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:Ac(l)}return ON(e,n,null,s)}function _t(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function rs(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MN(){return Math.random().toString(36).substring(2,10)}function G0(s,e){return{usr:s.state,key:s.key,idx:e}}function Am(s,e,n=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Zo(e):e,state:n,key:e&&e.key||i||MN()}}function Ac({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Zo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function ON(s,e,n,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,h=l.history,m="POP",v=null,g=x();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function x(){return(h.state||{idx:null}).idx}function _(){m="POP";let M=x(),V=M==null?null:M-g;g=M,v&&v({action:m,location:C.location,delta:V})}function j(M,V){m="PUSH";let P=Am(C.location,M,V);g=x()+1;let H=G0(P,g),ee=C.createHref(P);try{h.pushState(H,"",ee)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;l.location.assign(ee)}u&&v&&v({action:m,location:C.location,delta:1})}function S(M,V){m="REPLACE";let P=Am(C.location,M,V);g=x();let H=G0(P,g),ee=C.createHref(P);h.replaceState(H,"",ee),u&&v&&v({action:m,location:C.location,delta:0})}function I(M){return zN(M)}let C={get action(){return m},get location(){return s(l,h)},listen(M){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(H0,_),v=M,()=>{l.removeEventListener(H0,_),v=null}},createHref(M){return e(l,M)},createURL:I,encodeLocation(M){let V=I(M);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:j,replace:S,go(M){return h.go(M)}};return C}function zN(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Ac(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function P1(s,e,n="/"){return PN(s,e,n,!1)}function PN(s,e,n,i){let l=typeof e=="string"?Zo(e):e,u=Vs(l.pathname||"/",n);if(u==null)return null;let h=V1(s);VN(h);let m=null;for(let v=0;m==null&&v<h.length;++v){let g=KN(u);m=YN(h[v],g,i)}return m}function V1(s,e=[],n=[],i="",l=!1){let u=(h,m,v=l,g)=>{let x={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&v)return;_t(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let _=Os([i,x.relativePath]),j=n.concat(x);h.children&&h.children.length>0&&(_t(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),V1(h.children,e,j,_,v)),!(h.path==null&&!h.index)&&e.push({path:_,score:GN(_,h.index),routesMeta:j})};return s.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let v of L1(h.path))u(h,m,!0,v)}),e}function L1(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let h=L1(i.join("/")),m=[];return m.push(...h.map(v=>v===""?u:[u,v].join("/"))),l&&m.push(...h),m.map(v=>s.startsWith("/")&&v===""?"/":v)}function VN(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:$N(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var LN=/^:[\w-]+$/,UN=3,BN=2,qN=1,FN=10,HN=-2,$0=s=>s==="*";function GN(s,e){let n=s.split("/"),i=n.length;return n.some($0)&&(i+=HN),e&&(i+=BN),n.filter(l=>!$0(l)).reduce((l,u)=>l+(LN.test(u)?UN:u===""?qN:FN),i)}function $N(s,e){return s.length===e.length&&s.slice(0,-1).every((i,l)=>i===e[l])?s[s.length-1]-e[e.length-1]:0}function YN(s,e,n=!1){let{routesMeta:i}=s,l={},u="/",h=[];for(let m=0;m<i.length;++m){let v=i[m],g=m===i.length-1,x=u==="/"?e:e.slice(u.length)||"/",_=oh({path:v.relativePath,caseSensitive:v.caseSensitive,end:g},x),j=v.route;if(!_&&g&&n&&!i[i.length-1].route.index&&(_=oh({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},x)),!_)return null;Object.assign(l,_.params),h.push({params:l,pathname:Os([u,_.pathname]),pathnameBase:ZN(Os([u,_.pathnameBase])),route:j}),_.pathnameBase!=="/"&&(u=Os([u,_.pathnameBase]))}return h}function oh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=QN(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((g,{paramName:x,isOptional:_},j)=>{if(x==="*"){let I=m[j]||"";h=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const S=m[j];return _&&!S?g[x]=void 0:g[x]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:s}}function QN(s,e=!1,n=!0){rs(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,v)=>(i.push({paramName:m,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function KN(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rs(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Vs(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}var XN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function JN(s,e="/"){let{pathname:n,search:i="",hash:l=""}=typeof s=="string"?Zo(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Y0(n.substring(1),"/"):u=Y0(n,e)):u=e,{pathname:u,search:e2(i),hash:t2(l)}}function Y0(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function cm(s,e,n,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WN(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function U1(s){let e=WN(s);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function B1(s,e,n,i=!1){let l;typeof s=="string"?l=Zo(s):(l={...s},_t(!l.pathname||!l.pathname.includes("?"),cm("?","pathname","search",l)),_t(!l.pathname||!l.pathname.includes("#"),cm("#","pathname","hash",l)),_t(!l.search||!l.search.includes("#"),cm("#","search","hash",l)));let u=s===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=n;else{let _=e.length-1;if(!i&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),_-=1;l.pathname=j.join("/")}m=_>=0?e[_]:"/"}let v=JN(l,m),g=h&&h!=="/"&&h.endsWith("/"),x=(u||h===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(g||x)&&(v.pathname+="/"),v}var Os=s=>s.join("/").replace(/\/\/+/g,"/"),ZN=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),e2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,t2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,n2=class{constructor(s,e,n,i=!1){this.status=s,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function a2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function s2(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var q1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function F1(s,e){let n=s;if(typeof n!="string"||!XN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,l=!1;if(q1)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Vs(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:l=!0}catch{rs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var H1=["POST","PUT","PATCH","DELETE"];new Set(H1);var r2=["GET",...H1];new Set(r2);var el=T.createContext(null);el.displayName="DataRouter";var Ch=T.createContext(null);Ch.displayName="DataRouterState";var i2=T.createContext(!1),G1=T.createContext({isTransitioning:!1});G1.displayName="ViewTransition";var o2=T.createContext(new Map);o2.displayName="Fetchers";var l2=T.createContext(null);l2.displayName="Await";var ca=T.createContext(null);ca.displayName="Navigation";var qc=T.createContext(null);qc.displayName="Location";var Ra=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ra.displayName="Route";var ig=T.createContext(null);ig.displayName="RouteError";var $1="REACT_ROUTER_ERROR",c2="REDIRECT",u2="ROUTE_ERROR_RESPONSE";function d2(s){if(s.startsWith(`${$1}:${c2}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function h2(s){if(s.startsWith(`${$1}:${u2}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new n2(e.status,e.statusText,e.data)}catch{}}function f2(s,{relative:e}={}){_t(Fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=T.useContext(ca),{hash:l,pathname:u,search:h}=Gc(s,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Os([n,u])),i.createHref({pathname:m,search:h,hash:l})}function Fc(){return T.useContext(qc)!=null}function On(){return _t(Fc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(qc).location}var Y1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q1(s){T.useContext(ca).static||T.useLayoutEffect(s)}function Fs(){let{isDataRoute:s}=T.useContext(Ra);return s?A2():p2()}function p2(){_t(Fc(),"useNavigate() may be used only in the context of a <Router> component.");let s=T.useContext(el),{basename:e,navigator:n}=T.useContext(ca),{matches:i}=T.useContext(Ra),{pathname:l}=On(),u=JSON.stringify(U1(i)),h=T.useRef(!1);return Q1(()=>{h.current=!0}),T.useCallback((v,g={})=>{if(rs(h.current,Y1),!h.current)return;if(typeof v=="number"){n.go(v);return}let x=B1(v,JSON.parse(u),l,g.relative==="path");s==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Os([e,x.pathname])),(g.replace?n.replace:n.push)(x,g.state,g)},[e,n,u,l,s])}var m2=T.createContext(null);function g2(s){let e=T.useContext(Ra).outlet;return T.useMemo(()=>e&&T.createElement(m2.Provider,{value:s},e),[e,s])}function Hc(){let{matches:s}=T.useContext(Ra),e=s[s.length-1];return e?e.params:{}}function Gc(s,{relative:e}={}){let{matches:n}=T.useContext(Ra),{pathname:i}=On(),l=JSON.stringify(U1(n));return T.useMemo(()=>B1(s,JSON.parse(l),i,e==="path"),[s,l,i,e])}function v2(s,e){return K1(s,e)}function K1(s,e,n,i,l){_t(Fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=T.useContext(ca),{matches:h}=T.useContext(Ra),m=h[h.length-1],v=m?m.params:{},g=m?m.pathname:"/",x=m?m.pathnameBase:"/",_=m&&m.route;{let P=_&&_.path||"";J1(g,!_||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let j=On(),S;if(e){let P=typeof e=="string"?Zo(e):e;_t(x==="/"||P.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${P.pathname}" was given in the \`location\` prop.`),S=P}else S=j;let I=S.pathname||"/",C=I;if(x!=="/"){let P=x.replace(/^\//,"").split("/");C="/"+I.replace(/^\//,"").split("/").slice(P.length).join("/")}let M=P1(s,{pathname:C});rs(_||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),rs(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=w2(M&&M.map(P=>Object.assign({},P,{params:Object.assign({},v,P.params),pathname:Os([x,u.encodeLocation?u.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?x:Os([x,u.encodeLocation?u.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),h,n,i,l);return e&&V?T.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function y2(){let s=S2(),e=a2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:u},"ErrorBoundary")," or"," ",T.createElement("code",{style:u},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:l},n):null,h)}var x2=T.createElement(y2,null),X1=class extends T.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=h2(s.digest);n&&(s=n)}let e=s!==void 0?T.createElement(Ra.Provider,{value:this.props.routeContext},T.createElement(ig.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?T.createElement(b2,{error:s},e):e}};X1.contextType=i2;var um=new WeakMap;function b2({children:s,error:e}){let{basename:n}=T.useContext(ca);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=d2(e.digest);if(i){let l=um.get(e);if(l)throw l;let u=F1(i.location,n);if(q1&&!um.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw um.set(e,h),h}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function _2({routeContext:s,match:e,children:n}){let i=T.useContext(el);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ra.Provider,{value:s},n)}function w2(s,e=[],n=null,i=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,h=n?.errors;if(h!=null){let x=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);_t(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let m=!1,v=-1;if(n)for(let x=0;x<u.length;x++){let _=u[x];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(v=x),_.route.id){let{loaderData:j,errors:S}=n,I=_.route.loader&&!j.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||I){m=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}let g=n&&i?(x,_)=>{i(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:s2(n.matches),errorInfo:_})}:void 0;return u.reduceRight((x,_,j)=>{let S,I=!1,C=null,M=null;n&&(S=h&&_.route.id?h[_.route.id]:void 0,C=_.route.errorElement||x2,m&&(v<0&&j===0?(J1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):v===j&&(I=!0,M=_.route.hydrateFallbackElement||null)));let V=e.concat(u.slice(0,j+1)),P=()=>{let H;return S?H=C:I?H=M:_.route.Component?H=T.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=x,T.createElement(_2,{match:_,routeContext:{outlet:x,matches:V,isDataRoute:n!=null},children:H})};return n&&(_.route.ErrorBoundary||_.route.errorElement||j===0)?T.createElement(X1,{location:n.location,revalidation:n.revalidation,component:C,error:S,children:P(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:g}):P()},null)}function og(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j2(s){let e=T.useContext(el);return _t(e,og(s)),e}function E2(s){let e=T.useContext(Ch);return _t(e,og(s)),e}function N2(s){let e=T.useContext(Ra);return _t(e,og(s)),e}function lg(s){let e=N2(s),n=e.matches[e.matches.length-1];return _t(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function T2(){return lg("useRouteId")}function S2(){let s=T.useContext(ig),e=E2("useRouteError"),n=lg("useRouteError");return s!==void 0?s:e.errors?.[n]}function A2(){let{router:s}=j2("useNavigate"),e=lg("useNavigate"),n=T.useRef(!1);return Q1(()=>{n.current=!0}),T.useCallback(async(l,u={})=>{rs(n.current,Y1),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var Q0={};function J1(s,e,n){!e&&!Q0[s]&&(Q0[s]=!0,rs(!1,n))}T.memo(C2);function C2({routes:s,future:e,state:n,onError:i}){return K1(s,void 0,n,i,e)}function R2(s){return g2(s.context)}function _e(s){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k2({basename:s="/",children:e=null,location:n,navigationType:i="POP",navigator:l,static:u=!1,unstable_useTransitions:h}){_t(!Fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),v=T.useMemo(()=>({basename:m,navigator:l,static:u,unstable_useTransitions:h,future:{}}),[m,l,u,h]);typeof n=="string"&&(n=Zo(n));let{pathname:g="/",search:x="",hash:_="",state:j=null,key:S="default"}=n,I=T.useMemo(()=>{let C=Vs(g,m);return C==null?null:{location:{pathname:C,search:x,hash:_,state:j,key:S},navigationType:i}},[m,g,x,_,j,S,i]);return rs(I!=null,`<Router basename="${m}"> is not able to match the URL "${g}${x}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:T.createElement(ca.Provider,{value:v},T.createElement(qc.Provider,{children:e,value:I}))}function I2({children:s,location:e}){return v2(Cm(s),e)}function Cm(s,e=[]){let n=[];return T.Children.forEach(s,(i,l)=>{if(!T.isValidElement(i))return;let u=[...e,l];if(i.type===T.Fragment){n.push.apply(n,Cm(i.props.children,u));return}_t(i.type===_e,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Cm(i.props.children,u)),n.push(h)}),n}var Qd="get",Kd="application/x-www-form-urlencoded";function Rh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function D2(s){return Rh(s)&&s.tagName.toLowerCase()==="button"}function M2(s){return Rh(s)&&s.tagName.toLowerCase()==="form"}function O2(s){return Rh(s)&&s.tagName.toLowerCase()==="input"}function z2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function P2(s,e){return s.button===0&&(!e||e==="_self")&&!z2(s)}var Ud=null;function V2(){if(Ud===null)try{new FormData(document.createElement("form"),0),Ud=!1}catch{Ud=!0}return Ud}var L2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(s){return s!=null&&!L2.has(s)?(rs(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kd}"`),null):s}function U2(s,e){let n,i,l,u,h;if(M2(s)){let m=s.getAttribute("action");i=m?Vs(m,e):null,n=s.getAttribute("method")||Qd,l=dm(s.getAttribute("enctype"))||Kd,u=new FormData(s)}else if(D2(s)||O2(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=s.getAttribute("formaction")||m.getAttribute("action");if(i=v?Vs(v,e):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||Qd,l=dm(s.getAttribute("formenctype"))||dm(m.getAttribute("enctype"))||Kd,u=new FormData(m,s),!V2()){let{name:g,type:x,value:_}=s;if(x==="image"){let j=g?`${g}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else g&&u.append(g,_)}}else{if(Rh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qd,i=null,l=Kd,h=s}return u&&l==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function B2(s,e,n,i){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${i}`:l.pathname=`${l.pathname}.${i}`:l.pathname==="/"?l.pathname=`_root.${i}`:e&&Vs(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function q2(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function H2(s,e,n){let i=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let h=await q2(u,n);return h.links?h.links():[]}return[]}));return Q2(i.flat(1).filter(F2).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function K0(s,e,n,i,l,u){let h=(v,g)=>n[g]?v.route.id!==n[g].route.id:!0,m=(v,g)=>n[g].pathname!==v.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==v.params["*"];return u==="assets"?e.filter((v,g)=>h(v,g)||m(v,g)):u==="data"?e.filter((v,g)=>{let x=i.routes[v.route.id];if(!x||!x.hasLoader)return!1;if(h(v,g)||m(v,g))return!0;if(v.route.shouldRevalidate){let _=v.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function G2(s,e,{includeHydrateFallback:n}={}){return $2(s.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function $2(s){return[...new Set(s)]}function Y2(s){let e={},n=Object.keys(s).sort();for(let i of n)e[i]=s[i];return e}function Q2(s,e){let n=new Set;return new Set(e),s.reduce((i,l)=>{let u=JSON.stringify(Y2(l));return n.has(u)||(n.add(u),i.push({key:u,link:l})),i},[])}function W1(){let s=T.useContext(el);return cg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function K2(){let s=T.useContext(Ch);return cg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var ug=T.createContext(void 0);ug.displayName="FrameworkContext";function Z1(){let s=T.useContext(ug);return cg(s,"You must render this element inside a <HydratedRouter> element"),s}function X2(s,e){let n=T.useContext(ug),[i,l]=T.useState(!1),[u,h]=T.useState(!1),{onFocus:m,onBlur:v,onMouseEnter:g,onMouseLeave:x,onTouchStart:_}=e,j=T.useRef(null);T.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let C=V=>{V.forEach(P=>{h(P.isIntersecting)})},M=new IntersectionObserver(C,{threshold:.5});return j.current&&M.observe(j.current),()=>{M.disconnect()}}},[s]),T.useEffect(()=>{if(i){let C=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(C)}}},[i]);let S=()=>{l(!0)},I=()=>{l(!1),h(!1)};return n?s!=="intent"?[u,j,{}]:[u,j,{onFocus:pc(m,S),onBlur:pc(v,I),onMouseEnter:pc(g,S),onMouseLeave:pc(x,I),onTouchStart:pc(_,S)}]:[!1,j,{}]}function pc(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function J2({page:s,...e}){let{router:n}=W1(),i=T.useMemo(()=>P1(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?T.createElement(Z2,{page:s,matches:i,...e}):null}function W2(s){let{manifest:e,routeModules:n}=Z1(),[i,l]=T.useState([]);return T.useEffect(()=>{let u=!1;return H2(s,e,n).then(h=>{u||l(h)}),()=>{u=!0}},[s,e,n]),i}function Z2({page:s,matches:e,...n}){let i=On(),{future:l,manifest:u,routeModules:h}=Z1(),{basename:m}=W1(),{loaderData:v,matches:g}=K2(),x=T.useMemo(()=>K0(s,e,g,u,i,"data"),[s,e,g,u,i]),_=T.useMemo(()=>K0(s,e,g,u,i,"assets"),[s,e,g,u,i]),j=T.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let C=new Set,M=!1;if(e.forEach(P=>{let H=u.routes[P.route.id];!H||!H.hasLoader||(!x.some(ee=>ee.route.id===P.route.id)&&P.route.id in v&&h[P.route.id]?.shouldRevalidate||H.hasClientLoader?M=!0:C.add(P.route.id))}),C.size===0)return[];let V=B2(s,m,l.unstable_trailingSlashAwareDataRequests,"data");return M&&C.size>0&&V.searchParams.set("_routes",e.filter(P=>C.has(P.route.id)).map(P=>P.route.id).join(",")),[V.pathname+V.search]},[m,l.unstable_trailingSlashAwareDataRequests,v,i,u,x,e,s,h]),S=T.useMemo(()=>G2(_,u),[_,u]),I=W2(_);return T.createElement(T.Fragment,null,j.map(C=>T.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),S.map(C=>T.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),I.map(({key:C,link:M})=>T.createElement("link",{key:C,nonce:n.nonce,...M,crossOrigin:M.crossOrigin??n.crossOrigin})))}function eT(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tT&&(window.__reactRouterVersion="7.13.0")}catch{}function nT({basename:s,children:e,unstable_useTransitions:n,window:i}){let l=T.useRef();l.current==null&&(l.current=DN({window:i,v5Compat:!0}));let u=l.current,[h,m]=T.useState({action:u.action,location:u.location}),v=T.useCallback(g=>{n===!1?m(g):T.startTransition(()=>m(g))},[n]);return T.useLayoutEffect(()=>u.listen(v),[u,v]),T.createElement(k2,{basename:s,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var e_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=T.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:l,reloadDocument:u,replace:h,state:m,target:v,to:g,preventScrollReset:x,viewTransition:_,unstable_defaultShouldRevalidate:j,...S},I){let{basename:C,unstable_useTransitions:M}=T.useContext(ca),V=typeof g=="string"&&e_.test(g),P=F1(g,C);g=P.to;let H=f2(g,{relative:l}),[ee,re,W]=X2(i,S),R=rT(g,{replace:h,state:m,target:v,preventScrollReset:x,relative:l,viewTransition:_,unstable_defaultShouldRevalidate:j,unstable_useTransitions:M});function A(L){e&&e(L),L.defaultPrevented||R(L)}let D=T.createElement("a",{...S,...W,href:P.absoluteURL||H,onClick:P.isExternal||u?e:A,ref:eT(I,re),target:v,"data-discover":!V&&n==="render"?"true":void 0});return ee&&!V?T.createElement(T.Fragment,null,D,T.createElement(J2,{page:H})):D});oe.displayName="Link";var t_=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:l=!1,style:u,to:h,viewTransition:m,children:v,...g},x){let _=Gc(h,{relative:g.relative}),j=On(),S=T.useContext(Ch),{navigator:I,basename:C}=T.useContext(ca),M=S!=null&&uT(_)&&m===!0,V=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,P=j.pathname,H=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(P=P.toLowerCase(),H=H?H.toLowerCase():null,V=V.toLowerCase()),H&&C&&(H=Vs(H,C)||H);const ee=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let re=P===V||!l&&P.startsWith(V)&&P.charAt(ee)==="/",W=H!=null&&(H===V||!l&&H.startsWith(V)&&H.charAt(V.length)==="/"),R={isActive:re,isPending:W,isTransitioning:M},A=re?e:void 0,D;typeof i=="function"?D=i(R):D=[i,re?"active":null,W?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(R):u;return T.createElement(oe,{...g,"aria-current":A,className:D,ref:x,style:L,to:h,viewTransition:m},typeof v=="function"?v(R):v)});t_.displayName="NavLink";var aT=T.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:l,state:u,method:h=Qd,action:m,onSubmit:v,relative:g,preventScrollReset:x,viewTransition:_,unstable_defaultShouldRevalidate:j,...S},I)=>{let{unstable_useTransitions:C}=T.useContext(ca),M=lT(),V=cT(m,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&e_.test(m),ee=re=>{if(v&&v(re),re.defaultPrevented)return;re.preventDefault();let W=re.nativeEvent.submitter,R=W?.getAttribute("formmethod")||h,A=()=>M(W||re.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:l,state:u,relative:g,preventScrollReset:x,viewTransition:_,unstable_defaultShouldRevalidate:j});C&&n!==!1?T.startTransition(()=>A()):A()};return T.createElement("form",{ref:I,method:P,action:V,onSubmit:i?v:ee,...S,"data-discover":!H&&s==="render"?"true":void 0})});aT.displayName="Form";function sT(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n_(s){let e=T.useContext(el);return _t(e,sT(s)),e}function rT(s,{target:e,replace:n,state:i,preventScrollReset:l,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:v}={}){let g=Fs(),x=On(),_=Gc(s,{relative:u});return T.useCallback(j=>{if(P2(j,e)){j.preventDefault();let S=n!==void 0?n:Ac(x)===Ac(_),I=()=>g(s,{replace:S,state:i,preventScrollReset:l,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});v?T.startTransition(()=>I()):I()}},[x,g,_,n,i,e,s,l,u,h,m,v])}var iT=0,oT=()=>`__${String(++iT)}__`;function lT(){let{router:s}=n_("useSubmit"),{basename:e}=T.useContext(ca),n=T2(),i=s.fetch,l=s.navigate;return T.useCallback(async(u,h={})=>{let{action:m,method:v,encType:g,formData:x,body:_}=U2(u,e);if(h.navigate===!1){let j=h.fetcherKey||oT();await i(j,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:_,formMethod:h.method||v,formEncType:h.encType||g,flushSync:h.flushSync})}else await l(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:_,formMethod:h.method||v,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[i,l,e,n])}function cT(s,{relative:e}={}){let{basename:n}=T.useContext(ca),i=T.useContext(Ra);_t(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Gc(s||".",{relative:e})},h=On();if(s==null){u.search=h.search;let m=new URLSearchParams(u.search),v=m.getAll("index");if(v.some(x=>x==="")){m.delete("index"),v.filter(_=>_).forEach(_=>m.append("index",_));let x=m.toString();u.search=x?`?${x}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Os([n,u.pathname])),Ac(u)}function uT(s,{relative:e}={}){let n=T.useContext(G1);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=n_("useViewTransitionState"),l=Gc(s,{relative:e});if(!n.isTransitioning)return!1;let u=Vs(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=Vs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return oh(l.pathname,h)!=null||oh(l.pathname,u)!=null}function dT(){const{pathname:s}=On();return T.useEffect(()=>{window.scrollTo(0,0)},[s]),null}const a_=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const hT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const fT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const X0=s=>{const e=fT(s);return e.charAt(0).toUpperCase()+e.slice(1)};var pT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const gT=T.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:u,iconNode:h,...m},v)=>T.createElement("svg",{ref:v,...pT,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:a_("lucide",l),...!u&&!mT(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,x])=>T.createElement(g,x)),...Array.isArray(u)?u:[u]]));const he=(s,e)=>{const n=T.forwardRef(({className:i,...l},u)=>T.createElement(gT,{ref:u,iconNode:e,className:a_(`lucide-${hT(X0(s))}`,`lucide-${s}`,i),...l}));return n.displayName=X0(s),n};const vT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cc=he("arrow-left",vT);const yT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ja=he("arrow-right",yT);const xT=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],s_=he("arrow-up-right",xT);const bT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Rm=he("award",bT);const _T=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],r_=he("badge-check",_T);const wT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],dg=he("bell",wT);const jT=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Dr=he("briefcase",jT);const ET=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],NT=he("calendar-days",ET);const TT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ht=he("calendar",TT);const ST=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],i_=he("camera",ST);const AT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],CT=he("chart-column",AT);const RT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rn=he("check",RT);const kT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rc=he("chevron-down",kT);const IT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],DT=he("chevron-left",IT);const MT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oa=he("chevron-right",MT);const OT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zT=he("chevron-up",OT);const PT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hg=he("circle-alert",PT);const VT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vt=he("circle-check-big",VT);const LT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],o_=he("circle-question-mark",LT);const UT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],St=he("clock",UT);const BT=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Go=he("credit-card",BT);const qT=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ta=he("dollar-sign",qT);const FT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kh=he("download",FT);const HT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],l_=he("external-link",HT);const GT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],c_=he("eye-off",GT);const $T=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$c=he("eye",$T);const YT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],u_=he("facebook",YT);const QT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xd=he("file-text",QT);const KT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],XT=he("funnel",KT);const JT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],WT=he("grid-3x3",JT);const ZT=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],eS=he("grip-vertical",ZT);const tS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],nS=he("heart",tS);const aS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],d_=he("house",aS);const sS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rS=he("info",sS);const iS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],oS=he("instagram",iS);const lS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],hm=he("layout-dashboard",lS);const cS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],h_=he("linkedin",cS);const uS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],f_=he("list",uS);const dS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],De=he("loader-circle",dS);const hS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],p_=he("lock",hS);const fS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],km=he("log-out",fS);const pS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Vi=he("mail",pS);const mS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dn=he("map-pin",mS);const gS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],m_=he("menu",gS);const vS=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],fg=he("message-circle",vS);const yS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xS=he("message-square",yS);const bS=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],_S=he("paintbrush",bS);const wS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Li=he("pen",wS);const jS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Yc=he("phone",jS);const ES=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mr=he("plus",ES);const NS=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],TS=he("receipt",NS);const SS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],AS=he("save",SS);const CS=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],RS=he("scissors",CS);const kS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ua=he("search",kS);const IS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],DS=he("send",IS);const MS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pg=he("settings",MS);const OS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qc=he("shield",OS);const zS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],g_=he("sparkles",zS);const PS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cn=he("star",PS);const VS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],LS=he("target",VS);const US=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tl=he("trash-2",US);const BS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ih=he("trending-up",BS);const qS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],J0=he("triangle-alert",qS);const FS=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],v_=he("twitter",FS);const HS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mn=he("user",HS);const GS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$n=he("users",GS);const $S=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],YS=he("wallet",$S);const QS=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],KS=he("wind",QS);const XS=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],JS=he("wrench",XS);const WS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nl=he("x",WS);const ZS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],is=he("zap",ZS),eA=()=>{};var W0={};const y_=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let l=s.charCodeAt(i);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},tA=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const l=s[n++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],h=s[n++],m=s[n++],v=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(v>>10)),e[i++]=String.fromCharCode(56320+(v&1023))}else{const u=s[n++],h=s[n++];e[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return e.join("")},x_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<s.length;l+=3){const u=s[l],h=l+1<s.length,m=h?s[l+1]:0,v=l+2<s.length,g=v?s[l+2]:0,x=u>>2,_=(u&3)<<4|m>>4;let j=(m&15)<<2|g>>6,S=g&63;v||(S=64,h||(j=64)),i.push(n[x],n[_],n[j],n[S])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(y_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):tA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],m=l<s.length?n[s.charAt(l)]:0;++l;const g=l<s.length?n[s.charAt(l)]:64;++l;const _=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||m==null||g==null||_==null)throw new nA;const j=u<<2|m>>4;if(i.push(j),g!==64){const S=m<<4&240|g>>2;if(i.push(S),_!==64){const I=g<<6&192|_;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aA=function(s){const e=y_(s);return x_.encodeByteArray(e,!0)},lh=function(s){return aA(s).replace(/\./g,"")},b_=function(s){try{return x_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rA=()=>sA().__FIREBASE_DEFAULTS__,iA=()=>{if(typeof process>"u"||typeof W0>"u")return;const s=W0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},oA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&b_(s[1]);return e&&JSON.parse(e)},Dh=()=>{try{return eA()||rA()||iA()||oA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},__=s=>Dh()?.emulatorHosts?.[s],w_=s=>{const e=__(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},j_=()=>Dh()?.config,E_=s=>Dh()?.[`_${s}`];class lA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Ui(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mg(s){return(await fetch(s,{credentials:"include"})).ok}function N_(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[lh(JSON.stringify(n)),lh(JSON.stringify(h)),""].join(".")}const wc={};function cA(){const s={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?s.emulator.push(e):s.prod.push(e);return s}function uA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Z0=!1;function gg(s,e){if(typeof window>"u"||typeof document>"u"||!Ui(window.location.host)||wc[s]===e||wc[s]||Z0)return;wc[s]=e;function n(j){return`__firebase__banner__${j}`}const i="__firebase__banner",u=cA().prod.length>0;function h(){const j=document.getElementById(i);j&&j.remove()}function m(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function v(j,S){j.setAttribute("width","24"),j.setAttribute("id",S),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function g(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{Z0=!0,h()},j}function x(j,S){j.setAttribute("id",S),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function _(){const j=uA(i),S=n("text"),I=document.getElementById(S)||document.createElement("span"),C=n("learnmore"),M=document.getElementById(C)||document.createElement("a"),V=n("preprendIcon"),P=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const H=j.element;m(H),x(M,C);const ee=g();v(P,V),H.append(P,I,M,ee),document.body.appendChild(H)}u?(I.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function hA(){const s=Dh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gA(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function vA(){return!hA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yA(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const bA="FirebaseError";class us extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=bA,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],h=u?_A(u,i):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new us(l,m,i)}}function _A(s,e){return s.replace(wA,(n,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const wA=/\{\$([^}]+)}/g;function jA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ri(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const l of n){if(!i.includes(l))return!1;const u=s[l],h=e[l];if(eb(u)&&eb(h)){if(!Ri(u,h))return!1}else if(u!==h)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function eb(s){return s!==null&&typeof s=="object"}function Xc(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,u]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function vc(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function EA(s,e){const n=new NA(s,e);return n.subscribe.bind(n)}class NA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let l;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");TA(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:i},l.next===void 0&&(l.next=fm),l.error===void 0&&(l.error=fm),l.complete===void 0&&(l.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TA(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function fm(){}function yt(s){return s&&s._delegate?s._delegate:s}class Or{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ni="[DEFAULT]";class SA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new lA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CA(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(l)}return l}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(e),this.onInitCallbacks.set(i,l);const u=this.instances.get(i);return u&&e(u,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(s){return s===Ni?void 0:s}function CA(s){return s.instantiationMode==="EAGER"}class RA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const kA={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},IA=Ve.INFO,DA={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},MA=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),l=DA[e];if(l)console[l](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vg{constructor(e){this.name=e,this._logLevel=IA,this._logHandler=MA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const OA=(s,e)=>e.some(n=>s instanceof n);let tb,nb;function zA(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PA(){return nb||(nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T_=new WeakMap,Im=new WeakMap,S_=new WeakMap,pm=new WeakMap,yg=new WeakMap;function VA(s){const e=new Promise((n,i)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{n(Cr(s.result)),l()},h=()=>{i(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&T_.set(n,s)}).catch(()=>{}),yg.set(e,s),e}function LA(s){if(Im.has(s))return;const e=new Promise((n,i)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{n(),l()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});Im.set(s,e)}let Dm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||S_.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function UA(s){Dm=s(Dm)}function BA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(mm(this),e,...n);return S_.set(i,e.sort?e.sort():[e]),Cr(i)}:PA().includes(s)?function(...e){return s.apply(mm(this),e),Cr(T_.get(this))}:function(...e){return Cr(s.apply(mm(this),e))}}function qA(s){return typeof s=="function"?BA(s):(s instanceof IDBTransaction&&LA(s),OA(s,zA())?new Proxy(s,Dm):s)}function Cr(s){if(s instanceof IDBRequest)return VA(s);if(pm.has(s))return pm.get(s);const e=qA(s);return e!==s&&(pm.set(s,e),yg.set(e,s)),e}const mm=s=>yg.get(s);function FA(s,e,{blocked:n,upgrade:i,blocking:l,terminated:u}={}){const h=indexedDB.open(s,e),m=Cr(h);return i&&h.addEventListener("upgradeneeded",v=>{i(Cr(h.result),v.oldVersion,v.newVersion,Cr(h.transaction),v)}),n&&h.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),m.then(v=>{u&&v.addEventListener("close",()=>u()),l&&v.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const HA=["get","getKey","getAll","getAllKeys","count"],GA=["put","add","delete","clear"],gm=new Map;function ab(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,l=GA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||HA.includes(n)))return;const u=async function(h,...m){const v=this.transaction(h,l?"readwrite":"readonly");let g=v.store;return i&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),l&&v.done]))[0]};return gm.set(e,u),u}UA(s=>({...s,get:(e,n,i)=>ab(e,n)||s.get(e,n,i),has:(e,n)=>!!ab(e,n)||s.has(e,n)}));class $A{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function YA(s){return s.getComponent()?.type==="VERSION"}const Mm="@firebase/app",sb="0.14.7";const Ls=new vg("@firebase/app"),QA="@firebase/app-compat",KA="@firebase/analytics-compat",XA="@firebase/analytics",JA="@firebase/app-check-compat",WA="@firebase/app-check",ZA="@firebase/auth",eC="@firebase/auth-compat",tC="@firebase/database",nC="@firebase/data-connect",aC="@firebase/database-compat",sC="@firebase/functions",rC="@firebase/functions-compat",iC="@firebase/installations",oC="@firebase/installations-compat",lC="@firebase/messaging",cC="@firebase/messaging-compat",uC="@firebase/performance",dC="@firebase/performance-compat",hC="@firebase/remote-config",fC="@firebase/remote-config-compat",pC="@firebase/storage",mC="@firebase/storage-compat",gC="@firebase/firestore",vC="@firebase/ai",yC="@firebase/firestore-compat",xC="firebase",bC="12.8.0";const Om="[DEFAULT]",_C={[Mm]:"fire-core",[QA]:"fire-core-compat",[XA]:"fire-analytics",[KA]:"fire-analytics-compat",[WA]:"fire-app-check",[JA]:"fire-app-check-compat",[ZA]:"fire-auth",[eC]:"fire-auth-compat",[tC]:"fire-rtdb",[nC]:"fire-data-connect",[aC]:"fire-rtdb-compat",[sC]:"fire-fn",[rC]:"fire-fn-compat",[iC]:"fire-iid",[oC]:"fire-iid-compat",[lC]:"fire-fcm",[cC]:"fire-fcm-compat",[uC]:"fire-perf",[dC]:"fire-perf-compat",[hC]:"fire-rc",[fC]:"fire-rc-compat",[pC]:"fire-gcs",[mC]:"fire-gcs-compat",[gC]:"fire-fst",[yC]:"fire-fst-compat",[vC]:"fire-vertex","fire-js":"fire-js",[xC]:"fire-js-all"};const ch=new Map,wC=new Map,zm=new Map;function rb(s,e){try{s.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ki(s){const e=s.name;if(zm.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,s);for(const n of ch.values())rb(n,s);for(const n of wC.values())rb(n,s);return!0}function Mh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function kn(s){return s==null?!1:s.settings!==void 0}const jC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Kc("app","Firebase",jC);class EC{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const Bi=bC;function A_(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i={name:Om,automaticDataCollectionEnabled:!0,...e},l=i.name;if(typeof l!="string"||!l)throw Rr.create("bad-app-name",{appName:String(l)});if(n||(n=j_()),!n)throw Rr.create("no-options");const u=ch.get(l);if(u){if(Ri(n,u.options)&&Ri(i,u.config))return u;throw Rr.create("duplicate-app",{appName:l})}const h=new RA(l);for(const v of zm.values())h.addComponent(v);const m=new EC(n,i,h);return ch.set(l,m),m}function xg(s=Om){const e=ch.get(s);if(!e&&s===Om&&j_())return A_();if(!e)throw Rr.create("no-app",{appName:s});return e}function es(s,e,n){let i=_C[s]??s;n&&(i+=`-${n}`);const l=i.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${i}" with version "${e}":`];l&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(h.join(" "));return}ki(new Or(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const NC="firebase-heartbeat-database",TC=1,kc="firebase-heartbeat-store";let vm=null;function C_(){return vm||(vm=FA(NC,TC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(kc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Rr.create("idb-open",{originalErrorMessage:s.message})})),vm}async function SC(s){try{const n=(await C_()).transaction(kc),i=await n.objectStore(kc).get(R_(s));return await n.done,i}catch(e){if(e instanceof us)Ls.warn(e.message);else{const n=Rr.create("idb-get",{originalErrorMessage:e?.message});Ls.warn(n.message)}}}async function ib(s,e){try{const i=(await C_()).transaction(kc,"readwrite");await i.objectStore(kc).put(e,R_(s)),await i.done}catch(n){if(n instanceof us)Ls.warn(n.message);else{const i=Rr.create("idb-set",{originalErrorMessage:n?.message});Ls.warn(i.message)}}}function R_(s){return`${s.name}!${s.options.appId}`}const AC=1024,CC=30;class RC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ob();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>CC){const l=DC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ob(),{heartbeatsToSend:n,unsentEntries:i}=kC(this._heartbeatsCache.heartbeats),l=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ls.warn(e),""}}}function ob(){return new Date().toISOString().substring(0,10)}function kC(s,e=AC){const n=[];let i=s.slice();for(const l of s){const u=n.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),lb(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),lb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class IC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yA()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ib(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ib(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lb(s){return lh(JSON.stringify({version:2,heartbeats:s})).length}function DC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}function MC(s){ki(new Or("platform-logger",e=>new $A(e),"PRIVATE")),ki(new Or("heartbeat",e=>new RC(e),"PRIVATE")),es(Mm,sb,s),es(Mm,sb,"esm2020"),es("fire-js","")}MC("");function k_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OC=k_,I_=new Kc("auth","Firebase",k_());const uh=new vg("@firebase/auth");function zC(s,...e){uh.logLevel<=Ve.WARN&&uh.warn(`Auth (${Bi}): ${s}`,...e)}function Jd(s,...e){uh.logLevel<=Ve.ERROR&&uh.error(`Auth (${Bi}): ${s}`,...e)}function la(s,...e){throw _g(s,...e)}function Sa(s,...e){return _g(s,...e)}function bg(s,e,n){const i={...OC(),[e]:n};return new Kc("auth","Firebase",i).create(e,{appName:s.name})}function zs(s){return bg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PC(s,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&la(s,"argument-error"),bg(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _g(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return I_.create(s,...e)}function je(s,e,...n){if(!s)throw _g(e,...n)}function Is(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Jd(e),new Error(e)}function Us(s,e){s||Is(e)}function Pm(){return typeof self<"u"&&self.location?.href||""}function VC(){return cb()==="http:"||cb()==="https:"}function cb(){return typeof self<"u"&&self.location?.protocol||null}function LC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VC()||pA()||"connection"in navigator)?navigator.onLine:!0}function UC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=dA()||mA()}get(){return LC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wg(s,e){Us(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class D_{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FC=new Jc(3e4,6e4);function qr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Hs(s,e,n,i,l={}){return M_(s,l,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const m=Xc({key:s.config.apiKey,...h}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:v,...u};return fA()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&Ui(s.emulatorConfig.host)&&(g.credentials="include"),D_.fetch()(await O_(s,s.config.apiHost,n,m),g)})}async function M_(s,e,n){s._canInitEmulator=!1;const i={...BC,...e};try{const l=new GC(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Bd(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[v,g]=m.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bd(s,"credential-already-in-use",h);if(v==="EMAIL_EXISTS")throw Bd(s,"email-already-in-use",h);if(v==="USER_DISABLED")throw Bd(s,"user-disabled",h);const x=i[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bg(s,x,g);la(s,x)}}catch(l){if(l instanceof us)throw l;la(s,"network-request-failed",{message:String(l)})}}async function Wc(s,e,n,i,l={}){const u=await Hs(s,e,n,i,l);return"mfaPendingCredential"in u&&la(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function O_(s,e,n,i){const l=`${e}${n}?${i}`,u=s,h=u.config.emulator?wg(s.config,l):`${s.config.apiScheme}://${l}`;return qC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function HC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Sa(this.auth,"network-request-failed")),FC.get())})}}function Bd(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const l=Sa(s,e,i);return l.customData._tokenResponse=n,l}function ub(s){return s!==void 0&&s.enterprise!==void 0}class $C{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YC(s,e){return Hs(s,"GET","/v2/recaptchaConfig",qr(s,e))}async function QC(s,e){return Hs(s,"POST","/v1/accounts:delete",e)}async function dh(s,e){return Hs(s,"POST","/v1/accounts:lookup",e)}function jc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KC(s,e=!1){const n=yt(s),i=await n.getIdToken(e),l=jg(i);je(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,h=u?.sign_in_provider;return{claims:l,token:i,authTime:jc(ym(l.auth_time)),issuedAtTime:jc(ym(l.iat)),expirationTime:jc(ym(l.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ym(s){return Number(s)*1e3}function jg(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const l=b_(n);return l?JSON.parse(l):(Jd("Failed to decode base64 JWT payload"),null)}catch(l){return Jd("Caught error parsing JWT payload as JSON",l?.toString()),null}}function db(s){const e=jg(s);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $o(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof us&&XC(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function XC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class JC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(s){const e=s.auth,n=await s.getIdToken(),i=await $o(s,dh(e,{idToken:n}));je(i?.users.length,e,"internal-error");const l=i.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?z_(l.providerUserInfo):[],h=ZC(s.providerData,u),m=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!h?.length,g=m?v:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Vm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(s,x)}async function WC(s){const e=yt(s);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZC(s,e){return[...s.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function z_(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function eR(s,e){const n=await M_(s,{},async()=>{const i=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,h=await O_(s,l,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:m,body:i};return s.emulatorConfig&&Ui(s.emulatorConfig.host)&&(v.credentials="include"),D_.fetch()(h,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tR(s,e){return Hs(s,"POST","/v2/accounts:revokeToken",qr(s,e))}class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=db(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:l,expiresIn:u}=await eR(e,n);this.updateTokensAndExpiration(i,l,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:l,expirationTime:u}=n,h=new Uo;return i&&(je(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),l&&(je(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),u&&(je(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Is("not implemented")}}function Er(s,e){je(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ea{constructor({uid:e,auth:n,stsTokenManager:i,...l}){this.providerId="firebase",this.proactiveRefresh=new JC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Vm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await $o(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KC(this,e)}reload(){return WC(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ea({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await $o(this,QC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,v=n._redirectEventId??void 0,g=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:_,emailVerified:j,isAnonymous:S,providerData:I,stsTokenManager:C}=n;je(_&&C,e,"internal-error");const M=Uo.fromJSON(this.name,C);je(typeof _=="string",e,"internal-error"),Er(i,e.name),Er(l,e.name),je(typeof j=="boolean",e,"internal-error"),je(typeof S=="boolean",e,"internal-error"),Er(u,e.name),Er(h,e.name),Er(m,e.name),Er(v,e.name),Er(g,e.name),Er(x,e.name);const V=new Ea({uid:_,auth:e,email:l,emailVerified:j,displayName:i,isAnonymous:S,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:M,createdAt:g,lastLoginAt:x});return I&&Array.isArray(I)&&(V.providerData=I.map(P=>({...P}))),v&&(V._redirectEventId=v),V}static async _fromIdTokenResponse(e,n,i=!1){const l=new Uo;l.updateFromServerResponse(n);const u=new Ea({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await hh(u),u}static async _fromGetAccountInfoResponse(e,n,i){const l=n.users[0];je(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?z_(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!u?.length,m=new Uo;m.updateFromIdToken(i);const v=new Ea({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Vm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(v,g),v}}const hb=new Map;function Ds(s){Us(s instanceof Function,"Expected a class definition");let e=hb.get(s);return e?(Us(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,hb.set(s,e),e)}class P_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P_.type="NONE";const fb=P_;function Wd(s,e,n){return`firebase:${s}:${e}:${n}`}class Bo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:l,name:u}=this.auth;this.fullUserKey=Wd(this.userKey,l.apiKey,u),this.fullPersistenceKey=Wd("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?Ea._fromGetAccountInfoResponse(this.auth,n,e):null}return Ea._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Bo(Ds(fb),e,i);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||Ds(fb);const h=Wd(i,e.config.apiKey,e.name);let m=null;for(const g of n)try{const x=await g._get(h);if(x){let _;if(typeof x=="string"){const j=await dh(e,{idToken:x}).catch(()=>{});if(!j)break;_=await Ea._fromGetAccountInfoResponse(e,j,x)}else _=Ea._fromJSON(e,x);g!==u&&(m=_),u=g;break}}catch{}const v=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new Bo(u,e,i):(u=v[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Bo(u,e,i))}}function pb(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F_(e))return"Blackberry";if(H_(e))return"Webos";if(L_(e))return"Safari";if((e.includes("chrome/")||U_(e))&&!e.includes("edge/"))return"Chrome";if(q_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if(i?.length===2)return i[1]}return"Other"}function V_(s=mn()){return/firefox\//i.test(s)}function L_(s=mn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U_(s=mn()){return/crios\//i.test(s)}function B_(s=mn()){return/iemobile/i.test(s)}function q_(s=mn()){return/android/i.test(s)}function F_(s=mn()){return/blackberry/i.test(s)}function H_(s=mn()){return/webos/i.test(s)}function Eg(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function nR(s=mn()){return Eg(s)&&!!window.navigator?.standalone}function aR(){return gA()&&document.documentMode===10}function G_(s=mn()){return Eg(s)||q_(s)||H_(s)||F_(s)||/windows phone/i.test(s)||B_(s)}function $_(s,e=[]){let n;switch(s){case"Browser":n=pb(mn());break;case"Worker":n=`${pb(mn())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bi}/${i}`}class sR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((h,m)=>{try{const v=e(u);h(v)}catch(v){m(v)}});i.onAbort=n,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function rR(s,e={}){return Hs(s,"GET","/v2/passwordPolicy",qr(s,e))}const iR=6;class oR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class lR{constructor(e,n,i,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mb(this),this.idTokenSubscription=new mb(this),this.beforeStateQueue=new sR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ds(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),i=await Ea._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(i=m.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(zs(this));const n=e?yt(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rR(this),n=new oR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await tR(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ds(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const v=e.addObserver(n,i,l);return()=>{h=!0,v()}}else{const v=e.addObserver(n);return()=>{h=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fr(s){return yt(s)}class mb{constructor(e){this.auth=e,this.observer=null,this.addObserver=EA(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cR(s){Oh=s}function Y_(s){return Oh.loadJS(s)}function uR(){return Oh.recaptchaEnterpriseScript}function dR(){return Oh.gapiScript}function hR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class fR{constructor(){this.enterprise=new pR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mR="recaptcha-enterprise",Q_="NO_RECAPTCHA";class gR{constructor(e){this.type=mR,this.auth=Fr(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{YC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new $C(v);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(v=>{m(v)})})}function l(u,h,m){const v=window.grecaptcha;ub(v)?v.enterprise.ready(()=>{v.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Q_)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fR().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(m=>{if(!n&&ub(window.grecaptcha))l(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let v=uR();v.length!==0&&(v+=m),Y_(v).then(()=>{l(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function gb(s,e,n,i=!1,l=!1){const u=new gR(s);let h;if(l)h=Q_;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const v=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const v=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Lm(s,e,n,i,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await gb(s,e,n,n==="getOobCode");return i(s,u)}else return i(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await gb(s,e,n,n==="getOobCode");return i(s,h)}else return Promise.reject(u)})}function vR(s,e){const n=Mh(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Ri(u,e??{}))return l;la(l,"already-initialized")}return n.initialize({options:e})}function yR(s,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ds);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}function xR(s,e,n){const i=Fr(s);je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,u=K_(e),{host:h,port:m}=bR(e),v=m===null?"":`:${m}`,g={url:`${u}//${h}${v}/`},x=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(Ri(g,i.config.emulator)&&Ri(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,Ui(h)?(mg(`${u}//${h}${v}`),gg("Auth",!0)):_R()}function K_(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function bR(s){const e=K_(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const u=l[1];return{host:u,port:vb(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:vb(h)}}}function vb(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function _R(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function wR(s,e){return Hs(s,"POST","/v1/accounts:update",e)}async function jR(s,e){return Hs(s,"POST","/v1/accounts:signUp",e)}async function ER(s,e){return Wc(s,"POST","/v1/accounts:signInWithPassword",qr(s,e))}async function NR(s,e){return Wc(s,"POST","/v1/accounts:signInWithEmailLink",qr(s,e))}async function TR(s,e){return Wc(s,"POST","/v1/accounts:signInWithEmailLink",qr(s,e))}class Ic extends Ng{constructor(e,n,i,l=null){super("password",i),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Ic(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ic(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,n,"signInWithPassword",ER);case"emailLink":return NR(e,{email:this._email,oobCode:this._password});default:la(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,i,"signUpPassword",jR);case"emailLink":return TR(e,{idToken:n,email:this._email,oobCode:this._password});default:la(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qo(s,e){return Wc(s,"POST","/v1/accounts:signInWithIdp",qr(s,e))}const SR="http://localhost";class Ii extends Ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):la("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l,...u}=n;if(!i||!l)return null;const h=new Ii(i,l);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return qo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,qo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qo(e,n)}buildRequest(){const e={requestUri:SR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xc(n)}return e}}function AR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CR(s){const e=gc(vc(s)).link,n=e?gc(vc(e)).deep_link_id:null,i=gc(vc(s)).deep_link_id;return(i?gc(vc(i)).link:null)||i||n||e||s}class Tg{constructor(e){const n=gc(vc(e)),i=n.apiKey??null,l=n.oobCode??null,u=AR(n.mode??null);je(i&&l&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CR(e);try{return new Tg(n)}catch{return null}}}class qi{constructor(){this.providerId=qi.PROVIDER_ID}static credential(e,n){return Ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Tg.parseLink(n);return je(i,"argument-error"),Ic._fromEmailAndCode(e,i.code,i.tenantId)}}qi.PROVIDER_ID="password";qi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Sg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zc extends Sg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Nr extends Zc{constructor(){super("facebook.com")}static credential(e){return Ii._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";class ks extends Zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ii._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ks.credential(n,i)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";class Tr extends Zc{constructor(){super("github.com")}static credential(e){return Ii._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";class Sr extends Zc{constructor(){super("twitter.com")}static credential(e,n){return Ii._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Sr.credential(n,i)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";async function RR(s,e){return Wc(s,"POST","/v1/accounts:signUp",qr(s,e))}class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,l=!1){const u=await Ea._fromIdTokenResponse(e,i,l),h=yb(i);return new Di({user:u,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const l=yb(i);return new Di({user:e,providerId:l,_tokenResponse:i,operationType:n})}}function yb(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class fh extends us{constructor(e,n,i,l){super(n.code,n.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,l){return new fh(e,n,i,l)}}function X_(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(s,u,e,i):u})}async function kR(s,e,n=!1){const i=await $o(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Di._forOperation(s,"link",i)}async function J_(s,e,n=!1){const{auth:i}=s;if(kn(i.app))return Promise.reject(zs(i));const l="reauthenticate";try{const u=await $o(s,X_(i,l,e,s),n);je(u.idToken,i,"internal-error");const h=jg(u.idToken);je(h,i,"internal-error");const{sub:m}=h;return je(s.uid===m,i,"user-mismatch"),Di._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&la(i,"user-mismatch"),u}}async function W_(s,e,n=!1){if(kn(s.app))return Promise.reject(zs(s));const i="signIn",l=await X_(s,i,e),u=await Di._fromIdTokenResponse(s,i,l);return n||await s._updateCurrentUser(u.user),u}async function IR(s,e){return W_(Fr(s),e)}async function DR(s,e){return J_(yt(s),e)}async function Z_(s){const e=Fr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MR(s,e,n){if(kn(s.app))return Promise.reject(zs(s));const i=Fr(s),h=await Lm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RR).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&Z_(s),v}),m=await Di._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(m.user),m}function OR(s,e,n){return kn(s.app)?Promise.reject(zs(s)):IR(yt(s),qi.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Z_(s),i})}function zR(s,e){return PR(yt(s),null,e)}async function PR(s,e,n){const{auth:i}=s,u={idToken:await s.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const h=await $o(s,wR(i,u));await s._updateTokensIfNecessary(h,!0)}function VR(s,e,n,i){return yt(s).onIdTokenChanged(e,n,i)}function LR(s,e,n){return yt(s).beforeAuthStateChanged(e,n)}function UR(s,e,n,i){return yt(s).onAuthStateChanged(e,n,i)}function BR(s){return yt(s).signOut()}const ph="__sak";class ew{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qR=1e3,FR=10;class tw extends ew{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),l=this.localCache[n];i!==l&&e(n,l,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,v)=>{this.notifyListeners(h,v)});return}const i=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);aR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,FR):l()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tw.type="LOCAL";const HR=tw;class nw extends ew{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nw.type="SESSION";const aw=nw;function GR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const i=new zh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:l,data:u}=n.data,h=this.handlersMap[l];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const m=Array.from(h).map(async g=>g(n.origin,u)),v=await GR(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:v})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];function Ag(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}class $R{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,h;return new Promise((m,v)=>{const g=Ag("",20);l.port1.start();const x=setTimeout(()=>{v(new Error("unsupported_event"))},i);h={messageChannel:l,onMessage(_){const j=_;if(j.data.eventId===g)switch(j.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(j.data.response);break;default:clearTimeout(x),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function ts(){return window}function YR(s){ts().location.href=s}function sw(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function QR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KR(){return navigator?.serviceWorker?.controller||null}function XR(){return sw()?self:null}const rw="firebaseLocalStorageDb",JR=1,mh="firebaseLocalStorage",iw="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(s,e){return s.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function WR(){const s=indexedDB.deleteDatabase(rw);return new eu(s).toPromise()}function Um(){const s=indexedDB.open(rw,JR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(mh,{keyPath:iw})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(mh)?e(i):(i.close(),await WR(),e(await Um()))})})}async function xb(s,e,n){const i=Ph(s,!0).put({[iw]:e,value:n});return new eu(i).toPromise()}async function ZR(s,e){const n=Ph(s,!1).get(e),i=await new eu(n).toPromise();return i===void 0?null:i.value}function bb(s,e){const n=Ph(s,!0).delete(e);return new eu(n).toPromise()}const e4=800,t4=3;class ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>t4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(XR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QR(),!this.activeServiceWorker)return;this.sender=new $R(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await xb(e,ph,"1"),await bb(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>xb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>ZR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Ph(l,!1).getAll();return new eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ow.type="LOCAL";const n4=ow;new Jc(3e4,6e4);function lw(s,e){return e?Ds(e):(je(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Cg extends Ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a4(s){return W_(s.auth,new Cg(s),s.bypassAuthState)}function s4(s){const{auth:e,user:n}=s;return je(n,e,"internal-error"),J_(n,new Cg(s),s.bypassAuthState)}async function r4(s){const{auth:e,user:n}=s;return je(n,e,"internal-error"),kR(n,new Cg(s),s.bypassAuthState)}class cw{constructor(e,n,i,l,u=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:l,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const v={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(v))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a4;case"linkViaPopup":case"linkViaRedirect":return r4;case"reauthViaPopup":case"reauthViaRedirect":return s4;default:la(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const i4=new Jc(2e3,1e4);async function o4(s,e,n){if(kn(s.app))return Promise.reject(Sa(s,"operation-not-supported-in-this-environment"));const i=Fr(s);PC(s,e,Sg);const l=lw(i,n);return new Ti(i,"signInViaPopup",e,l).executeNotNull()}class Ti extends cw{constructor(e,n,i,l,u){super(e,n,l,u),this.provider=i,this.authWindow=null,this.pollId=null,Ti.currentPopupAction&&Ti.currentPopupAction.cancel(),Ti.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Sa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ti.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i4.get())};e()}}Ti.currentPopupAction=null;const l4="pendingRedirect",Zd=new Map;class c4 extends cw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Zd.get(this.auth._key());if(!e){try{const i=await u4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Zd.set(this.auth._key(),e)}return this.bypassAuthState||Zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u4(s,e){const n=f4(e),i=h4(s);if(!await i._isAvailable())return!1;const l=await i._get(n)==="true";return await i._remove(n),l}function d4(s,e){Zd.set(s._key(),e)}function h4(s){return Ds(s._redirectPersistence)}function f4(s){return Wd(l4,s.config.apiKey,s.name)}async function p4(s,e,n=!1){if(kn(s.app))return Promise.reject(zs(s));const i=Fr(s),l=lw(i,e),h=await new c4(i,l,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const m4=600*1e3;class g4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!uw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Sa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m4&&this.cachedEventUids.clear(),this.cachedEventUids.has(_b(e))}saveEventToCache(e){this.cachedEventUids.add(_b(e)),this.lastProcessedEventTime=Date.now()}}function _b(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function uw({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function v4(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uw(s);default:return!1}}async function y4(s,e={}){return Hs(s,"GET","/v1/projects",e)}const x4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b4=/^https?/;async function _4(s){if(s.config.emulator)return;const{authorizedDomains:e}=await y4(s);for(const n of e)try{if(w4(n))return}catch{}la(s,"unauthorized-domain")}function w4(s){const e=Pm(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!b4.test(n))return!1;if(x4.test(s))return i===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}const j4=new Jc(3e4,6e4);function wb(){const s=ts().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function E4(s){return new Promise((e,n)=>{function i(){wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wb(),n(Sa(s,"network-request-failed"))},timeout:j4.get()})}if(ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ts().gapi?.load)i();else{const l=hR("iframefcb");return ts()[l]=()=>{gapi.load?i():n(Sa(s,"network-request-failed"))},Y_(`${dR()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw eh=null,e})}let eh=null;function N4(s){return eh=eh||E4(s),eh}const T4=new Jc(5e3,15e3),S4="__/auth/iframe",A4="emulator/auth/iframe",C4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k4(s){const e=s.config;je(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?wg(e,A4):`https://${s.config.authDomain}/${S4}`,i={apiKey:e.apiKey,appName:s.name,v:Bi},l=R4.get(s.config.apiHost);l&&(i.eid=l);const u=s._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${Xc(i).slice(1)}`}async function I4(s){const e=await N4(s),n=ts().gapi;return je(n,s,"internal-error"),e.open({where:document.body,url:k4(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C4,dontclear:!0},i=>new Promise(async(l,u)=>{await i.restyle({setHideOnLeave:!1});const h=Sa(s,"network-request-failed"),m=ts().setTimeout(()=>{u(h)},T4.get());function v(){ts().clearTimeout(m),l(i)}i.ping(v).then(v,()=>{u(h)})}))}const D4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M4=500,O4=600,z4="_blank",P4="http://localhost";class jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V4(s,e,n,i=M4,l=O4){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const v={...D4,width:i.toString(),height:l.toString(),top:u,left:h},g=mn().toLowerCase();n&&(m=U_(g)?z4:n),V_(g)&&(e=e||P4,v.scrollbars="yes");const x=Object.entries(v).reduce((j,[S,I])=>`${j}${S}=${I},`,"");if(nR(g)&&m!=="_self")return L4(e||"",m),new jb(null);const _=window.open(e||"",m,x);je(_,s,"popup-blocked");try{_.focus()}catch{}return new jb(_)}function L4(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const U4="__/auth/handler",B4="emulator/auth/handler",q4=encodeURIComponent("fac");async function Eb(s,e,n,i,l,u){je(s.config.authDomain,s,"auth-domain-config-required"),je(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:Bi,eventId:l};if(e instanceof Sg){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",jA(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,_]of Object.entries({}))h[x]=_}if(e instanceof Zc){const x=e.getScopes().filter(_=>_!=="");x.length>0&&(h.scopes=x.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const v=await s._getAppCheckToken(),g=v?`#${q4}=${encodeURIComponent(v)}`:"";return`${F4(s)}?${Xc(m).slice(1)}${g}`}function F4({config:s}){return s.emulator?wg(s,B4):`https://${s.authDomain}/${U4}`}const xm="webStorageSupport";class H4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aw,this._completeRedirectFn=p4,this._overrideRedirectResult=d4}async _openPopup(e,n,i,l){Us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Eb(e,n,i,Pm(),l);return V4(e,u,Ag())}async _openRedirect(e,n,i,l){await this._originValidation(e);const u=await Eb(e,n,i,Pm(),l);return YR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Us(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await I4(e),i=new g4(e);return n.register("authEvent",l=>(je(l?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xm,{type:xm},l=>{const u=l?.[0]?.[xm];u!==void 0&&n(!!u),la(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return G_()||L_()||Eg()}}const G4=H4;var Nb="@firebase/auth",Tb="1.12.0";class $4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Y4(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q4(s){ki(new Or("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;je(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const v={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$_(s)},g=new lR(i,l,u,v);return yR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ki(new Or("auth-internal",e=>{const n=Fr(e.getProvider("auth").getImmediate());return(i=>new $4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(Nb,Tb,Y4(s)),es(Nb,Tb,"esm2020")}const K4=300,X4=E_("authIdTokenMaxAge")||K4;let Sb=null;const J4=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>X4)return;const l=n?.token;Sb!==l&&(Sb=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function W4(s=xg()){const e=Mh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=vR(s,{popupRedirectResolver:G4,persistence:[n4,HR,aw]}),i=E_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=J4(u.toString());LR(n,h,()=>h(n.currentUser)),VR(n,m=>h(m))}}const l=__("auth");return l&&xR(n,`http://${l}`),n}function Z4(){return document.getElementsByTagName("head")?.[0]??document}cR({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=l=>{const u=Sa("internal-error");u.customData=l,n(u)},i.type="text/javascript",i.charset="UTF-8",Z4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q4("Browser");var ek="firebase",tk="12.8.0";es(ek,tk,"app");var Ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kr,dw;(function(){var s;function e(R,A){function D(){}D.prototype=A.prototype,R.F=A.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(L,k,U){for(var O=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)O[Be-2]=arguments[Be];return A.prototype[k].apply(L,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,A,D){D||(D=0);const L=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)L[k]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(k=0;k<16;++k)L[k]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=R.g[0],D=R.g[1],k=R.g[2];let U=R.g[3],O;O=A+(U^D&(k^U))+L[0]+3614090360&4294967295,A=D+(O<<7&4294967295|O>>>25),O=U+(k^A&(D^k))+L[1]+3905402710&4294967295,U=A+(O<<12&4294967295|O>>>20),O=k+(D^U&(A^D))+L[2]+606105819&4294967295,k=U+(O<<17&4294967295|O>>>15),O=D+(A^k&(U^A))+L[3]+3250441966&4294967295,D=k+(O<<22&4294967295|O>>>10),O=A+(U^D&(k^U))+L[4]+4118548399&4294967295,A=D+(O<<7&4294967295|O>>>25),O=U+(k^A&(D^k))+L[5]+1200080426&4294967295,U=A+(O<<12&4294967295|O>>>20),O=k+(D^U&(A^D))+L[6]+2821735955&4294967295,k=U+(O<<17&4294967295|O>>>15),O=D+(A^k&(U^A))+L[7]+4249261313&4294967295,D=k+(O<<22&4294967295|O>>>10),O=A+(U^D&(k^U))+L[8]+1770035416&4294967295,A=D+(O<<7&4294967295|O>>>25),O=U+(k^A&(D^k))+L[9]+2336552879&4294967295,U=A+(O<<12&4294967295|O>>>20),O=k+(D^U&(A^D))+L[10]+4294925233&4294967295,k=U+(O<<17&4294967295|O>>>15),O=D+(A^k&(U^A))+L[11]+2304563134&4294967295,D=k+(O<<22&4294967295|O>>>10),O=A+(U^D&(k^U))+L[12]+1804603682&4294967295,A=D+(O<<7&4294967295|O>>>25),O=U+(k^A&(D^k))+L[13]+4254626195&4294967295,U=A+(O<<12&4294967295|O>>>20),O=k+(D^U&(A^D))+L[14]+2792965006&4294967295,k=U+(O<<17&4294967295|O>>>15),O=D+(A^k&(U^A))+L[15]+1236535329&4294967295,D=k+(O<<22&4294967295|O>>>10),O=A+(k^U&(D^k))+L[1]+4129170786&4294967295,A=D+(O<<5&4294967295|O>>>27),O=U+(D^k&(A^D))+L[6]+3225465664&4294967295,U=A+(O<<9&4294967295|O>>>23),O=k+(A^D&(U^A))+L[11]+643717713&4294967295,k=U+(O<<14&4294967295|O>>>18),O=D+(U^A&(k^U))+L[0]+3921069994&4294967295,D=k+(O<<20&4294967295|O>>>12),O=A+(k^U&(D^k))+L[5]+3593408605&4294967295,A=D+(O<<5&4294967295|O>>>27),O=U+(D^k&(A^D))+L[10]+38016083&4294967295,U=A+(O<<9&4294967295|O>>>23),O=k+(A^D&(U^A))+L[15]+3634488961&4294967295,k=U+(O<<14&4294967295|O>>>18),O=D+(U^A&(k^U))+L[4]+3889429448&4294967295,D=k+(O<<20&4294967295|O>>>12),O=A+(k^U&(D^k))+L[9]+568446438&4294967295,A=D+(O<<5&4294967295|O>>>27),O=U+(D^k&(A^D))+L[14]+3275163606&4294967295,U=A+(O<<9&4294967295|O>>>23),O=k+(A^D&(U^A))+L[3]+4107603335&4294967295,k=U+(O<<14&4294967295|O>>>18),O=D+(U^A&(k^U))+L[8]+1163531501&4294967295,D=k+(O<<20&4294967295|O>>>12),O=A+(k^U&(D^k))+L[13]+2850285829&4294967295,A=D+(O<<5&4294967295|O>>>27),O=U+(D^k&(A^D))+L[2]+4243563512&4294967295,U=A+(O<<9&4294967295|O>>>23),O=k+(A^D&(U^A))+L[7]+1735328473&4294967295,k=U+(O<<14&4294967295|O>>>18),O=D+(U^A&(k^U))+L[12]+2368359562&4294967295,D=k+(O<<20&4294967295|O>>>12),O=A+(D^k^U)+L[5]+4294588738&4294967295,A=D+(O<<4&4294967295|O>>>28),O=U+(A^D^k)+L[8]+2272392833&4294967295,U=A+(O<<11&4294967295|O>>>21),O=k+(U^A^D)+L[11]+1839030562&4294967295,k=U+(O<<16&4294967295|O>>>16),O=D+(k^U^A)+L[14]+4259657740&4294967295,D=k+(O<<23&4294967295|O>>>9),O=A+(D^k^U)+L[1]+2763975236&4294967295,A=D+(O<<4&4294967295|O>>>28),O=U+(A^D^k)+L[4]+1272893353&4294967295,U=A+(O<<11&4294967295|O>>>21),O=k+(U^A^D)+L[7]+4139469664&4294967295,k=U+(O<<16&4294967295|O>>>16),O=D+(k^U^A)+L[10]+3200236656&4294967295,D=k+(O<<23&4294967295|O>>>9),O=A+(D^k^U)+L[13]+681279174&4294967295,A=D+(O<<4&4294967295|O>>>28),O=U+(A^D^k)+L[0]+3936430074&4294967295,U=A+(O<<11&4294967295|O>>>21),O=k+(U^A^D)+L[3]+3572445317&4294967295,k=U+(O<<16&4294967295|O>>>16),O=D+(k^U^A)+L[6]+76029189&4294967295,D=k+(O<<23&4294967295|O>>>9),O=A+(D^k^U)+L[9]+3654602809&4294967295,A=D+(O<<4&4294967295|O>>>28),O=U+(A^D^k)+L[12]+3873151461&4294967295,U=A+(O<<11&4294967295|O>>>21),O=k+(U^A^D)+L[15]+530742520&4294967295,k=U+(O<<16&4294967295|O>>>16),O=D+(k^U^A)+L[2]+3299628645&4294967295,D=k+(O<<23&4294967295|O>>>9),O=A+(k^(D|~U))+L[0]+4096336452&4294967295,A=D+(O<<6&4294967295|O>>>26),O=U+(D^(A|~k))+L[7]+1126891415&4294967295,U=A+(O<<10&4294967295|O>>>22),O=k+(A^(U|~D))+L[14]+2878612391&4294967295,k=U+(O<<15&4294967295|O>>>17),O=D+(U^(k|~A))+L[5]+4237533241&4294967295,D=k+(O<<21&4294967295|O>>>11),O=A+(k^(D|~U))+L[12]+1700485571&4294967295,A=D+(O<<6&4294967295|O>>>26),O=U+(D^(A|~k))+L[3]+2399980690&4294967295,U=A+(O<<10&4294967295|O>>>22),O=k+(A^(U|~D))+L[10]+4293915773&4294967295,k=U+(O<<15&4294967295|O>>>17),O=D+(U^(k|~A))+L[1]+2240044497&4294967295,D=k+(O<<21&4294967295|O>>>11),O=A+(k^(D|~U))+L[8]+1873313359&4294967295,A=D+(O<<6&4294967295|O>>>26),O=U+(D^(A|~k))+L[15]+4264355552&4294967295,U=A+(O<<10&4294967295|O>>>22),O=k+(A^(U|~D))+L[6]+2734768916&4294967295,k=U+(O<<15&4294967295|O>>>17),O=D+(U^(k|~A))+L[13]+1309151649&4294967295,D=k+(O<<21&4294967295|O>>>11),O=A+(k^(D|~U))+L[4]+4149444226&4294967295,A=D+(O<<6&4294967295|O>>>26),O=U+(D^(A|~k))+L[11]+3174756917&4294967295,U=A+(O<<10&4294967295|O>>>22),O=k+(A^(U|~D))+L[2]+718787259&4294967295,k=U+(O<<15&4294967295|O>>>17),O=D+(U^(k|~A))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+U&4294967295}i.prototype.v=function(R,A){A===void 0&&(A=R.length);const D=A-this.blockSize,L=this.C;let k=this.h,U=0;for(;U<A;){if(k==0)for(;U<=D;)l(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(L[k++]=R.charCodeAt(U++),k==this.blockSize){l(this,L),k=0;break}}else for(;U<A;)if(L[k++]=R[U++],k==this.blockSize){l(this,L),k=0;break}}this.h=k,this.o+=A},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,D=0;D<4;++D)for(let L=0;L<32;L+=8)R[A++]=this.g[D]>>>L&255;return R};function u(R,A){var D=m;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=A(R)}function h(R,A){this.h=A;const D=[];let L=!0;for(let k=R.length-1;k>=0;k--){const U=R[k]|0;L&&U==A||(D[k]=U,L=!1)}this.g=D}var m={};function v(R){return-128<=R&&R<128?u(R,function(A){return new h([A|0],A<0?-1:0)}):new h([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return M(g(-R));const A=[];let D=1;for(let L=0;R>=D;L++)A[L]=R/D|0,D*=4294967296;return new h(A,0)}function x(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return M(x(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(A,8));let L=_;for(let U=0;U<R.length;U+=8){var k=Math.min(8,R.length-U);const O=parseInt(R.substring(U,U+k),A);k<8?(k=g(Math.pow(A,k)),L=L.j(k).add(g(O))):(L=L.j(D),L=L.add(g(O)))}return L}var _=v(0),j=v(1),S=v(16777216);s=h.prototype,s.m=function(){if(C(this))return-M(this).m();let R=0,A=1;for(let D=0;D<this.g.length;D++){const L=this.i(D);R+=(L>=0?L:4294967296+L)*A,A*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I(this))return"0";if(C(this))return"-"+M(this).toString(R);const A=g(Math.pow(R,6));var D=this;let L="";for(;;){const k=ee(D,A).g;D=V(D,k.j(A));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=k,I(D))return U+L;for(;U.length<6;)U="0"+U;L=U+L}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function I(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function C(R){return R.h==-1}s.l=function(R){return R=V(this,R),C(R)?-1:I(R)?0:1};function M(R){const A=R.g.length,D=[];for(let L=0;L<A;L++)D[L]=~R.g[L];return new h(D,~R.h).add(j)}s.abs=function(){return C(this)?M(this):this},s.add=function(R){const A=Math.max(this.g.length,R.g.length),D=[];let L=0;for(let k=0;k<=A;k++){let U=L+(this.i(k)&65535)+(R.i(k)&65535),O=(U>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);L=O>>>16,U&=65535,O&=65535,D[k]=O<<16|U}return new h(D,D[D.length-1]&-2147483648?-1:0)};function V(R,A){return R.add(M(A))}s.j=function(R){if(I(this)||I(R))return _;if(C(this))return C(R)?M(this).j(M(R)):M(M(this).j(R));if(C(R))return M(this.j(M(R)));if(this.l(S)<0&&R.l(S)<0)return g(this.m()*R.m());const A=this.g.length+R.g.length,D=[];for(var L=0;L<2*A;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(let k=0;k<R.g.length;k++){const U=this.i(L)>>>16,O=this.i(L)&65535,Be=R.i(k)>>>16,bt=R.i(k)&65535;D[2*L+2*k]+=O*bt,P(D,2*L+2*k),D[2*L+2*k+1]+=U*bt,P(D,2*L+2*k+1),D[2*L+2*k+1]+=O*Be,P(D,2*L+2*k+1),D[2*L+2*k+2]+=U*Be,P(D,2*L+2*k+2)}for(R=0;R<A;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=A;R<2*A;R++)D[R]=0;return new h(D,0)};function P(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function H(R,A){this.g=R,this.h=A}function ee(R,A){if(I(A))throw Error("division by zero");if(I(R))return new H(_,_);if(C(R))return A=ee(M(R),A),new H(M(A.g),M(A.h));if(C(A))return A=ee(R,M(A)),new H(M(A.g),A.h);if(R.g.length>30){if(C(R)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var D=j,L=A;L.l(R)<=0;)D=re(D),L=re(L);var k=W(D,1),U=W(L,1);for(L=W(L,2),D=W(D,2);!I(L);){var O=U.add(L);O.l(R)<=0&&(k=k.add(D),U=O),L=W(L,1),D=W(D,1)}return A=V(R,k.j(A)),new H(k,A)}for(k=_;R.l(A)>=0;){for(D=Math.max(1,Math.floor(R.m()/A.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),U=g(D),O=U.j(A);C(O)||O.l(R)>0;)D-=L,U=g(D),O=U.j(A);I(U)&&(U=j),k=k.add(U),R=V(R,O)}return new H(k,R)}s.B=function(R){return ee(this,R).h},s.and=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let L=0;L<A;L++)D[L]=this.i(L)&R.i(L);return new h(D,this.h&R.h)},s.or=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let L=0;L<A;L++)D[L]=this.i(L)|R.i(L);return new h(D,this.h|R.h)},s.xor=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let L=0;L<A;L++)D[L]=this.i(L)^R.i(L);return new h(D,this.h^R.h)};function re(R){const A=R.g.length+1,D=[];for(let L=0;L<A;L++)D[L]=R.i(L)<<1|R.i(L-1)>>>31;return new h(D,R.h)}function W(R,A){const D=A>>5;A%=32;const L=R.g.length-D,k=[];for(let U=0;U<L;U++)k[U]=A>0?R.i(U+D)>>>A|R.i(U+D+1)<<32-A:R.i(U+D);return new h(k,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,dw=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=x,kr=h}).apply(typeof Ab<"u"?Ab:typeof self<"u"?self:typeof window<"u"?window:{});var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hw,yc,fw,th,Bm,pw,mw,gw;(function(){var s,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof qd=="object"&&qd];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function l(d,y){if(y)e:{var w=i;d=d.split(".");for(var N=0;N<d.length-1;N++){var G=d[N];if(!(G in w))break e;w=w[G]}d=d[d.length-1],N=w[d],y=y(N),y!=N&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(d){return d||function(y){var w=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&w.push([N,y[N]]);return w}});var u=u||{},h=this||self;function m(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function v(d,y,w){return d.call.apply(d.bind,arguments)}function g(d,y,w){return g=v,g.apply(null,arguments)}function x(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function _(d,y){function w(){}w.prototype=y.prototype,d.Z=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Ob=function(N,G,X){for(var ce=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ce[Ce-2]=arguments[Ce];return y.prototype[G].apply(N,ce)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const y=d.length;if(y>0){const w=Array(y);for(let N=0;N<y;N++)w[N]=d[N];return w}return[]}function I(d,y){for(let N=1;N<arguments.length;N++){const G=arguments[N];var w=typeof G;if(w=w!="object"?w:G?Array.isArray(G)?"array":w:"null",w=="array"||w=="object"&&typeof G.length=="number"){w=d.length||0;const X=G.length||0;d.length=w+X;for(let ce=0;ce<X;ce++)d[w+ce]=G[ce]}else d.push(G)}}class C{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function M(d){h.setTimeout(()=>{throw d},0)}function V(){var d=R;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class P{constructor(){this.h=this.g=null}add(y,w){const N=H.get();N.set(y,w),this.h?this.h.next=N:this.g=N,this.h=N}}var H=new C(()=>new ee,d=>d.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let re,W=!1,R=new P,A=()=>{const d=Promise.resolve(void 0);re=()=>{d.then(D)}};function D(){for(var d;d=V();){try{d.h.call(d.g)}catch(w){M(w)}var y=H;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}W=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Be(d,y){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}_(Be,k),Be.prototype.init=function(d,y){const w=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function le(d,y,w,N,G){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!N,this.ha=G,this.key=++Q,this.da=this.fa=!1}function ve(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function qe(d,y,w){for(const N in d)y.call(w,d[N],N,d)}function We(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function q(d){const y={};for(const w in d)y[w]=d[w];return y}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(d,y){let w,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(w in N)d[w]=N[w];for(let X=0;X<se.length;X++)w=se[X],Object.prototype.hasOwnProperty.call(N,w)&&(d[w]=N[w])}}function pe(d){this.src=d,this.g={},this.h=0}pe.prototype.add=function(d,y,w,N,G){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const ce=ke(d,y,N,G);return ce>-1?(y=d[ce],w||(y.fa=!1)):(y=new le(y,this.src,X,!!N,G),y.fa=w,d.push(y)),y};function Ne(d,y){const w=y.type;if(w in d.g){var N=d.g[w],G=Array.prototype.indexOf.call(N,y,void 0),X;(X=G>=0)&&Array.prototype.splice.call(N,G,1),X&&(ve(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function ke(d,y,w,N){for(let G=0;G<d.length;++G){const X=d[G];if(!X.da&&X.listener==y&&X.capture==!!w&&X.ha==N)return G}return-1}var He="closure_lm_"+(Math.random()*1e6|0),$t={};function ft(d,y,w,N,G){if(Array.isArray(y)){for(let X=0;X<y.length;X++)ft(d,y[X],w,N,G);return null}return w=ul(w),d&&d[bt]?d.J(y,w,m(N)?!!N.capture:!1,G):Yr(d,y,w,!1,N,G)}function Yr(d,y,w,N,G,X){if(!y)throw Error("Invalid event type");const ce=m(G)?!!G.capture:!!G;let Ce=Qr(d);if(Ce||(d[He]=Ce=new pe(d)),w=Ce.add(y,w,N,ce,X),w.proxy)return w;if(N=Gi(),w.proxy=N,N.src=d,N.listener=w,d.addEventListener)U||(G=ce),G===void 0&&(G=!1),d.addEventListener(y.toString(),N,G);else if(d.attachEvent)d.attachEvent(ka(y.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Gi(){function d(w){return y.call(d.src,d.listener,w)}const y=ll;return d}function $i(d,y,w,N,G){if(Array.isArray(y))for(var X=0;X<y.length;X++)$i(d,y[X],w,N,G);else N=m(N)?!!N.capture:!!N,w=ul(w),d&&d[bt]?(d=d.i,X=String(y).toString(),X in d.g&&(y=d.g[X],w=ke(y,w,N,G),w>-1&&(ve(y[w]),Array.prototype.splice.call(y,w,1),y.length==0&&(delete d.g[X],d.h--)))):d&&(d=Qr(d))&&(y=d.g[y.toString()],d=-1,y&&(d=ke(y,w,N,G)),(w=d>-1?y[d]:null)&&Yi(w))}function Yi(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[bt])Ne(y.i,d);else{var w=d.type,N=d.proxy;y.removeEventListener?y.removeEventListener(w,N,d.capture):y.detachEvent?y.detachEvent(ka(w),N):y.addListener&&y.removeListener&&y.removeListener(N),(w=Qr(y))?(Ne(w,d),w.h==0&&(w.src=null,y[He]=null)):ve(d)}}}function ka(d){return d in $t?$t[d]:$t[d]="on"+d}function ll(d,y){if(d.da)d=!0;else{y=new Be(y,this);const w=d.listener,N=d.ha||d.src;d.fa&&Yi(d),d=w.call(N,y)}return d}function Qr(d){return d=d[He],d instanceof pe?d:null}var cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(d){return typeof d=="function"?d:(d[cl]||(d[cl]=function(y){return d.handleEvent(y)}),d[cl])}function Mt(){L.call(this),this.i=new pe(this),this.M=this,this.G=null}_(Mt,L),Mt.prototype[bt]=!0,Mt.prototype.removeEventListener=function(d,y,w,N){$i(this,d,y,w,N)};function Yt(d,y){var w,N=d.G;if(N)for(w=[];N;N=N.G)w.push(N);if(d=d.M,N=y.type||y,typeof y=="string")y=new k(y,d);else if(y instanceof k)y.target=y.target||d;else{var G=y;y=new k(N,d),ue(y,G)}G=!0;let X,ce;if(w)for(ce=w.length-1;ce>=0;ce--)X=y.g=w[ce],G=Gs(X,N,!0,y)&&G;if(X=y.g=d,G=Gs(X,N,!0,y)&&G,G=Gs(X,N,!1,y)&&G,w)for(ce=0;ce<w.length;ce++)X=y.g=w[ce],G=Gs(X,N,!1,y)&&G}Mt.prototype.N=function(){if(Mt.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const w=d.g[y];for(let N=0;N<w.length;N++)ve(w[N]);delete d.g[y],d.h--}}this.G=null},Mt.prototype.J=function(d,y,w,N){return this.i.add(String(d),y,!1,w,N)},Mt.prototype.K=function(d,y,w,N){return this.i.add(String(d),y,!0,w,N)};function Gs(d,y,w,N){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let G=!0;for(let X=0;X<y.length;++X){const ce=y[X];if(ce&&!ce.da&&ce.capture==w){const Ce=ce.listener,Ct=ce.ha||ce.src;ce.fa&&Ne(d.i,ce),G=Ce.call(Ct,N)!==!1&&G}}return G&&!N.defaultPrevented}function sf(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(d,y||0)}function du(d){d.g=sf(()=>{d.g=null,d.i&&(d.i=!1,du(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class gn extends L{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(d){L.call(this),this.h=d,this.g={}}_(Kr,L);var dl=[];function hl(d){qe(d.g,function(y,w){this.g.hasOwnProperty(w)&&Yi(y)},d),d.g={}}Kr.prototype.N=function(){Kr.Z.N.call(this),hl(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $s=h.JSON.stringify,rf=h.JSON.parse,hu=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function fu(){}function pu(){}var da={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){k.call(this,"d")}_(en,k);function Yn(){k.call(this,"c")}_(Yn,k);var At={},mu=null;function Qi(){return mu=mu||new Mt}At.Ia="serverreachability";function gu(d){k.call(this,At.Ia,d)}_(gu,k);function Ia(d){const y=Qi();Yt(y,new gu(y))}At.STAT_EVENT="statevent";function Xr(d,y){k.call(this,At.STAT_EVENT,d),this.stat=y}_(Xr,k);function Ot(d){const y=Qi();Yt(y,new Xr(y,d))}At.Ja="timingevent";function Da(d,y){k.call(this,At.Ja,d),this.size=y}_(Da,k);function Ma(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},y)}function ha(){this.g=!0}ha.prototype.ua=function(){this.g=!1};function of(d,y,w,N,G,X){d.info(function(){if(d.g)if(X){var ce="",Ce=X.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var Ct=Ce[Qe].split("=");if(Ct.length>1){const pt=Ct[0];Ct=Ct[1];const Jn=pt.split("_");ce=Jn.length>=2&&Jn[1]=="type"?ce+(pt+"="+Ct+"&"):ce+(pt+"=redacted&")}}}else ce=null;else ce=X;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+y+`
`+w+`
`+ce})}function vu(d,y,w,N,G,X,ce){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+y+`
`+w+`
`+X+" "+ce})}function Oa(d,y,w,N){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+lf(d,w)+(N?" "+N:"")})}function Jr(d,y){d.info(function(){return"TIMEOUT: "+y})}ha.prototype.info=function(){};function lf(d,y){if(!d.g)return y;if(!y)return null;try{const X=JSON.parse(y);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var w=X[d];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ce=1;ce<N.length;ce++)N[ce]=""}}}}return $s(X)}catch{return y}}var Wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function Zr(){}_(Zr,fu),Zr.prototype.g=function(){return new XMLHttpRequest},pl=new Zr;function hs(d){return encodeURIComponent(String(d))}function yu(d){var y=1;d=d.split(":");const w=[];for(;y>0&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function fa(d,y,w,N){this.j=d,this.i=y,this.l=w,this.S=N||1,this.V=new Kr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pa}function pa(){this.i=null,this.g="",this.h=!1}var zt={},Xt={};function za(d,y,w){d.M=1,d.A=ei(Vt(y)),d.u=w,d.R=!0,Ki(d,null)}function Ki(d,y){d.F=Date.now(),Pa(d),d.B=Vt(d.A);var w=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),Zi(w.i,"t",N),d.C=0,w=d.j.L,d.h=new pa,d.g=Du(d.j,w?y:null,!d.u),d.P>0&&(d.O=new gn(g(d.Y,d,d.g),d.P)),y=d.V,w=d.g,N=d.ba;var G="readystatechange";Array.isArray(G)||(G&&(dl[0]=G.toString()),G=dl);for(let X=0;X<G.length;X++){const ce=ft(w,G[X],N||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=d.J?q(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),Ia(),of(d.i,d.v,d.B,d.l,d.S,d.u)}fa.prototype.ba=function(d){d=d.target;const y=this.O;y&&va(d)==3?y.j():this.Y(d)},fa.prototype.Y=function(d){try{if(d==this.g)e:{const Ce=va(this.g),Ct=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ce!=4||Ct==7||(Ct==8||Qe<=0?Ia(3):Ia(2)),Va(this);var y=this.g.ca();this.X=y;var w=cf(this);if(this.o=y==200,vu(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(N)){var X=N;break t}}X=null}if(d=X)Oa(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,La(this,d);else{this.o=!1,this.m=3,Ot(12),zn(this),Qn(this);break e}}if(this.R){d=!0;let pt;for(;!this.K&&this.C<w.length;)if(pt=bu(this,w),pt==Xt){Ce==4&&(this.m=4,Ot(14),d=!1),Oa(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==zt){this.m=4,Ot(15),Oa(this.i,this.l,w,"[Invalid Chunk]"),d=!1;break}else Oa(this.i,this.l,pt,null),La(this,pt);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||w.length!=0||this.h.h||(this.m=1,Ot(16),d=!1),this.o=this.o&&d,!d)Oa(this.i,this.l,w,"[Invalid Chunked Response]"),zn(this),Qn(this);else if(w.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Cl(ce),ce.P=!0,Ot(11))}}else Oa(this.i,this.l,w,null),La(this,w);Ce==4&&zn(this),this.o&&!this.K&&(Ce==4?Cu(this.j,this):(this.o=!1,Pa(this)))}else ps(this.g),y==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),zn(this),Qn(this)}}}catch{}};function cf(d){if(!xu(d))return d.g.la();const y=tn(d.g);if(y==="")return"";let w="";const N=y.length,G=va(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return zn(d),Qn(d),"";d.h.i=new h.TextDecoder}for(let X=0;X<N;X++)d.h.h=!0,w+=d.h.i.decode(y[X],{stream:!(G&&X==N-1)});return y.length=0,d.h.g+=w,d.C=0,d.h.g}function xu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function bu(d,y){var w=d.C,N=y.indexOf(`
`,w);return N==-1?Xt:(w=Number(y.substring(w,N)),isNaN(w)?zt:(N+=1,N+w>y.length?Xt:(y=y.slice(N,N+w),d.C=N+w,y)))}fa.prototype.cancel=function(){this.K=!0,zn(this)};function Pa(d){d.T=Date.now()+d.H,Xi(d,d.H)}function Xi(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ma(g(d.aa,d),y)}function Va(d){d.D&&(h.clearTimeout(d.D),d.D=null)}fa.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Jr(this.i,this.B),this.M!=2&&(Ia(),Ot(17)),zn(this),this.m=2,Qn(this)):Xi(this,this.T-d)};function Qn(d){d.j.I==0||d.K||Cu(d.j,d)}function zn(d){Va(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,hl(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function La(d,y){try{var w=d.j;if(w.I!=0&&(w.g==d||Ba(w.h,d))){if(!d.L&&Ba(w.h,d)&&w.I==3){try{var N=w.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<d.F)so(w),er(w);else break e;oi(w),Ot(18)}}else w.xa=G[1],0<w.xa-w.K&&G[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Ma(g(w.Va,w),6e3));Ua(w.h)<=1&&w.ta&&(w.ta=void 0)}else Ya(w,11)}else if((d.L||w.g==d)&&so(w),!O(y))for(G=w.Ba.g.parse(y),y=0;y<G.length;y++){let Qe=G[y];const pt=Qe[0];if(!(pt<=w.K))if(w.K=pt,Qe=Qe[1],w.I==2)if(Qe[0]=="c"){w.M=Qe[1],w.ba=Qe[2];const Jn=Qe[3];Jn!=null&&(w.ka=Jn,w.j.info("VER="+w.ka));const Qa=Qe[4];Qa!=null&&(w.za=Qa,w.j.info("SVER="+w.za));const ya=Qe[5];ya!=null&&typeof ya=="number"&&ya>0&&(N=1.5*ya,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const xa=d.g;if(xa){const li=xa.g?xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var X=N.h;X.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(vl(X,X.h),X.h=null))}if(N.G){const ro=xa.g?xa.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(N.wa=ro,Ze(N.J,N.G,ro))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-d.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var ce=d;if(N.na=Iu(N,N.L?N.ba:null,N.W),ce.L){yl(N.h,ce);var Ce=ce,Ct=N.O;Ct&&(Ce.H=Ct),Ce.D&&(Va(Ce),Pa(Ce)),N.g=ce}else Su(N);w.i.length>0&&$a(w)}else Qe[0]!="stop"&&Qe[0]!="close"||Ya(w,7);else w.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ya(w,7):Sl(w):Qe[0]!="noop"&&w.l&&w.l.qa(Qe),w.A=0)}}Ia(4)}catch{}}var Pt=class{constructor(d,y){this.g=d,this.map=y}};function ml(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ua(d){return d.h?1:d.g?d.g.size:0}function Ba(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function vl(d,y){d.g?d.g.add(y):d.h=y}function yl(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}ml.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function xl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.G);return y}return S(d.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ji(d,y){if(d){d=d.split("&");for(let w=0;w<d.length;w++){const N=d[w].indexOf("=");let G,X=null;N>=0?(G=d[w].substring(0,N),X=d[w].substring(N+1)):G=d[w],y(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Pn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof Pn?(this.l=d.l,Jt(this,d.j),this.o=d.o,this.g=d.g,Ys(this,d.u),this.h=d.h,bl(this,Nu(d.i)),this.m=d.m):d&&(y=String(d).match(_u))?(this.l=!1,Jt(this,y[1]||"",!0),this.o=qa(y[2]||""),this.g=qa(y[3]||"",!0),Ys(this,y[4]),this.h=qa(y[5]||"",!0),bl(this,y[6]||"",!0),this.m=qa(y[7]||"")):(this.l=!1,this.i=new Ks(null,this.l))}Pn.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(ti(y,Wi,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(ti(y,Wi,!0),"@"),d.push(hs(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&d.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(ti(w,w.charAt(0)=="/"?_l:wu,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",ti(w,ju)),d.join("")},Pn.prototype.resolve=function(d){const y=Vt(this);let w=!!d.j;w?Jt(y,d.j):w=!!d.o,w?y.o=d.o:w=!!d.g,w?y.g=d.g:w=d.u!=null;var N=d.h;if(w)Ys(y,d.u);else if(w=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=y.h.lastIndexOf("/");G!=-1&&(N=y.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let ce=0;ce<G.length;){const Ce=G[ce++];Ce=="."?N&&ce==G.length&&X.push(""):Ce==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),N&&ce==G.length&&X.push("")):(X.push(Ce),N=!0)}N=X.join("/")}else N=G}return w?y.h=N:w=d.i.toString()!=="",w?bl(y,Nu(d.i)):w=!!d.m,w&&(y.m=d.m),y};function Vt(d){return new Pn(d)}function Jt(d,y,w){d.j=w?qa(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Ys(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function bl(d,y,w){y instanceof Ks?(d.i=y,eo(d.i,d.l)):(w||(y=ti(y,Qs)),d.i=new Ks(y,d.l))}function Ze(d,y,w){d.i.set(y,w)}function ei(d){return Ze(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function qa(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ti(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,_n),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function _n(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Wi=/[#\/\?@]/g,wu=/[#\?:]/g,_l=/[#\?]/g,Qs=/[#\?@]/g,ju=/#/g;function Ks(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function wn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ji(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}s=Ks.prototype,s.add=function(d,y){wn(this),this.i=null,d=Xs(this,d);let w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function Eu(d,y){wn(d),y=Xs(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function wl(d,y){return wn(d),y=Xs(d,y),d.g.has(y)}s.forEach=function(d,y){wn(this),this.g.forEach(function(w,N){w.forEach(function(G){d.call(y,G,N,this)},this)},this)};function jl(d,y){wn(d);let w=[];if(typeof y=="string")wl(d,y)&&(w=w.concat(d.g.get(Xs(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)w=w.concat(d[y]);return w}s.set=function(d,y){return wn(this),this.i=null,d=Xs(this,d),wl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},s.get=function(d,y){return d?(d=jl(this,d),d.length>0?String(d[0]):y):y};function Zi(d,y,w){Eu(d,y),w.length>0&&(d.i=null,d.g.set(Xs(d,y),S(w)),d.h+=w.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var w=y[N];const G=hs(w);w=jl(this,w);for(let X=0;X<w.length;X++){let ce=G;w[X]!==""&&(ce+="="+hs(w[X])),d.push(ce)}}return this.i=d.join("&")};function Nu(d){const y=new Ks;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function Xs(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function eo(d,y){y&&!d.j&&(wn(d),d.i=null,d.g.forEach(function(w,N){const G=N.toLowerCase();N!=G&&(Eu(this,N),Zi(this,G,w))},d)),d.j=y}function ma(d,y){const w=new ha;if(h.Image){const N=new Image;N.onload=x(Kn,w,"TestLoadImage: loaded",!0,y,N),N.onerror=x(Kn,w,"TestLoadImage: error",!1,y,N),N.onabort=x(Kn,w,"TestLoadImage: abort",!1,y,N),N.ontimeout=x(Kn,w,"TestLoadImage: timeout",!1,y,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else y(!1)}function El(d,y){const w=new ha,N=new AbortController,G=setTimeout(()=>{N.abort(),Kn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:N.signal}).then(X=>{clearTimeout(G),X.ok?Kn(w,"TestPingServer: ok",!0,y):Kn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),Kn(w,"TestPingServer: error",!1,y)})}function Kn(d,y,w,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(w)}catch{}}function Js(){this.g=new hu}function Fa(d){this.i=d.Sb||null,this.h=d.ab||!1}_(Fa,fu),Fa.prototype.g=function(){return new ni(this.i,this.h)};function ni(d,y){Mt.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ni,Mt),s=ni.prototype,s.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,ga(this)},s.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},s.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;to(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function to(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}s.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Ws(this):ga(this),this.readyState==3&&to(this)}},s.Oa=function(d){this.g&&(this.response=this.responseText=d,Ws(this))},s.Na=function(d){this.g&&(this.response=d,Ws(this))},s.ga=function(){this.g&&Ws(this)};function Ws(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ga(d)}s.setRequestHeader=function(d,y){this.A.append(d,y)},s.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function ga(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Xn(d){let y="";return qe(d,function(w,N){y+=N,y+=":",y+=w,y+=`\r
`}),y}function ai(d,y,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=Xn(w),typeof d=="string"?w!=null&&hs(w):Ze(d,y,w))}function nt(d){Mt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(nt,Mt);var Ha=/^https?$/i,Nl=["POST","PUT"];s=nt.prototype,s.Fa=function(d){this.H=d},s.ea=function(d,y,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=j(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(X){si(this,X);return}if(d=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)w.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const X of N.keys())w.set(X,N.get(X));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),G=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(Nl,y,void 0)>=0)||N||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of w)this.g.setRequestHeader(X,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){si(this,X)}};function si(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,Tl(d),fs(d)}function Tl(d){d.A||(d.A=!0,Yt(d,"complete"),Yt(d,"error"))}s.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Yt(this,"complete"),Yt(this,"abort"),fs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),nt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ri(this):this.Xa())},s.Xa=function(){ri(this)};function ri(d){if(d.h&&typeof u<"u"){if(d.v&&va(d)==4)setTimeout(d.Ca.bind(d),0);else if(Yt(d,"readystatechange"),va(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var N;if(N=X===0){let ce=String(d.D).match(_u)[1]||null;!ce&&h.self&&h.self.location&&(ce=h.self.location.protocol.slice(0,-1)),N=!Ha.test(ce?ce.toLowerCase():"")}w=N}if(w)Yt(d,"complete"),Yt(d,"success");else{d.o=6;try{var G=va(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",Tl(d)}}finally{fs(d)}}}}function fs(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const w=d.g;d.g=null,y||Yt(d,"ready");try{w.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function va(d){return d.g?d.g.readyState:0}s.ca=function(){try{return va(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),rf(y)}};function tn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ps(d){const y={};d=(d.g&&va(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(O(d[N]))continue;var w=yu(d[N]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=y[G]||[];y[G]=X,X.push(w)}We(y,function(N){return N.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function Zs(d){this.za=0,this.i=[],this.j=new ha,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ga("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ga("baseRetryDelayMs",5e3,d),this.Za=Ga("retryDelaySeedMs",1e4,d),this.Ta=Ga("forwardChannelMaxRetries",2,d),this.va=Ga("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(d&&d.concurrentRequestLimit),this.Ba=new Js,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Zs.prototype,s.ka=8,s.I=1,s.connect=function(d,y,w,N){Ot(0),this.W=d,this.H=y||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=Iu(this,null,this.W),$a(this)};function Sl(d){if(no(d),d.I==3){var y=d.V++,w=Vt(d.J);if(Ze(w,"SID",d.M),Ze(w,"RID",y),Ze(w,"TYPE","terminate"),ii(d,w),y=new fa(d,d.j,y),y.M=2,y.A=ei(Vt(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.A,w=!0),w||(y.g=Du(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Pa(y)}ku(d)}function er(d){d.g&&(Cl(d),d.g.cancel(),d.g=null)}function no(d){er(d),d.v&&(h.clearTimeout(d.v),d.v=null),so(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function $a(d){if(!gl(d.h)&&!d.m){d.m=!0;var y=d.Ea;re||A(),W||(re(),W=!0),R.add(y,d),d.D=0}}function ao(d,y){return Ua(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ma(g(d.Ea,d,y),Ru(d,d.D)),d.D++,!0)}s.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new fa(this,this.j,d);let X=this.o;if(this.U&&(X?(X=q(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Tu(this,G,y),w=Vt(this.J),Ze(w,"RID",d),Ze(w,"CVER",22),this.G&&Ze(w,"X-HTTP-Session-Id",this.G),ii(this,w),X&&(this.R?y="headers="+hs(Xn(X))+"&"+y:this.u&&ai(w,this.u,X)),vl(this.h,G),this.Ra&&Ze(w,"TYPE","init"),this.S?(Ze(w,"$req",y),Ze(w,"SID","null"),G.U=!0,za(G,w,null)):za(G,w,y),this.I=2}}else this.I==3&&(d?Al(this,d):this.i.length==0||gl(this.h)||Al(this))};function Al(d,y){var w;y?w=y.l:w=d.V++;const N=Vt(d.J);Ze(N,"SID",d.M),Ze(N,"RID",w),Ze(N,"AID",d.K),ii(d,N),d.u&&d.o&&ai(N,d.u,d.o),w=new fa(d,d.j,w,d.D+1),d.u===null&&(w.J=d.o),y&&(d.i=y.G.concat(d.i)),y=Tu(d,w,1e3),w.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),vl(d.h,w),za(w,N,y)}function ii(d,y){d.H&&qe(d.H,function(w,N){Ze(y,N,w)}),d.l&&qe({},function(w,N){Ze(y,N,w)})}function Tu(d,y,w){w=Math.min(d.i.length,w);const N=d.l?g(d.l.Ka,d.l,d):null;e:{var G=d.i;let Ce=-1;for(;;){const Ct=["count="+w];Ce==-1?w>0?(Ce=G[0].g,Ct.push("ofs="+Ce)):Ce=0:Ct.push("ofs="+Ce);let Qe=!0;for(let pt=0;pt<w;pt++){var X=G[pt].g;const Jn=G[pt].map;if(X-=Ce,X<0)Ce=Math.max(0,G[pt].g-100),Qe=!1;else try{X="req"+X+"_"||"";try{var ce=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Qa,ya]of ce){let xa=ya;m(ya)&&(xa=$s(ya)),Ct.push(X+Qa+"="+encodeURIComponent(xa))}}catch(Qa){throw Ct.push(X+"type="+encodeURIComponent("_badmap")),Qa}}catch{N&&N(Jn)}}if(Qe){ce=Ct.join("&");break e}}ce=void 0}return d=d.i.splice(0,w),y.G=d,ce}function Su(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;re||A(),W||(re(),W=!0),R.add(y,d),d.A=0}}function oi(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ma(g(d.Da,d),Ru(d,d.A)),d.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ma(g(this.Wa,this),d)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),er(this),Au(this))};function Cl(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function Au(d){d.g=new fa(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=Vt(d.na);Ze(y,"RID","rpc"),Ze(y,"SID",d.M),Ze(y,"AID",d.K),Ze(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ze(y,"TO",d.ia),Ze(y,"TYPE","xmlhttp"),ii(d,y),d.u&&d.o&&ai(y,d.u,d.o),d.O&&(d.g.H=d.O);var w=d.g;d=d.ba,w.M=1,w.A=ei(Vt(y)),w.u=null,w.R=!0,Ki(w,d)}s.Va=function(){this.C!=null&&(this.C=null,er(this),oi(this),Ot(19))};function so(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Cu(d,y){var w=null;if(d.g==y){so(d),Cl(d),d.g=null;var N=2}else if(Ba(d.h,y))w=y.G,yl(d.h,y),N=1;else return;if(d.I!=0){if(y.o)if(N==1){w=y.u?y.u.length:0,y=Date.now()-y.F;var G=d.D;N=Qi(),Yt(N,new Da(N,w)),$a(d)}else Su(d);else if(G=y.m,G==3||G==0&&y.X>0||!(N==1&&ao(d,y)||N==2&&oi(d)))switch(w&&w.length>0&&(y=d.h,y.i=y.i.concat(w)),G){case 1:Ya(d,5);break;case 4:Ya(d,10);break;case 3:Ya(d,6);break;default:Ya(d,2)}}}function Ru(d,y){let w=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(w*=2),w*y}function Ya(d,y){if(d.j.info("Error code "+y),y==2){var w=g(d.bb,d),N=d.Ua;const G=!N;N=new Pn(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Jt(N,"https"),ei(N),G?ma(N.toString(),w):El(N.toString(),w)}else Ot(2);d.I=0,d.l&&d.l.pa(y),ku(d),no(d)}s.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function ku(d){if(d.I=0,d.ja=[],d.l){const y=xl(d.h);(y.length!=0||d.i.length!=0)&&(I(d.ja,y),I(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function Iu(d,y,w){var N=w instanceof Pn?Vt(w):new Pn(w);if(N.g!="")y&&(N.g=y+"."+N.g),Ys(N,N.u);else{var G=h.location;N=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;const X=new Pn(null);N&&Jt(X,N),y&&(X.g=y),G&&Ys(X,G),w&&(X.h=w),N=X}return w=d.G,y=d.wa,w&&y&&Ze(N,w,y),Ze(N,"VER",d.ka),ii(d,N),N}function Du(d,y,w){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new nt(new Fa({ab:w})):new nt(d.ma),y.Fa(d.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}s=Mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function tr(){}tr.prototype.g=function(d,y){return new vn(d,y)};function vn(d,y){Mt.call(this),this.g=new Zs(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!O(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new ms(this)}_(vn,Mt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Sl(this.g)},vn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.v&&(w={},w.__data__=$s(d),d=w);y.i.push(new Pt(y.Ya++,d)),y.I==3&&$a(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,vn.Z.N.call(this)};function Ou(d){en.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}_(Ou,en);function zu(){Yn.call(this),this.status=1}_(zu,Yn);function ms(d){this.g=d}_(ms,Mu),ms.prototype.ra=function(){Yt(this.g,"a")},ms.prototype.qa=function(d){Yt(this.g,new Ou(d))},ms.prototype.pa=function(d){Yt(this.g,new zu)},ms.prototype.oa=function(){Yt(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,gw=function(){return new tr},mw=function(){return Qi()},pw=At,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,th=Wr,fl.COMPLETE="complete",fw=fl,pu.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",Mt.prototype.listen=Mt.prototype.J,yc=pu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,hw=nt}).apply(typeof qd<"u"?qd:typeof self<"u"?self:typeof window<"u"?window:{});class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let al="12.8.0";function nk(s){al=s}const Mi=new vg("@firebase/firestore");function zo(){return Mi.logLevel}function fe(s,...e){if(Mi.logLevel<=Ve.DEBUG){const n=e.map(Rg);Mi.debug(`Firestore (${al}): ${s}`,...n)}}function Bs(s,...e){if(Mi.logLevel<=Ve.ERROR){const n=e.map(Rg);Mi.error(`Firestore (${al}): ${s}`,...n)}}function Yo(s,...e){if(Mi.logLevel<=Ve.WARN){const n=e.map(Rg);Mi.warn(`Firestore (${al}): ${s}`,...n)}}function Rg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ee(s,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,vw(s,i,n)}function vw(s,e,n){let i=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Bs(i),new Error(i)}function Xe(s,e,n,i){let l="Unexpected state";typeof n=="string"?l=n:i=n,s||vw(e,l,i)}function Ae(s,e){return s}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class yw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ak{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fn.UNAUTHENTICATED)))}shutdown(){}}class sk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rk{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let i=this.i;const l=v=>this.i!==i?(i=this.i,n(v)):Promise.resolve();let u=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ps,e.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},m=v=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((v=>m(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ps)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new yw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class ik{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ok{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new ik(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const i=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const l=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ck(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}class kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=ck(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<n&&(i+=e.charAt(l[u]%62))}return i}}function Le(s,e){return s<e?-1:s>e?1:0}function qm(s,e){const n=Math.min(s.length,e.length);for(let i=0;i<n;i++){const l=s.charAt(i),u=e.charAt(i);if(l!==u)return bm(l)===bm(u)?Le(l,u):bm(l)?1:-1}return Le(s.length,e.length)}const uk=55296,dk=57343;function bm(s){const e=s.charCodeAt(0);return e>=uk&&e<=dk}function Qo(s,e,n){return s.length===e.length&&s.every(((i,l)=>n(i,e[l])))}const Rb="__name__";class Za{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ee(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Za?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let l=0;l<i;l++){const u=Za.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const i=Za.isNumericId(e),l=Za.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?Za.extractNumericId(e).compare(Za.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class ot extends Za{construct(e,n,i){return new ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((l=>l.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const hk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Za{construct(e,n,i){return new ln(e,n,i)}static isValidIdentifier(e){return hk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rb}static keyField(){return new ln([Rb])}static fromServerFormat(e){const n=[];let i="",l=0;const u=()=>{if(i.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(i+=m,l++):(u(),l++)}if(u(),h)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ot.fromString(e))}static fromName(e){return new be(ot.fromString(e).popFirst(5))}static empty(){return new be(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ot(e.slice()))}}function xw(s,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function fk(s,e,n,i){if(e===!0&&i===!0)throw new de(ne.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function kb(s){if(!be.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ib(s){if(be.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function bw(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Vh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function xn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(s);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Gt(s,e){const n={typeString:s};return e&&(n.value=e),n}function tu(s,e){if(!bw(s))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const l=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in s)){n=`JSON missing required field: '${i}'`;break}const h=s[i];if(l&&typeof h!==l){n=`JSON field '${i}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new de(ne.INVALID_ARGUMENT,n);return!0}const Db=-62135596800,Mb=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Mb);return new dt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Db)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mb}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Db;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Gt("string",dt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new dt(0,0))}static max(){return new Te(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dc=-1;function pk(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(i===1e9?new dt(n+1,0):new dt(n,i));return new zr(l,be.empty(),e)}function mk(s){return new zr(s.readTime,s.key,Dc)}class zr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new zr(Te.min(),be.empty(),Dc)}static max(){return new zr(Te.max(),be.empty(),Dc)}}function gk(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(s.documentKey,e.documentKey),n!==0?n:Le(s.largestBatchId,e.largestBatchId))}const vk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function sl(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==vk)throw s;fe("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,i)=>{n(e)}))}static reject(e){return new ie(((n,i)=>{i(e)}))}static waitFor(e){return new ie(((n,i)=>{let l=0,u=0,h=!1;e.forEach((m=>{++l,m.next((()=>{++u,h&&u===l&&n()}),(v=>i(v)))})),h=!0,u===l&&n()}))}static or(e){let n=ie.resolve(!1);for(const i of e)n=n.next((l=>l?ie.resolve(l):i()));return n}static forEach(e,n){const i=[];return e.forEach(((l,u)=>{i.push(n.call(this,l,u))})),this.waitFor(i)}static mapArray(e,n){return new ie(((i,l)=>{const u=e.length,h=new Array(u);let m=0;for(let v=0;v<u;v++){const g=v;n(e[g]).next((x=>{h[g]=x,++m,m===u&&i(h)}),(x=>l(x)))}}))}static doWhile(e,n){return new ie(((i,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):i()};u()}))}}function xk(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rl(s){return s.name==="IndexedDbTransactionError"}class Lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lh.ce=-1;const Ig=-1;function Uh(s){return s==null}function gh(s){return s===0&&1/s==-1/0}function bk(s){return typeof s=="number"&&Number.isInteger(s)&&!gh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const _w="";function _k(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Ob(e)),e=wk(s.get(n),e);return Ob(e)}function wk(s,e){let n=e;const i=s.length;for(let l=0;l<i;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case _w:n+="";break;default:n+=u}}return n}function Ob(s){return s+_w+""}function zb(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Hr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function ww(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class jt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fd(this.root,e,this.comparator,!0)}}class Fd{constructor(e,n,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,i,l,u){this.key=e,this.value=n,this.color=i??on.RED,this.left=l??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,l,u){return new on(e??this.key,n??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const u=i(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,i),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,i,l,u){return this}insert(e,n,i){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pb(this.data.getIterator())}getIteratorFrom(e){return new Pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class Pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Kt(ln.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class jw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jw("Invalid base64 string: "+u):u}})(e);return new un(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const jk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(s){if(Xe(!!s,39018),typeof s=="string"){let e=0;const n=jk.exec(s);if(Xe(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(s.seconds),nanos:It(s.nanos)}}function It(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Vr(s){return typeof s=="string"?un.fromBase64String(s):un.fromUint8Array(s)}const Ew="server_timestamp",Nw="__type__",Tw="__previous_value__",Sw="__local_write_time__";function Dg(s){return(s?.mapValue?.fields||{})[Nw]?.stringValue===Ew}function Bh(s){const e=s.mapValue.fields[Tw];return Dg(e)?Bh(e):e}function Mc(s){const e=Pr(s.mapValue.fields[Sw].timestampValue);return new dt(e.seconds,e.nanos)}class Ek{constructor(e,n,i,l,u,h,m,v,g,x,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=v,this.useFetchStreams=g,this.isUsingEmulator=x,this.apiKey=_}}const vh="(default)";class Oc{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}function Nk(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(s.options.projectId,e)}const Aw="__type__",Tk="__max__",Hd={mapValue:{}},Cw="__vector__",yh="value";function Lr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dg(s)?4:Ak(s)?9007199254740991:Sk(s)?10:11:Ee(28295,{value:s})}function os(s,e){if(s===e)return!0;const n=Lr(s);if(n!==Lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Mc(s).isEqual(Mc(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=Pr(l.timestampValue),m=Pr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return Vr(l.bytesValue).isEqual(Vr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return It(l.geoPointValue.latitude)===It(u.geoPointValue.latitude)&&It(l.geoPointValue.longitude)===It(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return It(l.integerValue)===It(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=It(l.doubleValue),m=It(u.doubleValue);return h===m?gh(h)===gh(m):isNaN(h)&&isNaN(m)}return!1})(s,e);case 9:return Qo(s.arrayValue.values||[],e.arrayValue.values||[],os);case 10:case 11:return(function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(zb(h)!==zb(m))return!1;for(const v in h)if(h.hasOwnProperty(v)&&(m[v]===void 0||!os(h[v],m[v])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function zc(s,e){return(s.values||[]).find((n=>os(n,e)))!==void 0}function Ko(s,e){if(s===e)return 0;const n=Lr(s),i=Lr(e);if(n!==i)return Le(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(s.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=It(u.integerValue||u.doubleValue),v=It(h.integerValue||h.doubleValue);return m<v?-1:m>v?1:m===v?0:isNaN(m)?isNaN(v)?0:-1:1})(s,e);case 3:return Vb(s.timestampValue,e.timestampValue);case 4:return Vb(Mc(s),Mc(e));case 5:return qm(s.stringValue,e.stringValue);case 6:return(function(u,h){const m=Vr(u),v=Vr(h);return m.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),v=h.split("/");for(let g=0;g<m.length&&g<v.length;g++){const x=Le(m[g],v[g]);if(x!==0)return x}return Le(m.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Le(It(u.latitude),It(h.latitude));return m!==0?m:Le(It(u.longitude),It(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Lb(s.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},v=h.fields||{},g=m[yh]?.arrayValue,x=v[yh]?.arrayValue,_=Le(g?.values?.length||0,x?.values?.length||0);return _!==0?_:Lb(g,x)})(s.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Hd.mapValue&&h===Hd.mapValue)return 0;if(u===Hd.mapValue)return 1;if(h===Hd.mapValue)return-1;const m=u.fields||{},v=Object.keys(m),g=h.fields||{},x=Object.keys(g);v.sort(),x.sort();for(let _=0;_<v.length&&_<x.length;++_){const j=qm(v[_],x[_]);if(j!==0)return j;const S=Ko(m[v[_]],g[x[_]]);if(S!==0)return S}return Le(v.length,x.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Vb(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Le(s,e);const n=Pr(s),i=Pr(e),l=Le(n.seconds,i.seconds);return l!==0?l:Le(n.nanos,i.nanos)}function Lb(s,e){const n=s.values||[],i=e.values||[];for(let l=0;l<n.length&&l<i.length;++l){const u=Ko(n[l],i[l]);if(u)return u}return Le(n.length,i.length)}function Xo(s){return Fm(s)}function Fm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const i=Pr(n);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Vr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return be.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let i="[",l=!0;for(const u of n.values||[])l?l=!1:i+=",",i+=Fm(u);return i+"]"})(s.arrayValue):"mapValue"in s?(function(n){const i=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const h of i)u?u=!1:l+=",",l+=`${h}:${Fm(n.fields[h])}`;return l+"}"})(s.mapValue):Ee(61005,{value:s})}function nh(s){switch(Lr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(s);return e?16+nh(e):16;case 5:return 2*s.stringValue.length;case 6:return Vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((l,u)=>l+nh(u)),0)})(s.arrayValue);case 10:case 11:return(function(i){let l=0;return Hr(i.fields,((u,h)=>{l+=u.length+nh(h)})),l})(s.mapValue);default:throw Ee(13486,{value:s})}}function Ub(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Hm(s){return!!s&&"integerValue"in s}function Mg(s){return!!s&&"arrayValue"in s}function Bb(s){return!!s&&"nullValue"in s}function qb(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ah(s){return!!s&&"mapValue"in s}function Sk(s){return(s?.mapValue?.fields||{})[Aw]?.stringValue===Cw}function Ec(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Hr(s.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Ec(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(s.arrayValue.values[n]);return e}return{...s}}function Ak(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Tk}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=ln.emptyPath(),i={},l=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const v=this.getFieldsMap(n);this.applyChanges(v,i,l),i={},l=[],n=m.popLast()}h?i[m.lastSegment()]=Ec(h):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,l)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=n.mapValue.fields[e.get(i)];ah(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,i){Hr(n,((l,u)=>e[l]=u));for(const l of i)delete e[l]}clone(){return new In(Ec(this.value))}}function Rw(s){const e=[];return Hr(s.fields,((n,i)=>{const l=new ln([n]);if(ah(i)){const u=Rw(i.mapValue).fields;if(u.length===0)e.push(l);else for(const h of u)e.push(l.child(h))}else e.push(l)})),new Gn(e)}class pn{constructor(e,n,i,l,u,h,m){this.key=e,this.documentType=n,this.version=i,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new pn(e,0,Te.min(),Te.min(),Te.min(),In.empty(),0)}static newFoundDocument(e,n,i,l){return new pn(e,1,n,Te.min(),i,l,0)}static newNoDocument(e,n){return new pn(e,2,n,Te.min(),Te.min(),In.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Te.min(),Te.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xh{constructor(e,n){this.position=e,this.inclusive=n}}function Fb(s,e,n){let i=0;for(let l=0;l<s.position.length;l++){const u=e[l],h=s.position[l];if(u.field.isKeyField()?i=be.comparator(be.fromName(h.referenceValue),n.key):i=Ko(h,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Hb(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!os(s.position[n],e.position[n]))return!1;return!0}class Pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ck(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class kw{}class Ht extends kw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new kk(e,n,i):n==="array-contains"?new Mk(e,i):n==="in"?new Ok(e,i):n==="not-in"?new zk(e,i):n==="array-contains-any"?new Pk(e,i):new Ht(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Ik(e,i):new Dk(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ko(n,this.value)):n!==null&&Lr(this.value)===Lr(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ca extends kw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ca(e,n)}matches(e){return Iw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Iw(s){return s.op==="and"}function Dw(s){return Rk(s)&&Iw(s)}function Rk(s){for(const e of s.filters)if(e instanceof Ca)return!1;return!0}function Gm(s){if(s instanceof Ht)return s.field.canonicalString()+s.op.toString()+Xo(s.value);if(Dw(s))return s.filters.map((e=>Gm(e))).join(",");{const e=s.filters.map((n=>Gm(n))).join(",");return`${s.op}(${e})`}}function Mw(s,e){return s instanceof Ht?(function(i,l){return l instanceof Ht&&i.op===l.op&&i.field.isEqual(l.field)&&os(i.value,l.value)})(s,e):s instanceof Ca?(function(i,l){return l instanceof Ca&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce(((u,h,m)=>u&&Mw(h,l.filters[m])),!0):!1})(s,e):void Ee(19439)}function Ow(s){return s instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`})(s):s instanceof Ca?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ow).join(" ,")+"}"})(s):"Filter"}class kk extends Ht{constructor(e,n,i){super(e,n,i),this.key=be.fromName(i.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ik extends Ht{constructor(e,n){super(e,"in",n),this.keys=zw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Dk extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=zw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function zw(s,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class Mk extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mg(n)&&zc(n.arrayValue,this.value)}}class Ok extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zc(this.value.arrayValue,n)}}class zk extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zc(this.value.arrayValue,n)}}class Pk extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>zc(this.value.arrayValue,i)))}}class Vk{constructor(e,n=null,i=[],l=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Gb(s,e=null,n=[],i=[],l=null,u=null,h=null){return new Vk(s,e,n,i,l,u,h)}function Og(s){const e=Ae(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Gm(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Xo(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Xo(i))).join(",")),e.Te=n}return e.Te}function zg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Ck(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Mw(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Hb(s.startAt,e.startAt)&&Hb(s.endAt,e.endAt)}function $m(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class il{constructor(e,n=null,i=[],l=[],u=null,h="F",m=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Lk(s,e,n,i,l,u,h,m){return new il(s,e,n,i,l,u,h,m)}function qh(s){return new il(s)}function $b(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Uk(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Pw(s){return s.collectionGroup!==null}function Nc(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Kt(ln.comparator);return h.filters.forEach((v=>{v.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Pc(u,i))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new Pc(ln.keyField(),i))}return e.Ie}function ns(s){const e=Ae(s);return e.Ee||(e.Ee=Bk(e,Nc(s))),e.Ee}function Bk(s,e){if(s.limitType==="F")return Gb(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Pc(l.field,u)}));const n=s.endAt?new xh(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new xh(s.startAt.position,s.startAt.inclusive):null;return Gb(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function Ym(s,e){const n=s.filters.concat([e]);return new il(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function qk(s,e){const n=s.explicitOrderBy.concat([e]);return new il(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Qm(s,e,n){return new il(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Fh(s,e){return zg(ns(s),ns(e))&&s.limitType===e.limitType}function Vw(s){return`${Og(ns(s))}|lt:${s.limitType}`}function Po(s){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((l=>Ow(l))).join(", ")}]`),Uh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((l=>Xo(l))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((l=>Xo(l))).join(",")),`Target(${i})`})(ns(s))}; limitType=${s.limitType})`}function Hh(s,e){return e.isFoundDocument()&&(function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):be.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(s,e)&&(function(i,l){for(const u of Nc(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(i,l){return!(i.startAt&&!(function(h,m,v){const g=Fb(h,m,v);return h.inclusive?g<=0:g<0})(i.startAt,Nc(i),l)||i.endAt&&!(function(h,m,v){const g=Fb(h,m,v);return h.inclusive?g>=0:g>0})(i.endAt,Nc(i),l))})(s,e)}function Fk(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Lw(s){return(e,n)=>{let i=!1;for(const l of Nc(s)){const u=Hk(l,e,n);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function Hk(s,e,n){const i=s.field.isKeyField()?be.comparator(e.key,n.key):(function(u,h,m){const v=h.data.field(u),g=m.data.field(u);return v!==null&&g!==null?Ko(v,g):Ee(42886)})(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:s.dir})}}class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,((n,i)=>{for(const[l,u]of i)e(l,u)}))}isEmpty(){return ww(this.inner)}size(){return this.innerSize}}const Gk=new jt(be.comparator);function qs(){return Gk}const Uw=new jt(be.comparator);function xc(...s){let e=Uw;for(const n of s)e=e.insert(n.key,n);return e}function Bw(s){let e=Uw;return s.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Si(){return Tc()}function qw(){return Tc()}function Tc(){return new Fi((s=>s.toString()),((s,e)=>s.isEqual(e)))}const $k=new jt(be.comparator),Yk=new Kt(be.comparator);function Ue(...s){let e=Yk;for(const n of s)e=e.add(n);return e}const Qk=new Kt(Le);function Kk(){return Qk}function Pg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function Fw(s){return{integerValue:""+s}}function Xk(s,e){return bk(e)?Fw(e):Pg(s,e)}class Gh{constructor(){this._=void 0}}function Jk(s,e,n){return s instanceof Vc?(function(l,u){const h={fields:{[Nw]:{stringValue:Ew},[Sw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Dg(u)&&(u=Bh(u)),u&&(h.fields[Tw]=u),{mapValue:h}})(n,e):s instanceof Lc?Gw(s,e):s instanceof Uc?$w(s,e):(function(l,u){const h=Hw(l,u),m=Yb(h)+Yb(l.Ae);return Hm(h)&&Hm(l.Ae)?Fw(m):Pg(l.serializer,m)})(s,e)}function Wk(s,e,n){return s instanceof Lc?Gw(s,e):s instanceof Uc?$w(s,e):n}function Hw(s,e){return s instanceof bh?(function(i){return Hm(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class Vc extends Gh{}class Lc extends Gh{constructor(e){super(),this.elements=e}}function Gw(s,e){const n=Yw(e);for(const i of s.elements)n.some((l=>os(l,i)))||n.push(i);return{arrayValue:{values:n}}}class Uc extends Gh{constructor(e){super(),this.elements=e}}function $w(s,e){let n=Yw(e);for(const i of s.elements)n=n.filter((l=>!os(l,i)));return{arrayValue:{values:n}}}class bh extends Gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Yb(s){return It(s.integerValue||s.doubleValue)}function Yw(s){return Mg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Zk{constructor(e,n){this.field=e,this.transform=n}}function eI(s,e){return s.field.isEqual(e.field)&&(function(i,l){return i instanceof Lc&&l instanceof Lc||i instanceof Uc&&l instanceof Uc?Qo(i.elements,l.elements,os):i instanceof bh&&l instanceof bh?os(i.Ae,l.Ae):i instanceof Vc&&l instanceof Vc})(s.transform,e.transform)}class tI{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class $h{}function Qw(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Yh(s.key,bn.none()):new nu(s.key,s.data,bn.none());{const n=s.data,i=In.empty();let l=new Kt(ln.comparator);for(let u of e.fields)if(!l.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?i.delete(u):i.set(u,h),l=l.add(u)}return new Gr(s.key,i,new Gn(l.toArray()),bn.none())}}function nI(s,e,n){s instanceof nu?(function(l,u,h){const m=l.value.clone(),v=Kb(l.fieldTransforms,u,h.transformResults);m.setAll(v),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(s,e,n):s instanceof Gr?(function(l,u,h){if(!sh(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Kb(l.fieldTransforms,u,h.transformResults),v=u.data;v.setAll(Kw(l)),v.setAll(m),u.convertToFoundDocument(h.version,v).setHasCommittedMutations()})(s,e,n):(function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Sc(s,e,n,i){return s instanceof nu?(function(u,h,m,v){if(!sh(u.precondition,h))return m;const g=u.value.clone(),x=Xb(u.fieldTransforms,v,h);return g.setAll(x),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(s,e,n,i):s instanceof Gr?(function(u,h,m,v){if(!sh(u.precondition,h))return m;const g=Xb(u.fieldTransforms,v,h),x=h.data;return x.setAll(Kw(u)),x.setAll(g),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((_=>_.field)))})(s,e,n,i):(function(u,h,m){return sh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(s,e,n)}function aI(s,e){let n=null;for(const i of s.fieldTransforms){const l=e.data.field(i.field),u=Hw(i.transform,l||null);u!=null&&(n===null&&(n=In.empty()),n.set(i.field,u))}return n||null}function Qb(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&Qo(i,l,((u,h)=>eI(u,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class nu extends $h{constructor(e,n,i,l=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gr extends $h{constructor(e,n,i,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Kw(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}})),e}function Kb(s,e,n){const i=new Map;Xe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const u=s[l],h=u.transform,m=e.data.field(u.field);i.set(u.field,Wk(h,m,n[l]))}return i}function Xb(s,e,n){const i=new Map;for(const l of s){const u=l.transform,h=n.data.field(l.field);i.set(l.field,Jk(u,h,e))}return i}class Yh extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sI extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rI{constructor(e,n,i,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&nI(u,e,i[l])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Sc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Sc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=qw();return this.mutations.forEach((l=>{const u=e.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(l.key)?null:m;const v=Qw(h,m);v!==null&&i.set(l.key,v),h.isValidDocument()||h.convertToNoDocument(Te.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,((n,i)=>Qb(n,i)))&&Qo(this.baseMutations,e.baseMutations,((n,i)=>Qb(n,i)))}}class Vg{constructor(e,n,i,l){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(e,n,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let l=(function(){return $k})();const u=e.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,i[h].version);return new Vg(e,n,i,l)}}class iI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ft,Ge;function lI(s){switch(s){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function Xw(s){if(s===void 0)return Bs("GRPC error has no .code"),ne.UNKNOWN;switch(s){case Ft.OK:return ne.OK;case Ft.CANCELLED:return ne.CANCELLED;case Ft.UNKNOWN:return ne.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ne.INTERNAL;case Ft.UNAVAILABLE:return ne.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ne.NOT_FOUND;case Ft.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ft.ABORTED:return ne.ABORTED;case Ft.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ft.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:s})}}(Ge=Ft||(Ft={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function cI(){return new TextEncoder}const uI=new kr([4294967295,4294967295],0);function Jb(s){const e=cI().encode(s),n=new dw;return n.update(e),new Uint8Array(n.digest())}function Wb(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new kr([n,i],0),new kr([l,u],0)]}class Lg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new bc(`Invalid padding: ${n}`);if(i<0)throw new bc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new bc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=kr.fromNumber(this.ge)}ye(e,n,i){let l=e.add(n.multiply(kr.fromNumber(i)));return l.compare(uI)===1&&(l=new kr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jb(e),[i,l]=Wb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,l,u);if(!this.we(h))return!1}return!0}static create(e,n,i){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Lg(u,l,n);return i.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Jb(e),[i,l]=Wb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,l,u);this.be(h)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qh{constructor(e,n,i,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const l=new Map;return l.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Qh(Te.min(),l,new jt(Le),qs(),Ue())}}class au{constructor(e,n,i,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new au(i,n,Ue(),Ue(),Ue())}}class rh{constructor(e,n,i,l){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=l}}class Jw{constructor(e,n){this.targetId=e,this.Ce=n}}class Ww{constructor(e,n,i=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=l}}class Zb{constructor(){this.ve=0,this.Fe=e1(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),i=Ue();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:Ee(38017,{changeType:u})}})),new au(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=e1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class dI{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.He=Gd(),this.Je=Gd(),this.Ze=new jt(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,i=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if($m(u))if(i===0){const h=new be(u.path);this.et(n,h,pn.newNoDocument(h,Te.min()))}else Xe(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const m=this.ut(e),v=m?this.ct(m,e,h):1;if(v!==0){this.it(n);const g=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=n;let h,m;try{h=Vr(i).toUint8Array()}catch(v){if(v instanceof jw)return Yo("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{m=new Lg(h,l,u)}catch(v){return Yo(v instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return m.ge===0?null:m}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let l=0;return i.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&$m(m.target)){const v=new be(m.target.path);this.It(v).has(h)||this.Et(h,v)||this.et(h,v,pn.newNoDocument(v,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let i=Ue();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((v=>{const g=this.ot(v);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const l=new Qh(e,n,this.Ze,this.je,i);return this.je=qs(),this.He=Gd(),this.Je=Gd(),this.Ze=new jt(Le),l}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Zb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Kt(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Kt(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gd(){return new jt(be.comparator)}function e1(){return new jt(be.comparator)}const hI={asc:"ASCENDING",desc:"DESCENDING"},fI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pI={and:"AND",or:"OR"};class mI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(s,e){return s.useProto3Json||Uh(e)?e:{value:e}}function _h(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zw(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function gI(s,e){return _h(s,e.toTimestamp())}function as(s){return Xe(!!s,49232),Te.fromTimestamp((function(n){const i=Pr(n);return new dt(i.seconds,i.nanos)})(s))}function Ug(s,e){return Xm(s,e).canonicalString()}function Xm(s,e){const n=(function(l){return new ot(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function ej(s){const e=ot.fromString(s);return Xe(rj(e),10190,{key:e.toString()}),e}function Jm(s,e){return Ug(s.databaseId,e.path)}function _m(s,e){const n=ej(e);if(n.get(1)!==s.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new be(nj(n))}function tj(s,e){return Ug(s.databaseId,e)}function vI(s){const e=ej(s);return e.length===4?ot.emptyPath():nj(e)}function Wm(s){return new ot(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function nj(s){return Xe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function t1(s,e,n){return{name:Jm(s,e),fields:n.value.mapValue.fields}}function yI(s,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(g,x){return g.useProto3Json?(Xe(x===void 0||typeof x=="string",58123),un.fromBase64String(x||"")):(Xe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),un.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const x=g.code===void 0?ne.UNKNOWN:Xw(g.code);return new de(x,g.message||"")})(h);n=new Ww(i,l,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=_m(s,i.document.name),u=as(i.document.updateTime),h=i.document.createTime?as(i.document.createTime):Te.min(),m=new In({mapValue:{fields:i.document.fields}}),v=pn.newFoundDocument(l,u,h,m),g=i.targetIds||[],x=i.removedTargetIds||[];n=new rh(g,x,v.key,v)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=_m(s,i.document),u=i.readTime?as(i.readTime):Te.min(),h=pn.newNoDocument(l,u),m=i.removedTargetIds||[];n=new rh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=_m(s,i.document),u=i.removedTargetIds||[];n=new rh([],u,l,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,h=new oI(l,u),m=i.targetId;n=new Jw(m,h)}}return n}function xI(s,e){let n;if(e instanceof nu)n={update:t1(s,e.key,e.value)};else if(e instanceof Yh)n={delete:Jm(s,e.key)};else if(e instanceof Gr)n={update:t1(s,e.key,e.data),updateMask:AI(e.fieldMask)};else{if(!(e instanceof sI))return Ee(16599,{dt:e.type});n={verify:Jm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,h){const m=h.transform;if(m instanceof Vc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Lc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Uc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:gI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(s,e.precondition)),n}function bI(s,e){return s&&s.length>0?(Xe(e!==void 0,14353),s.map((n=>(function(l,u){let h=l.updateTime?as(l.updateTime):as(u);return h.isEqual(Te.min())&&(h=as(u)),new tI(h,l.transformResults||[])})(n,e)))):[]}function _I(s,e){return{documents:[tj(s,e.path)]}}function wI(s,e){const n={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=tj(s,l);const u=(function(g){if(g.length!==0)return sj(Ca.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((x=>(function(j){return{field:Vo(j.field),direction:NI(j.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Km(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:l}}function jI(s){let e=vI(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){Xe(i===1,65062);const x=n.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let u=[];n.where&&(u=(function(_){const j=aj(_);return j instanceof Ca&&Dw(j)?j.getFilters():[j]})(n.where));let h=[];n.orderBy&&(h=(function(_){return _.map((j=>(function(I){return new Pc(Lo(I.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(j)))})(n.orderBy));let m=null;n.limit&&(m=(function(_){let j;return j=typeof _=="object"?_.value:_,Uh(j)?null:j})(n.limit));let v=null;n.startAt&&(v=(function(_){const j=!!_.before,S=_.values||[];return new xh(S,j)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const j=!_.before,S=_.values||[];return new xh(S,j)})(n.endAt)),Lk(e,l,h,u,m,"F",v,g)}function EI(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aj(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Lo(n.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=Lo(n.unaryFilter.field);return Ht.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Lo(n.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Lo(n.unaryFilter.field);return Ht.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ht.create(Lo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ca.create(n.compositeFilter.filters.map((i=>aj(i))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(s):Ee(30097,{filter:s})}function NI(s){return hI[s]}function TI(s){return fI[s]}function SI(s){return pI[s]}function Vo(s){return{fieldPath:s.canonicalString()}}function Lo(s){return ln.fromServerFormat(s.fieldPath)}function sj(s){return s instanceof Ht?(function(n){if(n.op==="=="){if(qb(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(Bb(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qb(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(Bb(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:TI(n.op),value:n.value}}})(s):s instanceof Ca?(function(n){const i=n.getFilters().map((l=>sj(l)));return i.length===1?i[0]:{compositeFilter:{op:SI(n.op),filters:i}}})(s):Ee(54877,{filter:s})}function AI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rj(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function ij(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Ar{constructor(e,n,i,l,u=Te.min(),h=Te.min(),m=un.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=v}withSequenceNumber(e){return new Ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CI{constructor(e){this.yt=e}}function RI(s){const e=jI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Qm(e,e.limit,"L"):e}class kI{constructor(){this.Sn=new II}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(zr.min())}updateCollectionGroup(e,n,i){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class II{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n]||new Kt(ot.comparator),u=!l.has(i);return this.index[n]=l.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Kt(ot.comparator)).toArray()}}const n1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oj=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(oj,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Jo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Jo(0)}static ar(){return new Jo(-1)}}const a1="LruGarbageCollector",DI=1048576;function s1([s,e],[n,i]){const l=Le(s,n);return l===0?Le(e,i):l}class MI{constructor(e){this.Pr=e,this.buffer=new Kt(s1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();s1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OI{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(a1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rl(n)?fe(a1,"Ignoring IndexedDB error during garbage collection: ",n):await sl(n)}await this.Ar(3e5)}))}}class zI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Lh.ce);const i=new MI(n);return this.Vr.forEachTarget(e,(l=>i.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>i.Er(l))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(n1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,l,u,h,m,v,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),l=this.params.maximumSequenceNumbersToCollect):l=_,h=Date.now(),this.nthSequenceNumber(e,l)))).next((_=>(i=_,m=Date.now(),this.removeTargets(e,i,n)))).next((_=>(u=_,v=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(g=Date.now(),zo()<=Ve.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(v-m)+`ms
	Removed ${_} documents in `+(g-v)+`ms
Total Duration: ${g-x}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:_}))))}}function PI(s,e){return new zI(s,e)}class VI{constructor(){this.changes=new Fi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ie.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UI{constructor(e,n,i,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(i=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(i!==null&&Sc(i.mutation,l,Gn.empty(),dt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ue()){const l=Si();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,i).next((u=>{let h=xc();return u.forEach(((m,v)=>{h=h.insert(m,v.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const i=Si();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ue())))}populateOverlays(e,n,i){const l=[];return i.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,i,l){let u=qs();const h=Tc(),m=(function(){return Tc()})();return n.forEach(((v,g)=>{const x=i.get(g.key);l.has(g.key)&&(x===void 0||x.mutation instanceof Gr)?u=u.insert(g.key,g):x!==void 0?(h.set(g.key,x.mutation.getFieldMask()),Sc(x.mutation,g,x.mutation.getFieldMask(),dt.now())):h.set(g.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((g,x)=>h.set(g,x))),n.forEach(((g,x)=>m.set(g,new LI(x,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const i=Tc();let l=new jt(((h,m)=>h-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((v=>{const g=n.get(v);if(g===null)return;let x=i.get(v)||Gn.empty();x=m.applyToLocalView(g,x),i.set(v,x);const _=(l.get(m.batchId)||Ue()).add(v);l=l.insert(m.batchId,_)}))})).next((()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),g=v.key,x=v.value,_=qw();x.forEach((j=>{if(!u.has(j)){const S=Qw(n.get(j),i.get(j));S!==null&&_.set(j,S),u=u.add(j)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ie.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,l){return Uk(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Pw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,l):this.getDocumentsMatchingCollectionQuery(e,n,i,l)}getNextDocuments(e,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,l).next((u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,l-u.size):ie.resolve(Si());let m=Dc,v=u;return h.next((g=>ie.forEach(g,((x,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),u.get(x)?ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((j=>{v=v.insert(x,j)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,v,g,Ue()))).next((x=>({batchId:m,changes:Bw(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((i=>{let l=xc();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,l){const u=n.collectionGroup;let h=xc();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(v=>{const g=(function(_,j){return new il(j,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,i,l).next((x=>{x.forEach(((_,j)=>{h=h.insert(_,j)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,l)))).next((h=>{u.forEach(((v,g)=>{const x=g.getKey();h.get(x)===null&&(h=h.insert(x,pn.newInvalidDocument(x)))}));let m=xc();return h.forEach(((v,g)=>{const x=u.get(v);x!==void 0&&Sc(x.mutation,g,Gn.empty(),dt.now()),Hh(n,g)&&(m=m.insert(v,g))})),m}))}}class BI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:as(l.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:RI(l.bundledQuery),readTime:as(l.readTime)}})(n)),ie.resolve()}}class qI{constructor(){this.overlays=new jt(be.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Si();return ie.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&i.set(l,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((l,u)=>{this.bt(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,i){const l=this.Lr.get(i);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(i)),ie.resolve()}getOverlaysForCollection(e,n,i){const l=Si(),u=n.length+1,h=new be(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const v=m.getNext().value,g=v.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&v.largestBatchId>i&&l.set(v.getKey(),v)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,n,i,l){let u=new jt(((g,x)=>g-x));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let x=u.get(g.largestBatchId);x===null&&(x=Si(),u=u.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const m=Si(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((g,x)=>m.set(g,x))),!(m.size()>=l)););return ie.resolve(m)}bt(e,n,i){const l=this.overlays.get(i.key);if(l!==null){const h=this.Lr.get(l.largestBatchId).delete(i.key);this.Lr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new iI(n,i));let u=this.Lr.get(n);u===void 0&&(u=Ue(),this.Lr.set(n,u)),this.Lr.set(n,u.add(i.key))}}class FI{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Bg{constructor(){this.kr=new Kt(Zt.Kr),this.qr=new Kt(Zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Zt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Zt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new be(new ot([])),i=new Zt(n,e),l=new Zt(n,e+1),u=[];return this.qr.forEachInRange([i,l],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new ot([])),i=new Zt(n,e),l=new Zt(n,e+1);let u=Ue();return this.qr.forEachInRange([i,l],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Zt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class HI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Kt(Zt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new rI(u,n,i,l);this.mutationQueue.push(h);for(const m of l)this.Jr=this.Jr.add(new Zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,l=this.Xr(i),u=l<0?0:l;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Ig:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Zt(n,0),l=new Zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([i,l],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Kt(Le);return n.forEach((l=>{const u=new Zt(l,0),h=new Zt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{i=i.add(m.Hr)}))})),ie.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,l=i.length+1;let u=i;be.isDocumentKey(u)||(u=u.child(""));const h=new Zt(new be(u),0);let m=new Kt(Le);return this.Jr.forEachWhile((v=>{const g=v.key.path;return!!i.isPrefixOf(g)&&(g.length===l&&(m=m.add(v.Hr)),!0)}),h),ie.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((i=>{const l=this.Zr(i);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ie.forEach(n.mutations,(l=>{const u=new Zt(l.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Zt(n,0),l=this.Jr.firstAfterOrEqual(i);return ie.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class GI{constructor(e){this.ti=e,this.docs=(function(){return new jt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,l=this.docs.get(i),u=l?l.size:0,h=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ie.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let i=qs();return n.forEach((l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():pn.newInvalidDocument(l))})),ie.resolve(i)}getDocumentsMatchingQuery(e,n,i,l){let u=qs();const h=n.path,m=new be(h.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:g,value:{document:x}}=v.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||gk(mk(x),i)<=0||(l.has(x.key)||Hh(n,x))&&(u=u.insert(x.key,x.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,i,l){Ee(9500)}ni(e,n){return ie.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new $I(this)}getSize(e){return ie.resolve(this.size)}}class $I extends VI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(i)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class YI{constructor(e){this.persistence=e,this.ri=new Fi((n=>Og(n)),zg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Bg,this.targetCount=0,this.oi=Jo._r()}forEachTarget(e,n){return this.ri.forEach(((i,l)=>n(l))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Jo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,i){let l=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),ie.waitFor(u).next((()=>l))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ie.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ie.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((h=>{u.push(l.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ie.resolve(i)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class lj{constructor(e,n){this._i={},this.overlays={},this.ai=new Lh(0),this.ui=!1,this.ui=!0,this.ci=new FI,this.referenceDelegate=e(this),this.li=new YI(this),this.indexManager=new kI,this.remoteDocumentCache=(function(l){return new GI(l)})((i=>this.referenceDelegate.hi(i))),this.serializer=new CI(n),this.Pi=new BI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new HI(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const l=new QI(this.ai.next());return this.referenceDelegate.Ti(),i(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return ie.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class QI extends yk{constructor(e){super(),this.currentSequenceNumber=e}}class qg{constructor(e){this.persistence=e,this.Ri=new Bg,this.Ai=null}static Vi(e){return new qg(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ie.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(i=>{const l=be.fromPath(i);return this.mi(e,l).next((u=>{u||n.removeEntry(l,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.fi=new Fi((i=>_k(i.path)),((i,l)=>i.isEqual(l))),this.garbageCollector=PI(this,n)}static Vi(e,n){return new wh(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((l=>i+l))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((i,l)=>this.wr(e,i,l).next((u=>u?ie.resolve():n(l)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(i++,u.removeEntry(h,Te.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}wr(e,n,i){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return ie.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fg{constructor(e,n,i,l){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=l}static Es(e,n){let i=Ue(),l=Ue();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Fg(e,n.fromCache,i,l)}}class KI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class XI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return vA()?8:xk(mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,l){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,l,i).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new KI;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,i,l){return i.documentReadCount<this.Vs?(zo()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(zo()<=Ve.DEBUG&&fe("QueryEngine","Query:",Po(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ds*l?(zo()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):ie.resolve())}gs(e,n){if($b(n))return ie.resolve(null);let i=ns(n);return this.indexManager.getIndexType(e,i).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Qm(n,null,"F"),i=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const h=Ue(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,i).next((v=>{const g=this.bs(n,m);return this.Ss(n,g,h,v.readTime)?this.gs(e,Qm(n,null,"F")):this.Ds(e,g,n,v)}))))})))))}ps(e,n,i,l){return $b(n)||l.isEqual(Te.min())?ie.resolve(null):this.fs.getDocuments(e,i).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,i,l)?ie.resolve(null):(zo()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Po(n)),this.Ds(e,h,n,pk(l,Dc)).next((m=>m)))}))}bs(e,n){let i=new Kt(Lw(e));return n.forEach(((l,u)=>{Hh(e,u)&&(i=i.add(u))})),i}Ss(e,n,i,l){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,n,i){return zo()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Po(n)),this.fs.getDocumentsMatchingQuery(e,n,zr.min(),i)}Ds(e,n,i,l){return this.fs.getDocumentsMatchingQuery(e,i,l).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Hg="LocalStore",JI=3e8;class WI{constructor(e,n,i,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new jt(Le),this.Fs=new Fi((u=>Og(u)),zg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function ZI(s,e,n,i){return new WI(s,e,n,i)}async function cj(s,e){const n=Ae(s);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next((u=>(l=u,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const h=[],m=[];let v=Ue();for(const g of l){h.push(g.batchId);for(const x of g.mutations)v=v.add(x.key)}for(const g of u){m.push(g.batchId);for(const x of g.mutations)v=v.add(x.key)}return n.localDocuments.getDocuments(i,v).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function e6(s,e){const n=Ae(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const l=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,v,g,x){const _=g.batch,j=_.keys();let S=ie.resolve();return j.forEach((I=>{S=S.next((()=>x.getEntry(v,I))).next((C=>{const M=g.docVersions.get(I);Xe(M!==null,48541),C.version.compareTo(M)<0&&(_.applyToRemoteDocument(C,g),C.isValidDocument()&&(C.setReadTime(g.commitVersion),x.addEntry(C)))}))})),S.next((()=>m.mutationQueue.removeMutationBatch(v,_)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let v=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(v=v.add(m.batch.mutations[g].key));return v})(e)))).next((()=>n.localDocuments.getDocuments(i,l)))}))}function uj(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function t6(s,e){const n=Ae(s),i=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const m=[];e.targetChanges.forEach(((x,_)=>{const j=l.get(_);if(!j)return;m.push(n.li.removeMatchingKeys(u,x.removedDocuments,_).next((()=>n.li.addMatchingKeys(u,x.addedDocuments,_))));let S=j.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(un.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):x.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(x.resumeToken,i)),l=l.insert(_,S),(function(C,M,V){return C.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=JI?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(j,S,x)&&m.push(n.li.updateTargetData(u,S))}));let v=qs(),g=Ue();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,x))})),m.push(n6(u,h,e.documentUpdates).next((x=>{v=x.Bs,g=x.Ls}))),!i.isEqual(Te.min())){const x=n.li.getLastRemoteSnapshotVersion(u).next((_=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,i)));m.push(x)}return ie.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,v,g))).next((()=>v))})).then((u=>(n.vs=l,u)))}function n6(s,e,n){let i=Ue(),l=Ue();return n.forEach((u=>i=i.add(u))),e.getEntries(s,i).next((u=>{let h=qs();return n.forEach(((m,v)=>{const g=u.get(m);v.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(m)),v.isNoDocument()&&v.version.isEqual(Te.min())?(e.removeEntry(m,v.readTime),h=h.insert(m,v)):!g.isValidDocument()||v.version.compareTo(g.version)>0||v.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(v),h=h.insert(m,v)):fe(Hg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",v.version)})),{Bs:h,Ls:l}}))}function a6(s,e){const n=Ae(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ig),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function s6(s,e){const n=Ae(s);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let l;return n.li.getTargetData(i,e).next((u=>u?(l=u,ie.resolve(l)):n.li.allocateTargetId(i).next((h=>(l=new Ar(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,l).next((()=>l)))))))})).then((i=>{const l=n.vs.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Zm(s,e,n){const i=Ae(s),l=i.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(h=>i.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!rl(h))throw h;fe(Hg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.vs=i.vs.remove(e),i.Fs.delete(l.target)}function r1(s,e,n){const i=Ae(s);let l=Te.min(),u=Ue();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(v,g,x){const _=Ae(v),j=_.Fs.get(x);return j!==void 0?ie.resolve(_.vs.get(j)):_.li.getTargetData(g,x)})(i,h,ns(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(h,m.targetId).next((v=>{u=v}))})).next((()=>i.Cs.getDocumentsMatchingQuery(h,e,n?l:Te.min(),n?u:Ue()))).next((m=>(r6(i,Fk(e),m),{documents:m,ks:u})))))}function r6(s,e,n){let i=s.Ms.get(e)||Te.min();n.forEach(((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),s.Ms.set(e,i)}class i1{constructor(){this.activeTargetIds=Kk()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i6{constructor(){this.vo=new i1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new i1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class o6{Mo(e){}shutdown(){}}const o1="ConnectivityMonitor";class l1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(o1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(o1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $d=null;function eg(){return $d===null?$d=(function(){return 268435456+Math.round(2147483648*Math.random())})():$d++,"0x"+$d.toString(16)}const wm="RestConnection",l6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class c6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${l}`,this.$o=this.databaseId.database===vh?`project_id=${i}`:`project_id=${i}&database_id=${l}`}Wo(e,n,i,l,u){const h=eg(),m=this.Qo(e,n.toUriEncodedString());fe(wm,`Sending RPC '${e}' ${h}:`,m,i);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,u);const{host:g}=new URL(m),x=Ui(g);return this.zo(e,m,v,i,x).then((_=>(fe(wm,`Received RPC '${e}' ${h}: `,_),_)),(_=>{throw Yo(wm,`RPC '${e}' ${h} failed with error: `,_,"url: ",m,"request:",i),_}))}jo(e,n,i,l,u,h){return this.Wo(e,n,i,l,u)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),i&&i.headers.forEach(((l,u)=>e[u]=l))}Qo(e,n){const i=l6[e];let l=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class u6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const hn="WebChannelConnection",mc=(s,e,n)=>{s.listen(e,(i=>{try{n(i)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Fo extends c6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Fo.c_){const e=mw();mc(e,pw.STAT_EVENT,(n=>{n.stat===Bm.PROXY?fe(hn,"STAT_EVENT: detected buffering proxy"):n.stat===Bm.NOPROXY&&fe(hn,"STAT_EVENT: detected no buffering proxy")})),Fo.c_=!0}}zo(e,n,i,l,u){const h=eg();return new Promise(((m,v)=>{const g=new hw;g.setWithCredentials(!0),g.listenOnce(fw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case th.NO_ERROR:const _=g.getResponseJson();fe(hn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(_)),m(_);break;case th.TIMEOUT:fe(hn,`RPC '${e}' ${h} timed out`),v(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const j=g.getStatus();if(fe(hn,`RPC '${e}' ${h} failed with status:`,j,"response text:",g.getResponseText()),j>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S?.error;if(I&&I.status&&I.message){const C=(function(V){const P=V.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(P)>=0?P:ne.UNKNOWN})(I.status);v(new de(C,I.message))}else v(new de(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else v(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(hn,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(l);fe(hn,`RPC '${e}' ${h} sending request:`,l),g.send(n,"POST",x,i,15)}))}T_(e,n,i){const l=eg(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const g=u.join("");fe(hn,`Creating RPC '${e}' stream ${l}: ${g}`,m);const x=h.createWebChannel(g,m);this.I_(x);let _=!1,j=!1;const S=new u6({Ho:I=>{j?fe(hn,`Not sending because RPC '${e}' stream ${l} is closed:`,I):(_||(fe(hn,`Opening RPC '${e}' stream ${l} transport.`),x.open(),_=!0),fe(hn,`RPC '${e}' stream ${l} sending:`,I),x.send(I))},Jo:()=>x.close()});return mc(x,yc.EventType.OPEN,(()=>{j||(fe(hn,`RPC '${e}' stream ${l} transport opened.`),S.i_())})),mc(x,yc.EventType.CLOSE,(()=>{j||(j=!0,fe(hn,`RPC '${e}' stream ${l} transport closed`),S.o_(),this.E_(x))})),mc(x,yc.EventType.ERROR,(I=>{j||(j=!0,Yo(hn,`RPC '${e}' stream ${l} transport errored. Name:`,I.name,"Message:",I.message),S.o_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),mc(x,yc.EventType.MESSAGE,(I=>{if(!j){const C=I.data[0];Xe(!!C,16349);const M=C,V=M?.error||M[0]?.error;if(V){fe(hn,`RPC '${e}' stream ${l} received error:`,V);const P=V.status;let H=(function(W){const R=Ft[W];if(R!==void 0)return Xw(R)})(P),ee=V.message;H===void 0&&(H=ne.INTERNAL,ee="Unknown error status: "+P+" with message "+V.message),j=!0,S.o_(new de(H,ee)),x.close()}else fe(hn,`RPC '${e}' stream ${l} received:`,C),S.__(C)}})),Fo.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return gw()}}function d6(s){return new Fo(s)}function jm(){return typeof document<"u"?document:null}function Kh(s){return new mI(s,!0)}Fo.c_=!1;class dj{constructor(e,n,i=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-i);l>0&&fe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const c1="PersistentStream";class hj{constructor(e,n,i,l,u,h,m,v){this.Ci=e,this.b_=i,this.S_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Bs(n.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,l])=>{this.D_===n&&this.G_(i,l)}),(i=>{e((()=>{const l=new de(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(l)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{i((()=>this.z_(l)))})),this.stream.onMessage((l=>{i((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(c1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe(c1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class h6 extends hj{constructor(e,n,i,l,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yI(this.serializer,e),i=(function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?as(h.readTime):Te.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(u,h){let m;const v=h.target;if(m=$m(v)?{documents:_I(u,v)}:{query:wI(u,v).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Zw(u,h.resumeToken);const g=Km(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=_h(u,h.snapshotVersion.toTimestamp());const g=Km(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const i=EI(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.K_(n)}}class f6 extends hj{constructor(e,n,i,l,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bI(e.writeResults,e.commitTime),i=as(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Wm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>xI(this.serializer,i)))};this.K_(n)}}class p6{}class m6 extends p6{constructor(e,n,i,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Xm(n,i),l,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())}))}jo(e,n,i,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Xm(n,i),l,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function g6(s,e,n,i){return new m6(s,e,n,i)}class v6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bs(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Oi="RemoteStore";class y6{constructor(e,n,i,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{i.enqueueAndForget((async()=>{Hi(this)&&(fe(Oi,"Restarting streams for network reachability change."),await(async function(v){const g=Ae(v);g.Ea.add(4),await su(g),g.Va.set("Unknown"),g.Ea.delete(4),await Xh(g)})(this))}))})),this.Va=new v6(i,l)}}async function Xh(s){if(Hi(s))for(const e of s.Ra)await e(!0)}async function su(s){for(const e of s.Ra)await e(!1)}function fj(s,e){const n=Ae(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qg(n)?Yg(n):ol(n).O_()&&$g(n,e))}function Gg(s,e){const n=Ae(s),i=ol(n);n.Ia.delete(e),i.O_()&&pj(n,e),n.Ia.size===0&&(i.O_()?i.L_():Hi(n)&&n.Va.set("Unknown"))}function $g(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(s).Z_(e)}function pj(s,e){s.da.$e(e),ol(s).X_(e)}function Yg(s){s.da=new dI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ol(s).start(),s.Va.ua()}function Qg(s){return Hi(s)&&!ol(s).x_()&&s.Ia.size>0}function Hi(s){return Ae(s).Ea.size===0}function mj(s){s.da=void 0}async function x6(s){s.Va.set("Online")}async function b6(s){s.Ia.forEach(((e,n)=>{$g(s,e)}))}async function _6(s,e){mj(s),Qg(s)?(s.Va.ha(e),Yg(s)):s.Va.set("Unknown")}async function w6(s,e,n){if(s.Va.set("Online"),e instanceof Ww&&e.state===2&&e.cause)try{await(async function(l,u){const h=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ia.delete(m),l.da.removeTarget(m))})(s,e)}catch(i){fe(Oi,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jh(s,i)}else if(e instanceof rh?s.da.Xe(e):e instanceof Jw?s.da.st(e):s.da.tt(e),!n.isEqual(Te.min()))try{const i=await uj(s.localStore);n.compareTo(i)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((v,g)=>{if(v.resumeToken.approximateByteSize()>0){const x=u.Ia.get(g);x&&u.Ia.set(g,x.withResumeToken(v.resumeToken,h))}})),m.targetMismatches.forEach(((v,g)=>{const x=u.Ia.get(v);if(!x)return;u.Ia.set(v,x.withResumeToken(un.EMPTY_BYTE_STRING,x.snapshotVersion)),pj(u,v);const _=new Ar(x.target,v,g,x.sequenceNumber);$g(u,_)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(i){fe(Oi,"Failed to raise snapshot:",i),await jh(s,i)}}async function jh(s,e,n){if(!rl(e))throw e;s.Ea.add(1),await su(s),s.Va.set("Offline"),n||(n=()=>uj(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(Oi,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Xh(s)}))}function gj(s,e){return e().catch((n=>jh(s,n,e)))}async function Jh(s){const e=Ae(s),n=Ur(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ig;for(;j6(e);)try{const l=await a6(e.localStore,i);if(l===null){e.Ta.length===0&&n.L_();break}i=l.batchId,E6(e,l)}catch(l){await jh(e,l)}vj(e)&&yj(e)}function j6(s){return Hi(s)&&s.Ta.length<10}function E6(s,e){s.Ta.push(e);const n=Ur(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function vj(s){return Hi(s)&&!Ur(s).x_()&&s.Ta.length>0}function yj(s){Ur(s).start()}async function N6(s){Ur(s).ra()}async function T6(s){const e=Ur(s);for(const n of s.Ta)e.ea(n.mutations)}async function S6(s,e,n){const i=s.Ta.shift(),l=Vg.from(i,e,n);await gj(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Jh(s)}async function A6(s,e){e&&Ur(s).Y_&&await(async function(i,l){if((function(h){return lI(h)&&h!==ne.ABORTED})(l.code)){const u=i.Ta.shift();Ur(i).B_(),await gj(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Jh(i)}})(s,e),vj(s)&&yj(s)}async function u1(s,e){const n=Ae(s);n.asyncQueue.verifyOperationInProgress(),fe(Oi,"RemoteStore received new credentials");const i=Hi(n);n.Ea.add(3),await su(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xh(n)}async function C6(s,e){const n=Ae(s);e?(n.Ea.delete(2),await Xh(n)):e||(n.Ea.add(2),await su(n),n.Va.set("Unknown"))}function ol(s){return s.ma||(s.ma=(function(n,i,l){const u=Ae(n);return u.sa(),new h6(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:x6.bind(null,s),Yo:b6.bind(null,s),t_:_6.bind(null,s),J_:w6.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Qg(s)?Yg(s):s.Va.set("Unknown")):(await s.ma.stop(),mj(s))}))),s.ma}function Ur(s){return s.fa||(s.fa=(function(n,i,l){const u=Ae(n);return u.sa(),new f6(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:N6.bind(null,s),t_:A6.bind(null,s),ta:T6.bind(null,s),na:S6.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Jh(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(Oi,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Kg{constructor(e,n,i,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,l,u){const h=Date.now()+i,m=new Kg(e,n,h,l,u);return m.start(i),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(s,e){if(Bs("AsyncQueue",`${e}: ${s}`),rl(s))return new de(ne.UNAVAILABLE,`${e}: ${s}`);throw s}class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||be.comparator(n.key,i.key):(n,i)=>be.comparator(n.key,i.key),this.keyedMap=xc(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ho;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class d1{constructor(){this.ga=new jt(be.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Wo{constructor(e,n,i,l,u,h,m,v,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,l,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Wo(e,n,Ho.emptySet(n),h,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}class R6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class k6{constructor(){this.queries=h1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const l=Ae(n),u=l.queries;l.queries=h1(),u.forEach(((h,m)=>{for(const v of m.ba)v.onError(i)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function h1(){return new Fi((s=>Vw(s)),Fh)}async function Jg(s,e){const n=Ae(s);let i=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.Da()&&(i=2):(u=new R6,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const m=Xg(h,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Zg(n)}async function Wg(s,e){const n=Ae(s),i=e.query;let l=3;const u=n.queries.get(i);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function I6(s,e){const n=Ae(s);let i=!1;for(const l of e){const u=l.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(l)&&(i=!0);h.wa=l}}i&&Zg(n)}function D6(s,e,n){const i=Ae(s),l=i.queries.get(e);if(l)for(const u of l.ba)u.onError(n);i.queries.delete(e)}function Zg(s){s.Ca.forEach((e=>{e.next()}))}var tg,f1;(f1=tg||(tg={})).Ma="default",f1.Cache="cache";class ev{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new Wo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tg.Cache}}class xj{constructor(e){this.key=e}}class bj{constructor(e){this.key=e}}class M6{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=Lw(e),this.tu=new Ho(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new d1,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=l,m=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,_)=>{const j=l.get(x),S=Hh(this.query,_)?_:null,I=!!j&&this.mutatedKeys.has(j.key),C=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;j&&S?j.data.isEqual(S.data)?I!==C&&(i.track({type:3,doc:S}),M=!0):this.su(j,S)||(i.track({type:2,doc:S}),M=!0,(v&&this.eu(S,v)>0||g&&this.eu(S,g)<0)&&(m=!0)):!j&&S?(i.track({type:0,doc:S}),M=!0):j&&!S&&(i.track({type:1,doc:j}),M=!0,(v||g)&&(m=!0)),M&&(S?(h=h.add(S),u=C?u.add(x):u.delete(x)):(h=h.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),u=u.delete(x.key),i.track({type:1,doc:x})}return{tu:h,iu:i,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,_)=>(function(S,I){const C=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:M})}};return C(S)-C(I)})(x.type,_.type)||this.eu(x.doc,_.doc))),this.ou(i),l=l??!1;const m=n&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,g=v!==this.Xa;return this.Xa=v,h.length!==0||g?{snapshot:new Wo(this.query,e.tu,u,h,e.mutatedKeys,v===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new bj(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new xj(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tv="SyncEngine";class O6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class z6{constructor(e){this.key=e,this.hu=!1}}class P6{constructor(e,n,i,l,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Fi((m=>Vw(m)),Fh),this.Iu=new Map,this.Eu=new Set,this.Ru=new jt(be.comparator),this.Au=new Map,this.Vu=new Bg,this.du={},this.mu=new Map,this.fu=Jo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V6(s,e,n=!0){const i=Tj(s);let l;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await _j(i,e,n,!0),l}async function L6(s,e){const n=Tj(s);await _j(n,e,!0,!1)}async function _j(s,e,n,i){const l=await s6(s.localStore,ns(e)),u=l.targetId,h=s.sharedClientState.addLocalQueryTarget(u,n);let m;return i&&(m=await U6(s,e,u,h==="current",l.resumeToken)),s.isPrimaryClient&&n&&fj(s.remoteStore,l),m}async function U6(s,e,n,i,l){s.pu=(_,j,S)=>(async function(C,M,V,P){let H=M.view.ru(V);H.Ss&&(H=await r1(C.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,H))));const ee=P&&P.targetChanges.get(M.targetId),re=P&&P.targetMismatches.get(M.targetId)!=null,W=M.view.applyChanges(H,C.isPrimaryClient,ee,re);return m1(C,M.targetId,W.au),W.snapshot})(s,_,j,S);const u=await r1(s.localStore,e,!0),h=new M6(e,u.ks),m=h.ru(u.documents),v=au.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",l),g=h.applyChanges(m,s.isPrimaryClient,v);m1(s,n,g.au);const x=new O6(e,n,h);return s.Tu.set(e,x),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),g.snapshot}async function B6(s,e,n){const i=Ae(s),l=i.Tu.get(e),u=i.Iu.get(l.targetId);if(u.length>1)return i.Iu.set(l.targetId,u.filter((h=>!Fh(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await Zm(i.localStore,l.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(l.targetId),n&&Gg(i.remoteStore,l.targetId),ng(i,l.targetId)})).catch(sl)):(ng(i,l.targetId),await Zm(i.localStore,l.targetId,!0))}async function q6(s,e){const n=Ae(s),i=n.Tu.get(e),l=n.Iu.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Gg(n.remoteStore,i.targetId))}async function F6(s,e,n){const i=X6(s);try{const l=await(function(h,m){const v=Ae(h),g=dt.now(),x=m.reduce(((S,I)=>S.add(I.key)),Ue());let _,j;return v.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let I=qs(),C=Ue();return v.xs.getEntries(S,x).next((M=>{I=M,I.forEach(((V,P)=>{P.isValidDocument()||(C=C.add(V))}))})).next((()=>v.localDocuments.getOverlayedDocuments(S,I))).next((M=>{_=M;const V=[];for(const P of m){const H=aI(P,_.get(P.key).overlayedDocument);H!=null&&V.push(new Gr(P.key,H,Rw(H.value.mapValue),bn.exists(!0)))}return v.mutationQueue.addMutationBatch(S,g,V,m)})).next((M=>{j=M;const V=M.applyToLocalDocumentSet(_,C);return v.documentOverlayCache.saveOverlays(S,M.batchId,V)}))})).then((()=>({batchId:j.batchId,changes:Bw(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),(function(h,m,v){let g=h.du[h.currentUser.toKey()];g||(g=new jt(Le)),g=g.insert(m,v),h.du[h.currentUser.toKey()]=g})(i,l.batchId,n),await ru(i,l.changes),await Jh(i.remoteStore)}catch(l){const u=Xg(l,"Failed to persist write");n.reject(u)}}async function wj(s,e){const n=Ae(s);try{const i=await t6(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const h=n.Au.get(u);h&&(Xe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?Xe(h.hu,14607):l.removedDocuments.size>0&&(Xe(h.hu,42227),h.hu=!1))})),await ru(n,i,e)}catch(i){await sl(i)}}function p1(s,e,n){const i=Ae(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(h,m){const v=Ae(h);v.onlineState=m;let g=!1;v.queries.forEach(((x,_)=>{for(const j of _.ba)j.va(m)&&(g=!0)})),g&&Zg(v)})(i.eventManager,e),l.length&&i.Pu.J_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function H6(s,e,n){const i=Ae(s);i.sharedClientState.updateQueryState(e,"rejected",n);const l=i.Au.get(e),u=l&&l.key;if(u){let h=new jt(be.comparator);h=h.insert(u,pn.newNoDocument(u,Te.min()));const m=Ue().add(u),v=new Qh(Te.min(),new Map,new jt(Le),h,m);await wj(i,v),i.Ru=i.Ru.remove(u),i.Au.delete(e),nv(i)}else await Zm(i.localStore,e,!1).then((()=>ng(i,e,n))).catch(sl)}async function G6(s,e){const n=Ae(s),i=e.batch.batchId;try{const l=await e6(n.localStore,e);Ej(n,i,null),jj(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ru(n,l)}catch(l){await sl(l)}}async function $6(s,e,n){const i=Ae(s);try{const l=await(function(h,m){const v=Ae(h);return v.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return v.mutationQueue.lookupMutationBatch(g,m).next((_=>(Xe(_!==null,37113),x=_.keys(),v.mutationQueue.removeMutationBatch(g,_)))).next((()=>v.mutationQueue.performConsistencyCheck(g))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(g,x,m))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>v.localDocuments.getDocuments(g,x)))}))})(i.localStore,e);Ej(i,e,n),jj(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ru(i,l)}catch(l){await sl(l)}}function jj(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function Ej(s,e,n){const i=Ae(s);let l=i.du[i.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),i.du[i.currentUser.toKey()]=l}}function ng(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Iu.get(e))s.Tu.delete(i),n&&s.Pu.yu(i,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((i=>{s.Vu.containsKey(i)||Nj(s,i)}))}function Nj(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Gg(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),nv(s))}function m1(s,e,n){for(const i of n)i instanceof xj?(s.Vu.addReference(i.key,e),Y6(s,i)):i instanceof bj?(fe(tv,"Document no longer in limbo: "+i.key),s.Vu.removeReference(i.key,e),s.Vu.containsKey(i.key)||Nj(s,i.key)):Ee(19791,{wu:i})}function Y6(s,e){const n=e.key,i=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(i)||(fe(tv,"New document in limbo: "+n),s.Eu.add(i),nv(s))}function nv(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new be(ot.fromString(e)),i=s.fu.next();s.Au.set(i,new z6(n)),s.Ru=s.Ru.insert(n,i),fj(s.remoteStore,new Ar(ns(qh(n.path)),i,"TargetPurposeLimboResolution",Lh.ce))}}async function ru(s,e,n){const i=Ae(s),l=[],u=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,v)=>{h.push(i.pu(v,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const x=g?!g.fromCache:n?.targetChanges.get(v.targetId)?.current;i.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(g){l.push(g);const x=Fg.Es(v.targetId,g);u.push(x)}})))})),await Promise.all(h),i.Pu.J_(l),await(async function(v,g){const x=Ae(v);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ie.forEach(g,(j=>ie.forEach(j.Ts,(S=>x.persistence.referenceDelegate.addReference(_,j.targetId,S))).next((()=>ie.forEach(j.Is,(S=>x.persistence.referenceDelegate.removeReference(_,j.targetId,S)))))))))}catch(_){if(!rl(_))throw _;fe(Hg,"Failed to update sequence numbers: "+_)}for(const _ of g){const j=_.targetId;if(!_.fromCache){const S=x.vs.get(j),I=S.snapshotVersion,C=S.withLastLimboFreeSnapshotVersion(I);x.vs=x.vs.insert(j,C)}}})(i.localStore,u))}async function Q6(s,e){const n=Ae(s);if(!n.currentUser.isEqual(e)){fe(tv,"User change. New user:",e.toKey());const i=await cj(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((v=>{v.reject(new de(ne.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ru(n,i.Ns)}}function K6(s,e){const n=Ae(s),i=n.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let l=Ue();const u=n.Iu.get(e);if(!u)return l;for(const h of u){const m=n.Tu.get(h);l=l.unionWith(m.view.nu)}return l}}function Tj(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=wj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H6.bind(null,e),e.Pu.J_=I6.bind(null,e.eventManager),e.Pu.yu=D6.bind(null,e.eventManager),e}function X6(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$6.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZI(this.persistence,new XI,e.initialUser,this.serializer)}Cu(e){return new lj(qg.Vi,this.serializer)}Du(e){return new i6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class J6 extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof wh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OI(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new lj((i=>wh.Vi(i,n)),this.serializer)}}class ag{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>p1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q6.bind(null,this.syncEngine),await C6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new k6})()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),i=d6(e.databaseInfo);return g6(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,l,u,h,m){return new y6(i,l,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>p1(this.syncEngine,n,0)),(function(){return l1.v()?new l1:new o6})())}createSyncEngine(e,n){return(function(l,u,h,m,v,g,x){const _=new P6(l,u,h,m,v,g);return x&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ae(n);fe(Oi,"RemoteStore shutting down."),i.Ea.add(5),await su(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ag.provider={build:()=>new ag};class av{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Br="FirestoreClient";class W6{constructor(e,n,i,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async h=>{fe(Br,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(fe(Br,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Xg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Em(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Br,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener((async l=>{i.isEqual(l)||(await cj(e.localStore,l),i=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function g1(s,e){s.asyncQueue.verifyOperationInProgress();const n=await Z6(s);fe(Br,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((i=>u1(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,l)=>u1(e.remoteStore,l))),s._onlineComponents=e}async function Z6(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Br,"Using user provided OfflineComponentProvider");try{await Em(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await Em(s,new Eh)}}else fe(Br,"Using default OfflineComponentProvider"),await Em(s,new J6(void 0));return s._offlineComponents}async function Sj(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Br,"Using user provided OnlineComponentProvider"),await g1(s,s._uninitializedComponentsProvider._online)):(fe(Br,"Using default OnlineComponentProvider"),await g1(s,new ag))),s._onlineComponents}function e5(s){return Sj(s).then((e=>e.syncEngine))}async function Nh(s){const e=await Sj(s),n=e.eventManager;return n.onListen=V6.bind(null,e.syncEngine),n.onUnlisten=B6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q6.bind(null,e.syncEngine),n}function t5(s,e,n,i){const l=new av(i),u=new ev(e,l,n);return s.asyncQueue.enqueueAndForget((async()=>Jg(await Nh(s),u))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>Wg(await Nh(s),u)))}}function n5(s,e,n={}){const i=new Ps;return s.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,v,g){const x=new av({next:j=>{x.Nu(),h.enqueueAndForget((()=>Wg(u,_)));const S=j.docs.has(m);!S&&j.fromCache?g.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&j.fromCache&&v&&v.source==="server"?g.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(j)},error:j=>g.reject(j)}),_=new ev(qh(m.path),x,{includeMetadataChanges:!0,Ka:!0});return Jg(u,_)})(await Nh(s),s.asyncQueue,e,n,i))),i.promise}function a5(s,e,n={}){const i=new Ps;return s.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,v,g){const x=new av({next:j=>{x.Nu(),h.enqueueAndForget((()=>Wg(u,_))),j.fromCache&&v.source==="server"?g.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(j)},error:j=>g.reject(j)}),_=new ev(m,x,{includeMetadataChanges:!0,Ka:!0});return Jg(u,_)})(await Nh(s),s.asyncQueue,e,n,i))),i.promise}function s5(s,e){const n=new Ps;return s.asyncQueue.enqueueAndForget((async()=>F6(await e5(s),e,n))),n.promise}function Aj(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const r5="ComponentProvider",v1=new Map;function i5(s,e,n,i,l){return new Ek(s,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Aj(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,i)}const Cj="firestore.googleapis.com",y1=!0;class x1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cj,this.ssl=y1}else this.host=e.host,this.ssl=e.ssl??y1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DI)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Aj(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,l){return i.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,i,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new ak;switch(i.type){case"firstParty":return new ok(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=v1.get(n);i&&(fe(r5,"Removing Datastore"),v1.delete(n),i.terminate())})(this),Promise.resolve()}}function o5(s,e,n,i={}){s=xn(s,Wh);const l=Ui(e),u=s._getSettings(),h={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;l&&(mg(`https://${m}`),gg("Firestore",!0)),u.host!==Cj&&u.host!==m&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:m,ssl:l,emulatorOptions:i};if(!Ri(v,h)&&(s._setSettings(v),i.mockUserToken)){let g,x;if(typeof i.mockUserToken=="string")g=i.mockUserToken,x=fn.MOCK_USER;else{g=N_(i.mockUserToken,s._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new fn(_)}s._authCredentials=new sk(new yw(g,x))}}class $r{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $r(this.firestore,e,this._query)}}class Tt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(tu(n,Tt._jsonSchema))return new Tt(e,i||null,new be(ot.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Gt("string",Tt._jsonSchemaVersion),referencePath:Gt("string")};class Ir extends $r{constructor(e,n,i){super(e,n,qh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new be(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function Je(s,e,...n){if(s=yt(s),xw("collection","path",e),s instanceof Wh){const i=ot.fromString(e,...n);return Ib(i),new Ir(s,null,i)}{if(!(s instanceof Tt||s instanceof Ir))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(ot.fromString(e,...n));return Ib(i),new Ir(s.firestore,null,i)}}function gt(s,e,...n){if(s=yt(s),arguments.length===1&&(e=kg.newId()),xw("doc","path",e),s instanceof Wh){const i=ot.fromString(e,...n);return kb(i),new Tt(s,null,new be(i))}{if(!(s instanceof Tt||s instanceof Ir))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(ot.fromString(e,...n));return kb(i),new Tt(s.firestore,s instanceof Ir?s.converter:null,new be(i))}}const b1="AsyncQueue";class _1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dj(this,"async_queue_retry"),this._c=()=>{const i=jm();i&&fe(b1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!rl(e))throw e;fe(b1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Bs("INTERNAL UNHANDLED ERROR: ",w1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Kg.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:w1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function w1(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ls extends Wh{constructor(e,n,i,l){super(e,n,i,l),this.type="firestore",this._queue=new _1,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _1(e),this._firestoreClient=void 0,await e}}}function l5(s,e){const n=typeof s=="object"?s:xg(),i=typeof s=="string"?s:vh,l=Mh(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=w_("firestore");u&&o5(l,...u)}return l}function iu(s){if(s._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||c5(s),s._firestoreClient}function c5(s){const e=s._freezeSettings(),n=i5(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new W6(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(un.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ia(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ia._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,ia._jsonSchema))return ia.fromBase64String(e.bytes)}}ia._jsonSchemaVersion="firestore/bytes/1.0",ia._jsonSchema={type:Gt("string",ia._jsonSchemaVersion),bytes:Gt("string")};class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ef{constructor(e){this._methodName=e}}class ss{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(e){if(tu(e,ss._jsonSchema))return new ss(e.latitude,e.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:Gt("string",ss._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Aa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,Aa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Aa(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Aa._jsonSchemaVersion="firestore/vectorValue/1.0",Aa._jsonSchema={type:Gt("string",Aa._jsonSchemaVersion),vectorValues:Gt("object")};const u5=/^__.*__$/;class d5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class Rj{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kj(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class sv{constructor(e,n,i,l,u,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Th(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(kj(this.dataSource)&&u5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class h5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Kh(e)}createContext(e,n,i,l=!1){return new sv({dataSource:e,methodName:n,targetDoc:i,path:ln.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ou(s){const e=s._freezeSettings(),n=Kh(s._databaseId);return new h5(s._databaseId,!!e.ignoreUndefinedProperties,n)}function rv(s,e,n,i,l,u={}){const h=s.createContext(u.merge||u.mergeFields?2:0,e,n,l);ov("Data must be an object, but it was:",h,i);const m=Mj(i,h);let v,g;if(u.merge)v=new Gn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const x=[];for(const _ of u.mergeFields){const j=zi(e,_,n);if(!h.contains(j))throw new de(ne.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);Pj(x,j)||x.push(j)}v=new Gn(x),g=h.fieldTransforms.filter((_=>v.covers(_.field)))}else v=null,g=h.fieldTransforms;return new d5(new In(m),v,g)}class tf extends ef{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}class iv extends ef{_toFieldTransform(e){return new Zk(e.path,new Vc)}isEqual(e){return e instanceof iv}}function Ij(s,e,n,i){const l=s.createContext(1,e,n);ov("Data must be an object, but it was:",l,i);const u=[],h=In.empty();Hr(i,((v,g)=>{const x=zj(e,v,n);g=yt(g);const _=l.childContextForFieldPath(x);if(g instanceof tf)u.push(x);else{const j=lu(g,_);j!=null&&(u.push(x),h.set(x,j))}}));const m=new Gn(u);return new Rj(h,m,l.fieldTransforms)}function Dj(s,e,n,i,l,u){const h=s.createContext(1,e,n),m=[zi(e,i,n)],v=[l];if(u.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)m.push(zi(e,u[j])),v.push(u[j+1]);const g=[],x=In.empty();for(let j=m.length-1;j>=0;--j)if(!Pj(g,m[j])){const S=m[j];let I=v[j];I=yt(I);const C=h.childContextForFieldPath(S);if(I instanceof tf)g.push(S);else{const M=lu(I,C);M!=null&&(g.push(S),x.set(S,M))}}const _=new Gn(g);return new Rj(x,_,h.fieldTransforms)}function f5(s,e,n,i=!1){return lu(n,s.createContext(i?4:3,e))}function lu(s,e){if(Oj(s=yt(s)))return ov("Unsupported field value:",e,s),Mj(s,e);if(s instanceof ef)return(function(i,l){if(!kj(l.dataSource))throw l.createError(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,l){const u=[];let h=0;for(const m of i){let v=lu(m,l.childContextForArray(h));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),h++}return{arrayValue:{values:u}}})(s,e)}return(function(i,l){if((i=yt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Xk(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=dt.fromDate(i);return{timestampValue:_h(l.serializer,u)}}if(i instanceof dt){const u=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_h(l.serializer,u)}}if(i instanceof ss)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ia)return{bytesValue:Zw(l.serializer,i._byteString)};if(i instanceof Tt){const u=l.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw l.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ug(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof Aa)return(function(h,m){const v=h instanceof Aa?h.toArray():h;return{mapValue:{fields:{[Aw]:{stringValue:Cw},[yh]:{arrayValue:{values:v.map((x=>{if(typeof x!="number")throw m.createError("VectorValues must only contain numeric values.");return Pg(m.serializer,x)}))}}}}}})(i,l);if(ij(i))return i._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Vh(i)}`)})(s,e)}function Mj(s,e){const n={};return ww(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(s,((i,l)=>{const u=lu(l,e.childContextForField(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function Oj(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof ss||s instanceof ia||s instanceof Tt||s instanceof ef||s instanceof Aa||ij(s))}function ov(s,e,n){if(!Oj(n)||!bw(n)){const i=Vh(n);throw i==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+i)}}function zi(s,e,n){if((e=yt(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return zj(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,n)}const p5=new RegExp("[~\\*/\\[\\]]");function zj(s,e,n){if(e.search(p5)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Th(s,e,n,i,l){const u=i&&!i.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(u||h)&&(v+=" (found",u&&(v+=` in field ${i}`),h&&(v+=` in document ${l}`),v+=")"),new de(ne.INVALID_ARGUMENT,m+s+v)}function Pj(s,e){return s.some((n=>n.isEqual(e)))}class m5{convertValue(e,n="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Hr(e,((l,u)=>{i[l]=this.convertValue(u,n)})),i}convertVectorValue(e){const n=e.fields?.[yh].arrayValue?.values?.map((i=>It(i.doubleValue)));return new Aa(n)}convertGeoPoint(e){return new ss(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Bh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const n=Pr(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ot.fromString(e);Xe(rj(i),9688,{name:e});const l=new Oc(i.get(1),i.get(3)),u=new be(i.popFirst(5));return l.isEqual(n)||Bs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class lv extends m5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function Bc(){return new iv("serverTimestamp")}const j1="@firebase/firestore",E1="4.10.0";function N1(s){return(function(n,i){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of i)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Vj{constructor(e,n,i,l,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(zi("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g5 extends Vj{data(){return super.data()}}function Lj(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cv{}class Uj extends cv{}function wt(s,e,...n){let i=[];e instanceof cv&&i.push(e),i=i.concat(n),(function(u){const h=u.filter((v=>v instanceof uv)).length,m=u.filter((v=>v instanceof nf)).length;if(h>1||h>0&&m>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const l of i)s=l._apply(s);return s}class nf extends Uj{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new nf(e,n,i)}_apply(e){const n=this._parse(e);return Bj(e._query,n),new $r(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=ou(e.firestore);return(function(u,h,m,v,g,x,_){let j;if(g.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){S1(_,x);const I=[];for(const C of _)I.push(T1(v,u,C));j={arrayValue:{values:I}}}else j=T1(v,u,_)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||S1(_,x),j=f5(m,h,_,x==="in"||x==="not-in");return Ht.create(g,x,j)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dt(s,e,n){const i=e,l=zi("where",s);return nf._create(l,i,n)}class uv extends cv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ca.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let h=l;const m=u.getFlattenedFilters();for(const v of m)Bj(h,v),h=Ym(h,v)})(e._query,n),new $r(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dv extends Uj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dv(e,n)}_apply(e){const n=(function(l,u,h){if(l.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pc(u,h)})(e._query,this._field,this._direction);return new $r(e.firestore,e.converter,qk(e._query,n))}}function af(s,e="asc"){const n=e,i=zi("orderBy",s);return dv._create(i,n)}function T1(s,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pw(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ot.fromString(n));if(!be.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ub(s,new be(i))}if(n instanceof Tt)return Ub(s,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function S1(s,e){if(!Array.isArray(s)||s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bj(s,e){const n=(function(l,u){for(const h of l)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function hv(s,e,n){let i;return i=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,i}class _c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ai extends Vj{constructor(e,n,i,l,u,h){super(e,n,i,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(zi("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ai._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ai._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ai._jsonSchema={type:Gt("string",Ai._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class ih extends Ai{data(e={}){return super.data(e)}}class Ci{constructor(e,n,i,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new _c(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new ih(this._firestore,this._userDataWriter,i.key,i,new _c(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((m=>{const v=new ih(l._firestore,l._userDataWriter,m.doc.key,m.doc,new _c(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:v,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const v=new ih(l._firestore,l._userDataWriter,m.doc.key,m.doc,new _c(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,x=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),x=h.indexOf(m.doc.key)),{type:v5(m.type),doc:v,oldIndex:g,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ci._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function v5(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}Ci._jsonSchemaVersion="firestore/querySnapshot/1.0",Ci._jsonSchema={type:Gt("string",Ci._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class y5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ou(e)}set(e,n,i){this._verifyNotCommitted();const l=Nm(e,this._firestore),u=hv(l.converter,n,i),h=rv(this._dataReader,"WriteBatch.set",l._key,u,l.converter!==null,i);return this._mutations.push(h.toMutation(l._key,bn.none())),this}update(e,n,i,...l){this._verifyNotCommitted();const u=Nm(e,this._firestore);let h;return h=typeof(n=yt(n))=="string"||n instanceof Zh?Dj(this._dataReader,"WriteBatch.update",u._key,n,i,l):Ij(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Nm(e,this._firestore);return this._mutations=this._mutations.concat(new Yh(n._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nm(s,e){if((s=yt(s)).firestore!==e)throw new de(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Pi(s){s=xn(s,Tt);const e=xn(s.firestore,ls),n=iu(e);return n5(n,s._key).then((i=>qj(e,s,i)))}function lt(s){s=xn(s,$r);const e=xn(s.firestore,ls),n=iu(e),i=new lv(e);return Lj(s._query),a5(n,s._query).then((l=>new Ci(e,i,s,l)))}function sg(s,e,n){s=xn(s,Tt);const i=xn(s.firestore,ls),l=hv(s.converter,e,n),u=ou(i);return uu(i,[rv(u,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,bn.none())])}function Ms(s,e,n,...i){s=xn(s,Tt);const l=xn(s.firestore,ls),u=ou(l);let h;return h=typeof(e=yt(e))=="string"||e instanceof Zh?Dj(u,"updateDoc",s._key,e,n,i):Ij(u,"updateDoc",s._key,e),uu(l,[h.toMutation(s._key,bn.exists(!0))])}function x5(s){return uu(xn(s.firestore,ls),[new Yh(s._key,bn.none())])}function cu(s,e){const n=xn(s.firestore,ls),i=gt(s),l=hv(s.converter,e),u=ou(s.firestore);return uu(n,[rv(u,"addDoc",i._key,l,s.converter!==null,{}).toMutation(i._key,bn.exists(!1))]).then((()=>i))}function b5(s,...e){s=yt(s);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||N1(e[i])||(n=e[i++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(N1(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let u,h,m;if(s instanceof Tt)h=xn(s.firestore,ls),m=qh(s._key.path),u={next:g=>{e[i]&&e[i](qj(h,s,g))},error:e[i+1],complete:e[i+2]};else{const g=xn(s,$r);h=xn(g.firestore,ls),m=g._query;const x=new lv(h);u={next:_=>{e[i]&&e[i](new Ci(h,x,g,_))},error:e[i+1],complete:e[i+2]},Lj(s._query)}const v=iu(h);return t5(v,m,l,u)}function uu(s,e){const n=iu(s);return s5(n,e)}function qj(s,e,n){const i=n.docs.get(e._key),l=new lv(s);return new Ai(s,l,e._key,i,new _c(n.hasPendingWrites,n.fromCache),e.converter)}function A1(s){return s=xn(s,ls),iu(s),new y5(s,(e=>uu(s,e)))}(function(e,n=!0){nk(Bi),ki(new Or("firestore",((i,{instanceIdentifier:l,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new ls(new rk(i.getProvider("auth-internal")),new lk(h,i.getProvider("app-check-internal")),Nk(h,l),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),es(j1,E1,e),es(j1,E1,"esm2020")})();const Fj="firebasestorage.googleapis.com",_5="storageBucket",w5=120*1e3,j5=600*1e3;class ds extends us{constructor(e,n,i=0){super(Tm(e),`Firebase Storage: ${n} (${Tm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ds.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var cs;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(cs||(cs={}));function Tm(s){return"storage/"+s}function E5(){const s="An unknown error occurred, please check the error payload for server response.";return new ds(cs.UNKNOWN,s)}function N5(){return new ds(cs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T5(){return new ds(cs.CANCELED,"User canceled the upload/download.")}function S5(s){return new ds(cs.INVALID_URL,"Invalid URL '"+s+"'.")}function A5(s){return new ds(cs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function C1(s){return new ds(cs.INVALID_ARGUMENT,s)}function Hj(){return new ds(cs.APP_DELETED,"The Firebase app was deleted.")}function C5(s){return new ds(cs.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Na{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Na.makeFromUrl(e,n)}catch{return new Na(e,"")}if(i.path==="")return i;throw A5(e)}static makeFromUrl(e,n){let i=null;const l="([A-Za-z0-9.\\-_]+)";function u(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+l+h,"i"),v={bucket:1,path:3};function g(ee){ee.path_=decodeURIComponent(ee.path)}const x="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),j="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${x}/b/${l}/o${j}`,"i"),I={bucket:1,path:3},C=n===Fj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",V=new RegExp(`^https?://${C}/${l}/${M}`,"i"),H=[{regex:m,indices:v,postModify:u},{regex:S,indices:I,postModify:g},{regex:V,indices:{bucket:1,path:2},postModify:g}];for(let ee=0;ee<H.length;ee++){const re=H[ee],W=re.regex.exec(e);if(W){const R=W[re.indices.bucket];let A=W[re.indices.path];A||(A=""),i=new Na(R,A),re.postModify(i);break}}if(i==null)throw S5(e);return i}}class R5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function k5(s,e,n){let i=1,l=null,u=null,h=!1,m=0;function v(){return m===2}let g=!1;function x(...M){g||(g=!0,e.apply(null,M))}function _(M){l=setTimeout(()=>{l=null,s(S,v())},M)}function j(){u&&clearTimeout(u)}function S(M,...V){if(g){j();return}if(M){j(),x.call(null,M,...V);return}if(v()||h){j(),x.call(null,M,...V);return}i<64&&(i*=2);let H;m===1?(m=2,H=0):H=(i+Math.random())*1e3,_(H)}let I=!1;function C(M){I||(I=!0,j(),!g&&(l!==null?(M||(m=2),clearTimeout(l),_(0)):M||(m=1)))}return _(0),u=setTimeout(()=>{h=!0,C(!0)},n),C}function I5(s){s(!1)}function D5(s){return s!==void 0}function R1(s,e,n,i){if(i<e)throw C1(`Invalid value for '${s}'. Expected ${e} or greater.`);if(i>n)throw C1(`Invalid value for '${s}'. Expected ${n} or less.`)}function M5(s){const e=encodeURIComponent;let n="?";for(const i in s)if(s.hasOwnProperty(i)){const l=e(i)+"="+e(s[i]);n=n+l+"&"}return n=n.slice(0,-1),n}var Sh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Sh||(Sh={}));function O5(s,e){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||l||u}class z5{constructor(e,n,i,l,u,h,m,v,g,x,_,j=!0,S=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=v,this.timeout_=g,this.progressCallback_=x,this.connectionFactory_=_,this.retry=j,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,C)=>{this.resolve_=I,this.reject_=C,this.start_()})}start_(){const e=(i,l)=>{if(l){i(!1,new Yd(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const v=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Sh.NO_ERROR,v=u.getStatus();if(!m||O5(v,this.additionalRetryCodes_)&&this.retry){const x=u.getErrorCode()===Sh.ABORT;i(!1,new Yd(!1,null,x));return}const g=this.successCodes_.indexOf(v)!==-1;i(!0,new Yd(g,u))})},n=(i,l)=>{const u=this.resolve_,h=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());D5(v)?u(v):u()}catch(v){h(v)}else if(m!==null){const v=E5();v.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,v)):h(v)}else if(l.canceled){const v=this.appDelete_?Hj():T5();h(v)}else{const v=N5();h(v)}};this.canceled_?n(!1,new Yd(!1,null,!0)):this.backoffId_=k5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&I5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function P5(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function V5(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function L5(s,e){e&&(s["X-Firebase-GMPID"]=e)}function U5(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function B5(s,e,n,i,l,u,h=!0,m=!1){const v=M5(s.urlParams),g=s.url+v,x=Object.assign({},s.headers);return L5(x,e),P5(x,n),V5(x,u),U5(x,i),new z5(g,s.method,x,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,h,m)}function q5(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function F5(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}class Ah{constructor(e,n){this._service=e,n instanceof Na?this._location=n:this._location=Na.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ah(e,n)}get root(){const e=new Na(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return F5(this._location.path)}get storage(){return this._service}get parent(){const e=q5(this._location.path);if(e===null)return null;const n=new Na(this._location.bucket,e);return new Ah(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C5(e)}}function k1(s,e){const n=e?.[_5];return n==null?null:Na.makeFromBucketSpec(n,s)}function H5(s,e,n,i={}){s.host=`${e}:${n}`;const l=Ui(e);l&&(mg(`https://${s.host}/b`),gg("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:u}=i;u&&(s._overrideAuthToken=typeof u=="string"?u:N_(u,s.app.options.projectId))}class G5{constructor(e,n,i,l,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Fj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=w5,this._maxUploadRetryTime=j5,this._requests=new Set,l!=null?this._bucket=Na.makeFromBucketSpec(l,this._host):this._bucket=k1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Na.makeFromBucketSpec(this._url,e):this._bucket=k1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){R1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){R1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ah(this,e)}_makeRequest(e,n,i,l,u=!0){if(this._deleted)return new R5(Hj());{const h=B5(e,this._appId,i,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[i,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,l).getPromise()}}const I1="@firebase/storage",D1="0.14.0";const Gj="storage";function $5(s=xg(),e){s=yt(s);const i=Mh(s,Gj).getImmediate({identifier:e}),l=w_("storage");return l&&Y5(i,...l),i}function Y5(s,e,n,i={}){H5(s,e,n,i)}function Q5(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),i=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new G5(n,i,l,e,Bi)}function K5(){ki(new Or(Gj,Q5,"PUBLIC").setMultipleInstances(!0)),es(I1,D1,""),es(I1,D1,"esm2020")}K5();const X5={apiKey:"AIzaSyAAbFdtf9WNwTWh2AuPTFHXPWOnbqS1gyU",authDomain:"servisgo-backend.firebaseapp.com",projectId:"servisgo-backend",storageBucket:"servisgo-backend.firebasestorage.app",messagingSenderId:"392859339369",appId:"1:392859339369:web:aec408093d3e7269ee30f8"},fv=A_(X5),Ei=W4(fv),xe=l5(fv);$5(fv);const $j=T.createContext(),xt=()=>T.useContext($j),J5=({children:s})=>{const[e,n]=T.useState(null),[i,l]=T.useState(null),[u,h]=T.useState(!0),m=(C,M)=>MR(Ei,C,M),v=(C,M)=>OR(Ei,C,M),g=()=>BR(Ei),x=()=>{const C=new ks;return o4(Ei,C)},_=C=>{if(e)return Ms(gt(xe,"users",e.uid),C)},j=C=>{const M=Ei.currentUser,V=qi.credential(M.email,C);return DR(M,V)},S=C=>zR(Ei.currentUser,C);T.useEffect(()=>{let C=()=>{};const M=UR(Ei,async V=>{n(V),V?C=b5(gt(xe,"users",V.uid),P=>{P.exists()?l(P.data()):l(null),h(!1)},P=>{console.error("Firestore error:",P),h(!1)}):(l(null),h(!1))});return()=>{M(),C()}},[]);const I={currentUser:e,userData:i,signup:m,login:v,logout:g,googleSignIn:x,updateProfileData:_,changePassword:S,reauthenticate:j,loading:u};return r.jsx($j.Provider,{value:I,children:!u&&s})},W5=()=>{const[s,e]=T.useState(!1),[n,i]=T.useState(!1),[l,u]=T.useState(!1),{currentUser:h,userData:m,logout:v}=xt(),g=On(),x=Fs(),_=I=>g.pathname===I,j=async()=>{try{await v(),x("/")}catch(I){console.error("Logout error",I)}},S=[{name:"All Services",path:"/services"},{name:"Home Cleaning",path:"/services/category/cleaning"},{name:"Plumbing",path:"/services/category/plumbing"},{name:"Electrical",path:"/services/category/electrical"},{name:"AC & Appliances",path:"/services/category/appliances"},{name:"Beauty & Spa",path:"/services/category/beauty"},{name:"Painting",path:"/services/category/painting"}];return r.jsx("header",{className:"header",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"header-inner",children:[r.jsxs(oe,{to:"/",className:"logo",children:[r.jsx("div",{className:"logo-icon",children:r.jsx(is,{size:24})}),r.jsx("span",{children:"ServisGo"})]}),r.jsxs("nav",{className:`nav ${s?"mobile-open":""}`,children:[r.jsx(oe,{to:"/",className:`nav-link ${_("/")?"active":""}`,children:"Home"}),r.jsxs("div",{className:"nav-dropdown",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[r.jsxs("button",{className:`nav-link flex items-center gap-1 ${g.pathname.startsWith("/services")?"active":""}`,children:["Services",r.jsx(Rc,{size:16})]}),r.jsx("div",{className:`nav-dropdown-menu ${n?"open":""}`,children:S.map(I=>r.jsx(oe,{to:I.path,className:"nav-dropdown-item",children:I.name},I.path))})]}),r.jsx(oe,{to:"/how-it-works",className:`nav-link ${_("/how-it-works")?"active":""}`,children:"How It Works"}),r.jsx(oe,{to:"/blog",className:`nav-link ${_("/blog")?"active":""}`,children:"Blog"}),r.jsx(oe,{to:"/become-provider",className:`nav-link ${_("/become-provider")?"active":""}`,children:"Become a Provider"}),r.jsx(oe,{to:"/contact",className:`nav-link ${_("/contact")?"active":""}`,children:"Contact"})]}),r.jsxs("div",{className:"nav-actions",children:[r.jsx("button",{className:"btn btn-icon btn-ghost","aria-label":"Search",children:r.jsx(ua,{size:20})}),h?r.jsxs("div",{className:"nav-dropdown",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[r.jsxs("button",{className:"btn btn-ghost flex items-center gap-2",children:[r.jsx(Mn,{size:20}),r.jsx("span",{children:m?.fullName?.split(" ")[0]||"Account"}),r.jsx(Rc,{size:16})]}),r.jsxs("div",{className:`nav-dropdown-menu ${l?"open":""}`,style:{right:0,left:"auto"},children:[r.jsx(oe,{to:m?.role==="provider"?"/provider":"/customer",className:"nav-dropdown-item",children:"Dashboard"}),r.jsx(oe,{to:m?.role==="provider"?"/provider/profile":"/customer/profile",className:"nav-dropdown-item",children:"Profile"}),r.jsx(oe,{to:m?.role==="provider"?"/provider/jobs":"/customer/bookings",className:"nav-dropdown-item",children:m?.role==="provider"?"My Jobs":"My Bookings"}),r.jsxs("button",{onClick:j,className:"nav-dropdown-item text-error w-full text-left flex items-center gap-2",children:[r.jsx(km,{size:16})," Logout"]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(oe,{to:"/login",className:"btn btn-ghost",children:"Login"}),r.jsx(oe,{to:"/signup",className:"btn btn-primary",children:"Sign Up"})]}),r.jsx("button",{className:"mobile-menu-btn btn btn-ghost",onClick:()=>e(!s),"aria-label":"Toggle menu",children:s?r.jsx(nl,{size:24}):r.jsx(m_,{size:24})})]})]})})})},Z5=()=>r.jsx("footer",{className:"footer",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"footer-grid",children:[r.jsxs("div",{className:"footer-brand",children:[r.jsxs(oe,{to:"/",className:"logo",children:[r.jsx("div",{className:"logo-icon",children:r.jsx(is,{size:24})}),r.jsx("span",{style:{color:"white"},children:"ServisGo"})]}),r.jsx("p",{children:"Your trusted platform for booking local services. Quality professionals at your fingertips, anytime."}),r.jsxs("div",{className:"footer-social",children:[r.jsx("a",{href:"#","aria-label":"Facebook",children:r.jsx(u_,{size:18})}),r.jsx("a",{href:"#","aria-label":"Twitter",children:r.jsx(v_,{size:18})}),r.jsx("a",{href:"#","aria-label":"Instagram",children:r.jsx(oS,{size:18})}),r.jsx("a",{href:"#","aria-label":"LinkedIn",children:r.jsx(h_,{size:18})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"footer-title",children:"Quick Links"}),r.jsxs("nav",{className:"footer-links",children:[r.jsx(oe,{to:"/",className:"footer-link",children:"Home"}),r.jsx(oe,{to:"/services",className:"footer-link",children:"All Services"}),r.jsx(oe,{to:"/how-it-works",className:"footer-link",children:"How It Works"}),r.jsx(oe,{to:"/about",className:"footer-link",children:"About Us"}),r.jsx(oe,{to:"/blog",className:"footer-link",children:"Blog"}),r.jsx(oe,{to:"/contact",className:"footer-link",children:"Contact"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"footer-title",children:"For Providers"}),r.jsxs("nav",{className:"footer-links",children:[r.jsx(oe,{to:"/become-provider",className:"footer-link",children:"Become a Provider"}),r.jsx(oe,{to:"/provider",className:"footer-link",children:"Provider Dashboard"}),r.jsx(oe,{to:"/faq",className:"footer-link",children:"Provider FAQ"}),r.jsx(oe,{to:"/provider/support",className:"footer-link",children:"Support Center"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"footer-title",children:"Contact Us"}),r.jsxs("nav",{className:"footer-links",children:[r.jsxs("a",{href:"mailto:support@servisgo.com",className:"footer-link flex items-center gap-2",children:[r.jsx(Vi,{size:16}),"support@servisgo.com"]}),r.jsxs("a",{href:"tel:+1234567890",className:"footer-link flex items-center gap-2",children:[r.jsx(Yc,{size:16}),"+1 (234) 567-890"]}),r.jsxs("span",{className:"footer-link flex items-center gap-2",children:[r.jsx(Dn,{size:16}),"123 Service Street, NY"]})]})]})]}),r.jsxs("div",{className:"footer-bottom",children:[r.jsx("p",{children:" 2026 ServisGo. All rights reserved."}),r.jsxs("div",{className:"footer-bottom-links",children:[r.jsx(oe,{to:"/terms",className:"footer-link",children:"Terms & Conditions"}),r.jsx(oe,{to:"/privacy",className:"footer-link",children:"Privacy Policy"}),r.jsx(oe,{to:"/cancellation-policy",className:"footer-link",children:"Refund Policy"})]})]})]})}),eD={customer:{title:"Customer Dashboard",sections:[{title:"Main",items:[{icon:hm,label:"Dashboard",path:"/customer"},{icon:f_,label:"My Bookings",path:"/customer/bookings"},{icon:dg,label:"Notifications",path:"/customer/notifications"}]},{title:"Account",items:[{icon:Mn,label:"Profile",path:"/customer/profile"},{icon:Dn,label:"Saved Addresses",path:"/customer/addresses"},{icon:Go,label:"Payment History",path:"/customer/payments"}]}]},provider:{title:"Provider Dashboard",sections:[{title:"Overview",items:[{icon:hm,label:"Dashboard",path:"/provider"},{icon:Dr,label:"Job Requests",path:"/provider/job-requests"},{icon:St,label:"Active Jobs",path:"/provider/active-jobs"},{icon:vt,label:"Completed Jobs",path:"/provider/completed-jobs"}]},{title:"Manage",items:[{icon:ht,label:"Availability",path:"/provider/availability"},{icon:pg,label:"My Services",path:"/provider/services"}]},{title:"Earnings",items:[{icon:Ta,label:"Earnings",path:"/provider/earnings"},{icon:Go,label:"Payout Settings",path:"/provider/payout"}]},{title:"Account",items:[{icon:Mn,label:"Profile",path:"/provider/profile"},{icon:cn,label:"Reviews",path:"/provider/reviews"},{icon:o_,label:"Support",path:"/provider/support"}]}]},admin:{title:"Admin Panel",sections:[{title:"Overview",items:[{icon:hm,label:"Dashboard",path:"/admin"},{icon:CT,label:"Reports",path:"/admin/reports"}]},{title:"Management",items:[{icon:$n,label:"Users",path:"/admin/users"},{icon:Dr,label:"Services",path:"/admin/services"},{icon:ht,label:"Bookings",path:"/admin/bookings"}]},{title:"Content",items:[{icon:Xd,label:"Blog",path:"/admin/blog"},{icon:xS,label:"FAQ",path:"/admin/faq"}]}]}},Sm=({role:s})=>{const[e,n]=T.useState(!0),[i,l]=T.useState(!1),u=On(),h=Fs(),{userData:m,logout:v,loading:g}=xt(),x=eD[s];T.useEffect(()=>{!g&&m&&s==="provider"&&!m.isOnboarded&&u.pathname!=="/provider/onboarding"&&h("/provider/onboarding")},[m,s,h,u.pathname,g]);const _=async()=>{try{await v(),h("/login")}catch(S){console.error("Logout error",S)}},j={name:m?.fullName||(s==="admin"?"Admin User":s==="provider"?"Provider":"Customer"),email:m?.email||"",avatar:m?.avatar||null};return r.jsxs("div",{className:"dashboard-layout",children:[r.jsxs("aside",{className:`sidebar ${e?"":"collapsed"}`,children:[r.jsx("div",{className:"sidebar-header",children:r.jsxs(oe,{to:"/",className:"logo",children:[r.jsx("div",{className:"logo-icon",children:r.jsx(is,{size:20})}),r.jsx("span",{children:"ServisGo"})]})}),r.jsx("nav",{className:"sidebar-nav",children:x.sections.map((S,I)=>r.jsxs("div",{children:[r.jsx("div",{className:"sidebar-section-title",children:S.title}),S.items.map(C=>r.jsxs(t_,{to:C.path,end:C.path===`/${s}`,className:({isActive:M})=>`sidebar-link ${M?"active":""}`,children:[r.jsx(C.icon,{className:"sidebar-link-icon",size:20}),C.label]},C.path))]},I))}),r.jsx("div",{style:{marginTop:"auto",padding:"var(--space-4)"},children:r.jsxs("button",{onClick:_,className:"sidebar-link",style:{color:"var(--error)",width:"100%",background:"none",border:"none",textAlign:"left",cursor:"pointer"},children:[r.jsx(km,{className:"sidebar-link-icon",size:20}),"Logout"]})})]}),r.jsxs("div",{className:"main-with-sidebar",children:[r.jsxs("header",{className:"dashboard-header",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>n(!e),children:r.jsx(m_,{size:20})}),r.jsx("h1",{className:"dashboard-title",children:x.title})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{className:"btn btn-ghost btn-icon",style:{position:"relative"},children:[r.jsx(dg,{size:20}),m?.notifications?.length>0&&r.jsx("span",{className:"notification-badge",children:m.notifications.length})]}),r.jsxs("div",{className:"user-menu",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[r.jsxs("button",{className:"user-menu-trigger",children:[r.jsx("div",{className:"avatar avatar-md",children:j.avatar?r.jsx("img",{src:j.avatar,alt:j.name}):j.name.charAt(0)}),r.jsxs("div",{className:"user-menu-info",children:[r.jsx("span",{className:"user-menu-name",children:j.name}),r.jsx("span",{className:"user-menu-role",children:s.charAt(0).toUpperCase()+s.slice(1)})]}),r.jsx(Rc,{size:16})]}),i&&r.jsxs("div",{className:"user-menu-dropdown",children:[r.jsxs(oe,{to:`/${s}/profile`,className:"user-menu-item",children:[r.jsx(Mn,{size:16}),"Profile"]}),r.jsxs(oe,{to:`/${s}/settings`,className:"user-menu-item",children:[r.jsx(pg,{size:16}),"Settings"]}),r.jsx("hr",{style:{margin:"var(--space-2) 0",border:"none",borderTop:"1px solid var(--gray-100)"}}),r.jsxs("button",{onClick:_,className:"user-menu-item",style:{color:"var(--error)",width:"100%",background:"none",border:"none",textAlign:"left",cursor:"pointer"},children:[r.jsx(km,{size:16}),"Logout"]})]})]})]})]}),r.jsx("main",{className:"dashboard-content",children:r.jsx(R2,{})})]}),r.jsx("style",{children:`
        .dashboard-layout {
          display: flex;
          min-height: 100vh;
        }

        .sidebar {
          width: 280px;
          background: white;
          border-right: 1px solid var(--gray-100);
          min-height: 100vh;
          padding: var(--space-6);
          position: fixed;
          left: 0;
          top: 0;
          display: flex;
          flex-direction: column;
          z-index: var(--z-sticky);
          transition: transform var(--transition-base);
        }

        .sidebar.collapsed {
          transform: translateX(-100%);
        }

        .main-with-sidebar {
          flex: 1;
          margin-left: 280px;
          min-height: 100vh;
          background: var(--gray-50);
          transition: margin-left var(--transition-base);
        }

        .sidebar.collapsed + .main-with-sidebar {
          margin-left: 0;
        }

        .dashboard-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--space-4) var(--space-6);
          background: white;
          border-bottom: 1px solid var(--gray-100);
          position: sticky;
          top: 0;
          z-index: var(--z-sticky);
        }

        .dashboard-title {
          font-size: var(--text-xl);
          font-weight: var(--font-semibold);
        }

        .dashboard-content {
          padding: var(--space-6);
        }

        .notification-badge {
          position: absolute;
          top: 4px;
          right: 4px;
          width: 18px;
          height: 18px;
          background: var(--error);
          color: white;
          font-size: 10px;
          font-weight: var(--font-bold);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .user-menu {
          position: relative;
        }

        .user-menu-trigger {
          display: flex;
          align-items: center;
          gap: var(--space-3);
          padding: var(--space-2);
          border-radius: var(--radius-lg);
          border: none;
          background: transparent;
          cursor: pointer;
          transition: background var(--transition-fast);
        }

        .user-menu-trigger:hover {
          background: var(--gray-50);
        }

        .user-menu-info {
          display: flex;
          flex-direction: column;
          align-items: flex-start;
        }

        .user-menu-name {
          font-weight: var(--font-medium);
          color: var(--gray-900);
          font-size: var(--text-sm);
        }

        .user-menu-role {
          font-size: var(--text-xs);
          color: var(--gray-500);
        }

        .user-menu-dropdown {
          position: absolute;
          top: 100%;
          right: 0;
          min-width: 200px;
          background: white;
          border-radius: var(--radius-lg);
          box-shadow: var(--shadow-xl);
          padding: var(--space-2);
          margin-top: var(--space-2);
        }

        .user-menu-item {
          display: flex;
          align-items: center;
          gap: var(--space-3);
          padding: var(--space-3) var(--space-4);
          color: var(--gray-600);
          border-radius: var(--radius-md);
          transition: background var(--transition-fast);
        }

        .user-menu-item:hover {
          background: var(--gray-50);
          color: var(--gray-900);
        }

        @media (max-width: 1024px) {
          .sidebar {
            transform: translateX(-100%);
          }

          .sidebar.open {
            transform: translateX(0);
          }

          .main-with-sidebar {
            margin-left: 0;
          }
        }
      `})]})},tD=[{icon:g_,name:"Cleaning",color:"#10B981"},{icon:JS,name:"Maintenance",color:"#3B82F6"},{icon:is,name:"Repair",color:"#F59E0B"},{icon:KS,name:"Appliance",color:"#06B6D4"},{icon:_S,name:"Home Decor",color:"#8B5CF6"},{icon:RS,name:"Beauty",color:"#EC4899"}],nD=[{value:"2,500+",label:"Happy Customers"},{value:"150+",label:"Verified Pros"},{value:"50+",label:"Service Types"},{value:"4.8",label:"Average Rating"}],M1={Electrical:"Electrical Fix",Plumbing:"Plumber Repair","Beauty & Spa":"Massage Therapy","AC & Appliances":"AC Service"},aD=()=>{const[s,e]=T.useState([]),[n,i]=T.useState(!0);return T.useEffect(()=>{(async()=>{i(!0);try{const u=wt(Je(xe,"users"),Dt("role","==","provider")),h=await lt(u),m=new Set;h.docs.forEach(_=>{const j=_.data();Array.isArray(j.services)&&j.services.forEach(S=>{m.add(S),M1[S]&&m.add(M1[S])})});const x=(await lt(Je(xe,"services"))).docs.map(_=>({id:_.id,..._.data()})).filter(_=>m.has(_.name)).sort((_,j)=>(j.rating||0)-(_.rating||0)).slice(0,4);e(x)}catch(u){console.error("Error fetching popular services:",u)}finally{i(!1)}})()},[]),r.jsxs("div",{className:"home-page",children:[r.jsx("section",{className:"hero",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"hero-grid",children:[r.jsxs("div",{className:"hero-content",children:[r.jsxs("div",{className:"hero-badge",children:[r.jsx(g_,{size:16})," #1 Service Booking Platform"]}),r.jsxs("h1",{className:"hero-title",children:["Book Local Services ",r.jsx("br",{}),r.jsx("span",{className:"gradient-text",children:"With Confidence"})]}),r.jsx("p",{className:"hero-subtitle",children:"Find trusted professionals for all your home service needs. From cleaning to repairs, we've got you covered."}),r.jsxs("div",{className:"hero-search",children:[r.jsxs("div",{className:"hero-search-input",children:[r.jsx(ua,{size:20}),r.jsx("input",{type:"text",placeholder:"What service do you need?"})]}),r.jsx(oe,{to:"/services",className:"btn btn-primary btn-lg",children:"Find Services"})]}),r.jsxs("div",{className:"hero-trust",children:[r.jsxs("div",{className:"trust-badge",children:[r.jsx(Qc,{size:18}),r.jsx("span",{children:"Verified Pros"})]}),r.jsxs("div",{className:"trust-badge",children:[r.jsx(vt,{size:18}),r.jsx("span",{children:"Satisfaction Guaranteed"})]})]})]}),r.jsx("div",{className:"hero-stats-card",children:r.jsxs("div",{className:"hero-image-wrapper",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=500&h=400&fit=crop",alt:"Professional",className:"hero-image"}),r.jsx("div",{className:"hero-stats-overlay",children:nD.map((l,u)=>r.jsxs("div",{className:"hero-stat",children:[r.jsx("span",{className:"hero-stat-value",children:l.value}),r.jsx("span",{className:"hero-stat-label",children:l.label})]},u))})]})})]})})}),r.jsx("section",{className:"section categories-section",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"section-header",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Browse by Category"}),r.jsx("p",{children:"Explore services tailored to your needs"})]}),r.jsxs(oe,{to:"/services",className:"btn btn-secondary",children:["View All ",r.jsx(ja,{size:18})]})]}),r.jsx("div",{className:"categories-grid",children:tD.map((l,u)=>r.jsxs(oe,{to:"/services",className:"category-card",children:[r.jsx("div",{className:"category-icon",style:{backgroundColor:`${l.color}15`,color:l.color},children:r.jsx(l.icon,{size:28})}),r.jsx("h3",{className:"category-name",children:l.name})]},u))})]})}),r.jsx("section",{className:"section services-section",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"section-header",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Popular Services"}),r.jsx("p",{children:"Most booked services by our customers"})]}),r.jsxs(oe,{to:"/services",className:"btn btn-secondary",children:["View All ",r.jsx(ja,{size:18})]})]}),n?r.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:r.jsx(De,{size:32,className:"animate-spin"})}):r.jsxs("div",{className:"services-grid",children:[s.map(l=>r.jsxs(oe,{to:`/services/${l.id}`,className:"card service-card",children:[r.jsx("div",{className:"service-card-image-wrapper",children:r.jsx("img",{src:l.image,alt:l.name,className:"service-card-image"})}),r.jsxs("div",{className:"service-card-content",children:[r.jsxs("div",{className:"service-card-rating",children:[r.jsx(cn,{size:16,fill:"currentColor"}),r.jsx("span",{children:l.rating})]}),r.jsx("h3",{className:"service-card-title",children:l.name}),r.jsxs("div",{className:"service-card-footer",children:[r.jsxs("div",{className:"service-card-price",children:[r.jsx("span",{className:"price-label",children:"Starting at"}),r.jsxs("span",{className:"price-value",children:["$",l.basePrice]})]}),r.jsx("button",{className:"btn btn-primary btn-sm",children:"Book Now"})]})]})]},l.id)),s.length===0&&r.jsxs("div",{className:"empty-state",style:{gridColumn:"span 4",textAlign:"center",padding:"4rem",color:"var(--gray-400)"},children:[r.jsx($n,{size:48,style:{margin:"0 auto 1rem",opacity:.3}}),r.jsx("p",{children:"Our professionals are currently preparing their services. Check back soon!"})]})]})]})}),r.jsx("style",{children:`
        .home-page { overflow-x: hidden; }
        .hero { background: var(--gradient-hero); padding: var(--space-16) 0 var(--space-20); color: white; }
        .hero-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-12); align-items: center; }
        .hero-title { font-size: 3.5rem; line-height: 1.1; margin-bottom: var(--space-6); color: white; }
        .gradient-text { background: linear-gradient(90deg, #fff 0%, #E0E7FF 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero-search { display: flex; background: white; border-radius: var(--radius-xl); padding: var(--space-2); max-width: 560px; margin-bottom: var(--space-8); }
        .hero-search-input { flex: 1; display: flex; align-items: center; gap: var(--space-3); padding: 0 var(--space-4); color: var(--gray-400); }
        .hero-search-input input { border: none; font-size: var(--text-lg); width: 100%; }
        .hero-search-input input:focus { outline: none; }
        .hero-image-wrapper { border-radius: var(--radius-2xl); overflow: hidden; box-shadow: var(--shadow-2xl); position: relative; }
        .hero-image { width: 100%; height: 400px; object-fit: cover; }
        .hero-stats-overlay { position: absolute; bottom: 0; width: 100%; display: grid; grid-template-columns: repeat(4, 1fr); background: rgba(255,255,255,0.95); padding: var(--space-4); }
        .hero-stat-value { display: block; font-weight: bold; color: var(--primary-600); }
        .hero-stat-label { font-size: 10px; color: var(--gray-500); }
        .categories-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: var(--space-4); }
        .category-card { background: white; padding: var(--space-6); border-radius: var(--radius-xl); text-align: center; border: 1px solid var(--gray-100); transition: 0.3s; }
        .category-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-lg); }
        .category-icon { width: 60px; height: 60px; margin: 0 auto var(--space-4); display: flex; align-items: center; justify-content: center; border-radius: 50%; }
        .services-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-6); }
        .service-card { padding: 0; overflow: hidden; }
        .service-card-image-wrapper { height: 160px; overflow: hidden; }
        .service-card-image { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .service-card:hover .service-card-image { transform: scale(1.1); }
        .service-card-content { padding: var(--space-4); }
        .service-card-footer { display: flex; justify-content: space-between; align-items: center; margin-top: var(--space-4); border-top: 1px solid var(--gray-100); padding-top: var(--space-4); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 1024px) { .hero-grid { grid-template-columns: 1fr; } .categories-grid { grid-template-columns: repeat(3, 1fr); } .services-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 640px) { .categories-grid { grid-template-columns: repeat(2, 1fr); } .services-grid { grid-template-columns: 1fr; } }
      `})]})},O1={Electrical:"Electrical Fix",Plumbing:"Plumber Repair","Beauty & Spa":"Massage Therapy","AC & Appliances":"AC Service"},sD=()=>{const[s,e]=T.useState([]),[n,i]=T.useState(!0),[l,u]=T.useState(""),[h,m]=T.useState("All"),[v,g]=T.useState("grid"),[x,_]=T.useState(!1),[j,S]=T.useState([0,500]),[I,C]=T.useState(["All"]);T.useEffect(()=>{(async()=>{i(!0);try{const P=wt(Je(xe,"users"),Dt("role","==","provider")),ee=(await lt(P)).docs.map(k=>k.data()),re={},W=new Set;ee.forEach(k=>{Array.isArray(k.services)&&k.services.forEach(U=>{if(W.add(U),re[U]=(re[U]||0)+1,O1[U]){const O=O1[U];W.add(O),re[O]=(re[O]||0)+1}})});const D=(await lt(Je(xe,"services"))).docs.map(k=>({id:k.id,...k.data()})).filter(k=>W.has(k.name)).map(k=>({...k,providerCount:re[k.name]||0})).sort((k,U)=>(k.name||"").localeCompare(U.name||""));e(D);const L=["All",...new Set(D.map(k=>k.category).filter(Boolean))];C(L)}catch(P){console.error("Error fetching services:",P)}finally{i(!1)}})()},[]);const M=s.filter(V=>{const P=V.name.toLowerCase().includes(l.toLowerCase()),H=h==="All"||V.category===h,ee=V.basePrice>=j[0]&&V.basePrice<=j[1];return P&&H&&ee});return r.jsxs("div",{className:"all-services-page",children:[r.jsx("section",{className:"page-header",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"breadcrumb",children:[r.jsx(oe,{to:"/",children:"Home"}),r.jsx("span",{children:"/"}),r.jsx("span",{children:"All Services"})]}),r.jsx("h1",{children:"All Services"}),r.jsx("p",{children:"Browse our wide range of professional services"})]})}),r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"services-layout",children:[r.jsxs("aside",{className:`filters-sidebar ${x?"open":""}`,children:[r.jsxs("div",{className:"filter-section",children:[r.jsx("h3",{children:"Categories"}),r.jsx("div",{className:"filter-options",children:I.map(V=>r.jsxs("label",{className:"filter-option",children:[r.jsx("input",{type:"radio",name:"category",checked:h===V,onChange:()=>m(V)}),r.jsx("span",{children:V})]},V))})]}),r.jsxs("div",{className:"filter-section",children:[r.jsx("h3",{children:"Price Range"}),r.jsxs("div",{className:"price-inputs",children:[r.jsx("input",{type:"number",value:j[0],onChange:V=>S([+V.target.value,j[1]]),className:"form-input"}),r.jsx("span",{children:"to"}),r.jsx("input",{type:"number",value:j[1],onChange:V=>S([j[0],+V.target.value]),className:"form-input"})]})]})]}),r.jsxs("main",{className:"services-main",children:[r.jsxs("div",{className:"services-toolbar",children:[r.jsxs("div",{className:"search-filter-row",children:[r.jsxs("div",{className:"search-input-wrapper",children:[r.jsx(ua,{size:20,className:"search-icon"}),r.jsx("input",{type:"text",placeholder:"Search services...",value:l,onChange:V=>u(V.target.value),className:"form-input search-input"})]}),r.jsxs("button",{className:"btn btn-secondary mobile-filter-btn",onClick:()=>_(!x),children:[r.jsx(XT,{size:18})," Filters"]})]}),r.jsxs("div",{className:"toolbar-right",children:[r.jsxs("div",{className:"results-count",children:[r.jsx("strong",{children:M.length})," services found"]}),r.jsxs("div",{className:"view-toggle",children:[r.jsx("button",{className:`btn btn-icon ${v==="grid"?"active":""}`,onClick:()=>g("grid"),children:r.jsx(WT,{size:18})}),r.jsx("button",{className:`btn btn-icon ${v==="list"?"active":""}`,onClick:()=>g("list"),children:r.jsx(f_,{size:18})})]})]})]}),n?r.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"var(--space-20)"},children:[r.jsx(De,{size:48,className:"animate-spin"}),r.jsx("p",{children:"Searching for active professionals..."})]}):r.jsxs("div",{className:`services-grid ${v}`,children:[M.map(V=>r.jsxs(oe,{to:`/services/${V.id}`,className:`card service-card ${v==="list"?"list-view":""}`,children:[r.jsx("div",{className:"service-card-image-wrapper",children:r.jsx("img",{src:V.image,alt:V.name,className:"service-card-image"})}),r.jsxs("div",{className:"service-card-content",children:[r.jsx("span",{className:"service-card-category",children:V.category}),r.jsxs("div",{className:"service-card-rating",children:[r.jsx(cn,{size:16,fill:"#FBBF24",color:"#FBBF24"}),r.jsx("span",{children:V.rating})]}),r.jsx("h3",{className:"service-card-title",children:V.name}),r.jsx("div",{className:"service-card-metadata",style:{margin:"var(--space-2) 0",fontSize:"var(--text-sm)",color:"var(--gray-500)",display:"flex",gap:"var(--space-4)"},children:r.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx($n,{size:14})," ",V.providerCount," Available"]})}),r.jsxs("div",{className:"service-card-footer",children:[r.jsxs("div",{className:"service-card-price",children:[r.jsx("span",{className:"price-label",children:"Starting at"}),r.jsxs("span",{className:"price-value",children:["$",V.basePrice]})]}),r.jsx("button",{className:"btn btn-primary btn-sm",children:"Details"})]})]})]},V.id)),!n&&M.length===0&&r.jsxs("div",{className:"empty-state",style:{gridColumn:"span 3"},children:[r.jsx($n,{size:48,style:{margin:"0 auto 1rem",opacity:.3}}),r.jsx("h3",{children:"No results match your search"}),r.jsx("p",{children:"We're currently scaling our service network. Check back soon!"}),r.jsx("button",{className:"btn btn-primary",onClick:()=>{u(""),m("All"),S([0,500])},children:"Clear Filters"})]})]})]})]})})}),r.jsx("style",{children:`
        .all-services-page { max-width: 1200px; margin: 0 auto; }
        .page-header { background: var(--gradient-hero); padding: var(--space-12) 0; color: white; }
        .breadcrumb { display: flex; align-items: center; gap: var(--space-2); font-size: var(--text-sm); margin-bottom: var(--space-4); opacity: 0.9; }
        .breadcrumb a { color: white; }
        .page-header h1, .page-header p { color: white; }
        .services-layout { display: grid; grid-template-columns: 250px 1fr; gap: var(--space-8); padding: var(--space-8) 0; }
        .filters-sidebar { background: white; border-radius: var(--radius-xl); padding: var(--space-6); box-shadow: var(--shadow-sm); height: fit-content; position: sticky; top: 100px; }
        .filter-section { margin-bottom: var(--space-6); padding-bottom: var(--space-6); border-bottom: 1px solid var(--gray-100); }
        .filter-section h3 { font-size: var(--text-base); margin-bottom: var(--space-4); }
        .filter-options { display: flex; flex-direction: column; gap: var(--space-3); }
        .filter-option { display: flex; align-items: center; gap: var(--space-3); cursor: pointer; }
        .price-inputs { display: flex; align-items: center; gap: var(--space-2); }
        .price-inputs input { width: 70px; }
        .services-toolbar { background: white; border-radius: var(--radius-xl); padding: var(--space-4) var(--space-6); margin-bottom: var(--space-6); box-shadow: var(--shadow-sm); display: flex; justify-content: space-between; align-items: center; flex-wrap:wrap; gap: var(--space-4); }
        .search-input-wrapper { display: flex; align-items: center; gap: var(--space-2); flex: 1; min-width: 250px; background: var(--gray-50); padding: 0 var(--space-4); border-radius: var(--radius-lg); }
        .search-input { border: none; background: transparent; padding: var(--space-3) 0; width: 100%; }
        .toolbar-right { display: flex; align-items: center; gap: var(--space-6); }
        .services-grid.grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-6); }
        .services-grid.list { display: flex; flex-direction: column; gap: var(--space-4); }
        .service-card { padding: 0; overflow: hidden; transition: transform 0.2s; }
        .service-card:hover { transform: translateY(-4px); }
        .service-card-image-wrapper { height: 180px; overflow: hidden; }
        .service-card-image { width: 100%; height: 100%; object-fit: cover; }
        .service-card-content { padding: var(--space-5); }
        .service-card-category { font-size: var(--text-xs); color: var(--primary-600); background: var(--primary-50); padding: var(--space-1) var(--space-2); border-radius: var(--radius-sm); display: inline-block; margin-bottom: var(--space-2); }
        .service-card-rating { display: flex; align-items: center; gap: var(--space-1); color: var(--accent-yellow); font-size: var(--text-sm); margin-bottom: var(--space-2); }
        .service-card-footer { display: flex; justify-content: space-between; align-items: center; padding-top: var(--space-4); border-top: 1px solid var(--gray-100); }
        .price-value { font-size: var(--text-lg); font-weight: var(--font-bold); color: var(--primary-600); }
        .empty-state { text-align: center; padding: var(--space-16); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 1024px) { .services-layout { grid-template-columns: 1fr; } .filters-sidebar { display: none; } }
        @media (max-width: 1200px) { .services-grid.grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { .services-grid.grid { grid-template-columns: 1fr; } }
      `})]})},rD=()=>{const{categoryId:s}=Hc(),[e,n]=T.useState([]),[i,l]=T.useState(!0),[u,h]=T.useState(""),[m,v]=T.useState(0),g=s?.split("-").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" ")||"Category";T.useEffect(()=>{(async()=>{l(!0);try{const j=wt(Je(xe,"users"),Dt("role","==","provider")),S=await lt(j),I=new Set,C={},M=new Set;S.docs.forEach(W=>{const R=W.data();Array.isArray(R.services)&&R.services.forEach(A=>{I.add(A),C[A]=(C[A]||0)+1,M.add(W.id)})});const V=Je(xe,"services"),P=wt(V,Dt("category","==",g)),re=(await lt(P)).docs.map(W=>({id:W.id,...W.data()})).filter(W=>I.has(W.name)).map(W=>({...W,providerCount:C[W.name]||0}));n(re),v(M.size)}catch(j){console.error("Error fetching category services:",j)}finally{l(!1)}})()},[g]);const x=e.filter(_=>_.name.toLowerCase().includes(u.toLowerCase()));return r.jsxs("div",{className:"category-page",children:[r.jsx("section",{className:"category-hero",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"breadcrumb",children:[r.jsx(oe,{to:"/",children:"Home"}),r.jsx(oa,{size:16}),r.jsx(oe,{to:"/services",children:"Services"}),r.jsx(oa,{size:16}),r.jsx("span",{children:g})]}),r.jsxs("h1",{children:[g," Services"]}),r.jsxs("p",{children:["Professional ",g.toLowerCase()," services for your home and business"]}),r.jsxs("div",{className:"category-stats",children:[r.jsxs("div",{className:"stat",children:[r.jsx("strong",{children:e.length}),r.jsx("span",{children:"Service Types"})]}),r.jsxs("div",{className:"stat",children:[r.jsx("strong",{children:m}),r.jsx("span",{children:"Active Professionals"})]}),r.jsxs("div",{className:"stat",children:[r.jsx("strong",{children:"4.8"}),r.jsx("span",{children:"Avg. Rating"})]})]})]})}),r.jsx("section",{className:"section",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"category-toolbar",children:[r.jsxs("div",{className:"search-input-wrapper",children:[r.jsx(ua,{size:20,className:"search-icon"}),r.jsx("input",{type:"text",placeholder:`Search ${g.toLowerCase()} services...`,value:u,onChange:_=>h(_.target.value),className:"form-input search-input"})]}),r.jsx("div",{className:"toolbar-info",children:r.jsxs("span",{children:["Showing ",r.jsx("strong",{children:x.length})," real-world services"]})})]}),i?r.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:r.jsx(De,{size:40,className:"animate-spin"})}):r.jsx("div",{className:"services-grid",children:x.map(_=>r.jsxs(oe,{to:`/services/${_.id}`,className:"card service-card",children:[r.jsxs("div",{className:"service-card-image-wrapper",children:[r.jsx("img",{src:_.image,alt:_.name,className:"service-card-image"}),r.jsxs("span",{className:"service-card-badge",children:[_.providerCount," Available"]})]}),r.jsxs("div",{className:"service-card-content",children:[r.jsxs("div",{className:"service-card-rating",children:[r.jsx(cn,{size:16,fill:"#FBBF24",color:"#FBBF24"}),r.jsx("span",{children:_.rating})]}),r.jsx("h3",{className:"service-card-title",children:_.name}),r.jsxs("div",{className:"service-card-meta",children:[r.jsx($n,{size:14}),r.jsx("span",{children:"Verified Professionals Ready"})]}),r.jsxs("div",{className:"service-card-footer",children:[r.jsxs("div",{className:"service-card-price",children:[r.jsx("span",{className:"price-label",children:"From"}),r.jsxs("span",{className:"price-value",children:["$",_.basePrice]})]}),r.jsx("button",{className:"btn btn-primary btn-sm",children:"Book Now"})]})]})]},_.id))}),!i&&x.length===0&&r.jsxs("div",{className:"empty-state text-center",children:[r.jsx($n,{size:48,style:{margin:"0 auto 1.5rem",opacity:.3}}),r.jsxs("h3",{children:["Currently expanding our ",g," team"]}),r.jsx("p",{children:"We're onboarding new professionals daily. Please check back soon or try another category!"}),r.jsx(oe,{to:"/services",className:"btn btn-primary",style:{marginTop:"1.5rem"},children:"View All Services"})]})]})}),r.jsx("style",{children:`
        .category-hero { background: var(--gradient-hero); padding: var(--space-16) 0; color: white; }
        .category-hero .breadcrumb { display: flex; align-items: center; gap: var(--space-2); font-size: var(--text-sm); margin-bottom: var(--space-6); opacity: 0.9; }
        .category-hero .breadcrumb a { color: white; }
        .category-hero h1 { color: white; font-size: var(--text-4xl); margin-bottom: var(--space-3); }
        .category-hero p { color: rgba(255,255,255,0.9); font-size: var(--text-base); margin-bottom: var(--space-8); max-width: 600px; }
        .category-stats { display: flex; gap: var(--space-10); }
        .category-stats .stat { display: flex; flex-direction: column; gap: var(--space-1); }
        .category-stats strong { font-size: var(--text-2xl); }
        .category-stats span { font-size: var(--text-sm); opacity: 0.8; }
        .category-toolbar { display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-8); gap: var(--space-4); background: white; padding: var(--space-4) var(--space-6); border-radius: var(--radius-xl); box-shadow: var(--shadow-sm); }
        .search-input-wrapper { display: flex; align-items: center; gap: var(--space-3); flex: 1; min-width: 300px; background: var(--gray-50); padding: 0 var(--space-4); border-radius: var(--radius-lg); }
        .search-input { border: none; background: transparent; padding: var(--space-3) 0; width: 100%; }
        .toolbar-info { color: var(--gray-500); font-size: var(--text-sm); }
        .services-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-6); }
        .service-card { padding: 0; overflow: hidden; border: 1px solid var(--gray-100); transition: 0.3s; }
        .service-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-xl); border-color: var(--primary-200); }
        .service-card-image-wrapper { height: 200px; position: relative; overflow: hidden; }
        .service-card-image { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        .service-card-badge { position: absolute; top: var(--space-3); right: var(--space-3); background: var(--success); color: white; padding: 4px 12px; border-radius: 20px; font-size: 10px; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .service-card:hover .service-card-image { transform: scale(1.1); }
        .service-card-content { padding: var(--space-5); }
        .service-card-rating { display: flex; align-items: center; gap: var(--space-1); color: var(--accent-yellow); font-weight: var(--font-semibold); font-size: var(--text-sm); margin-bottom: var(--space-2); }
        .service-card-title { font-size: var(--text-xl); margin-bottom: var(--space-2); color: var(--gray-900); }
        .service-card-meta { display: flex; align-items: center; gap: var(--space-2); color: var(--gray-500); font-size: var(--text-sm); margin-bottom: var(--space-4); }
        .service-card-footer { display: flex; align-items: center; justify-content: space-between; padding-top: var(--space-4); border-top: 1px solid var(--gray-100); }
        .price-label { display: block; font-size: var(--text-xs); color: var(--gray-500); }
        .price-value { font-size: var(--text-2xl); font-weight: var(--font-bold); color: var(--primary-600); }
        .empty-state { padding: var(--space-20) 0; color: var(--gray-500); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 1024px) { .services-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { .category-toolbar { flex-direction: column; align-items: stretch; } .services-grid { grid-template-columns: 1fr; } .category-stats { gap: var(--space-6); } }
      `})]})},iD={Electrical:"Electrical Fix",Plumbing:"Plumber Repair","Beauty & Spa":"Massage Therapy","AC & Appliances":"AC Service"},oD=()=>{const{serviceId:s}=Hc(),[e,n]=T.useState(null),[i,l]=T.useState([]),[u,h]=T.useState(null),[m,v]=T.useState(!0);return T.useEffect(()=>{(async()=>{try{const x=gt(xe,"services",s),_=await Pi(x);if(_.exists()){const j={id:_.id,..._.data()};n(j);const S=wt(Je(xe,"users"),Dt("role","==","provider")),I=await lt(S),C=[];I.docs.forEach(M=>{const V=M.data();Array.isArray(V.services)&&V.services.some(H=>H===j.name||iD[H]===j.name)&&C.push({id:M.id,...V})}),l(C),C.length>0&&h(C[0])}}catch(x){console.error("Error fetching service details:",x)}finally{v(!1)}})()},[s]),m?r.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"var(--space-20)"},children:[r.jsx(De,{size:48,className:"animate-spin"}),r.jsx("p",{children:"Connecting you with the best professionals..."})]}):e?r.jsxs("div",{className:"service-details-page",children:[r.jsx("section",{className:"breadcrumb-section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"breadcrumb",children:[r.jsx(oe,{to:"/",children:"Home"}),r.jsx(oa,{size:16}),r.jsx(oe,{to:"/services",children:"Services"}),r.jsx(oa,{size:16}),r.jsx("span",{children:e.name})]})})}),r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"service-details-layout",children:[r.jsxs("div",{className:"service-main",children:[r.jsx("div",{className:"main-image",children:r.jsx("img",{src:e.image,alt:e.name})}),r.jsxs("div",{className:"service-info",children:[r.jsxs("div",{className:"service-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{className:"service-category",children:e.category}),i.length>0?r.jsxs("span",{className:"availability-badge success",children:[r.jsx(vt,{size:14})," ",i.length," ",i.length===1?"Pro":"Pros"," Online"]}):r.jsxs("span",{className:"availability-badge warning",children:[r.jsx(J0,{size:14})," Currently Unavailable"]})]}),r.jsx("h1",{children:e.name}),r.jsxs("div",{className:"service-meta",children:[r.jsxs("div",{className:"rating-display",children:[r.jsx(cn,{size:18,fill:"#FBBF24",color:"#FBBF24"}),r.jsx("span",{className:"rating-value",children:e.rating})]}),r.jsxs("div",{className:"provider-stat",children:[r.jsx($n,{size:16}),r.jsx("span",{children:"Trusted by 100+ customers"})]})]}),r.jsxs("div",{className:"description-section",children:[r.jsx("h3",{children:"About the Service"}),r.jsx("p",{className:"service-description",children:e.description})]}),r.jsxs("div",{className:"providers-section",children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"var(--space-6)"},children:[r.jsx(Rm,{size:24,color:"var(--primary-600)"}),r.jsx("h3",{children:"Choose Your Professional"})]}),i.length>0?r.jsx("div",{className:"providers-list",children:i.map(g=>r.jsxs("div",{className:`card provider-card-horizontal ${u?.id===g.id?"selected":""}`,onClick:()=>h(g),style:{cursor:"pointer",borderColor:u?.id===g.id?"var(--primary-600)":"var(--gray-100)",borderWidth:u?.id===g.id?"2px":"1px"},children:[r.jsx("div",{className:"provider-avatar-box",children:g.profileImage?r.jsx("img",{src:g.profileImage,alt:g.fullName}):r.jsx("div",{className:"avatar-placeholder",children:r.jsx(Mn,{size:32})})}),r.jsxs("div",{className:"provider-details",children:[r.jsxs("div",{className:"provider-header",children:[r.jsxs("h4",{children:[g.fullName," ",r.jsx(r_,{size:16,color:"var(--success)",fill:"white"})]}),r.jsxs("div",{className:"provider-rating",children:[r.jsx(cn,{size:14,fill:"#FBBF24",color:"#FBBF24"})," ",r.jsx("span",{children:g.rating||"New"})]})]}),r.jsxs("div",{className:"provider-tags",children:[r.jsxs("span",{className:"tag",children:[g.experience||"1+"," Years Exp"]}),r.jsxs("span",{className:"tag",children:[g.reviewCount||"0"," Reviews"]})]}),r.jsx("p",{className:"provider-bio",children:g.bio||"Professional and reliable service provider dedicated to quality work."})]})]},g.id))}):r.jsxs("div",{className:"no-providers-alert",children:[r.jsx(J0,{size:32,color:"var(--warning)"}),r.jsx("p",{children:"We're currently verifying professionals for this service in your area."})]})]})]})]}),r.jsx("aside",{className:"service-sidebar",children:r.jsxs("div",{className:"card booking-card",children:[r.jsxs("div",{className:"price-display",children:[r.jsx("span",{className:"price-label",children:"Starting from"}),r.jsxs("span",{className:"price-value",children:["$",e.basePrice]})]}),i.length>0?r.jsx(oe,{to:"/customer/schedule",state:{service:e,provider:u},className:"btn btn-primary btn-lg",style:{width:"100%"},children:"Continue to Booking"}):r.jsx("button",{className:"btn btn-secondary btn-lg",style:{width:"100%",cursor:"not-allowed",opacity:.7},disabled:!0,children:"Currently Unavailable"}),r.jsxs("div",{className:"booking-features",children:[r.jsxs("div",{className:"booking-feature",children:[r.jsx(vt,{size:18}),r.jsx("span",{children:"Free cancellation"})]}),r.jsxs("div",{className:"booking-feature",children:[r.jsx(Qc,{size:18}),r.jsx("span",{children:"Safety insurance cover"})]}),r.jsxs("div",{className:"booking-feature",children:[r.jsx(Rm,{size:18}),r.jsx("span",{children:"Verified top-rated pros"})]})]})]})})]})})}),r.jsx("style",{children:`
        .breadcrumb-section { background: var(--gray-50); padding: var(--space-4) 0; }
        .breadcrumb { display: flex; align-items: center; gap: var(--space-2); font-size: var(--text-sm); color: var(--gray-500); }
        .service-details-layout { display: grid; grid-template-columns: 1fr 380px; gap: var(--space-12); }
        .main-image { border-radius: var(--radius-2xl); overflow: hidden; margin-bottom: var(--space-8); height: 450px; box-shadow: var(--shadow-xl); }
        .main-image img { width: 100%; height: 100%; object-fit: cover; }
        .service-header { margin-bottom: var(--space-4); }
        .service-category { background: var(--primary-50); color: var(--primary-600); padding: var(--space-1) var(--space-3); border-radius: var(--radius-full); font-size: var(--text-sm); font-weight: 600; }
        .availability-badge { display: flex; align-items: center; gap: 6px; font-size: 12px; font-weight: 600; padding: 4px 12px; border-radius: 20px; }
        .availability-badge.success { background: var(--success-light); color: #059669; }
        .availability-badge.warning { background: var(--warning-light); color: #D97706; }
        .service-info h1 { font-size: var(--text-5xl); margin-bottom: var(--space-4); color: var(--gray-900); }
        .service-meta { display: flex; align-items: center; gap: var(--space-8); margin-bottom: var(--space-8); border-bottom: 1px solid var(--gray-100); padding-bottom: var(--space-6); }
        .rating-display { display: flex; align-items: center; gap: var(--space-1); font-weight: bold; font-size: var(--text-2xl); color: var(--gray-900); }
        .provider-stat { display: flex; align-items: center; gap: 8px; color: var(--gray-600); font-size: var(--text-sm); font-weight: 500; }
        .description-section { margin-bottom: var(--space-12); }
        .description-section h3 { margin-bottom: var(--space-4); font-size: var(--text-xl); }
        .service-description { font-size: 1.15rem; line-height: 1.8; color: var(--gray-600); }
        
        .providers-section { padding-top: var(--space-8); border-top: 1px solid var(--gray-100); }
        .providers-list { display: flex; flex-direction: column; gap: var(--space-6); }
        .provider-card-horizontal { display: flex; gap: var(--space-6); padding: var(--space-6); border: 1px solid var(--gray-100); border-radius: var(--radius-2xl); background: var(--gray-50); }
        .provider-avatar-box { width: 90px; height: 90px; border-radius: var(--radius-full); overflow: hidden; background: white; border: 4px solid white; box-shadow: var(--shadow-md); flex-shrink: 0; }
        .avatar-placeholder { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: var(--primary-300); }
        .provider-details { flex: 1; }
        .provider-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-3); }
        .provider-header h4 { font-size: var(--text-xl); display: flex; align-items: center; gap: 8px; }
        .provider-rating { display: flex; align-items: center; gap: 4px; font-weight: bold; color: var(--gray-700); }
        .provider-tags { display: flex; gap: var(--space-3); margin-bottom: var(--space-3); }
        .tag { font-size: 11px; font-weight: 600; color: var(--primary-700); background: var(--primary-100); padding: 4px 10px; border-radius: 4px; }
        .provider-bio { font-size: var(--text-sm); color: var(--gray-500); line-height: 1.6; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .no-providers-alert { text-align: center; padding: var(--space-10); background: var(--warning-light); border-radius: var(--radius-xl); color: #B45309; }

        .booking-card { position: sticky; top: 100px; text-align: center; border: 1px solid var(--primary-100); background: white; z-index: 10; padding: var(--space-8); }
        .price-display { margin-bottom: var(--space-8); }
        .price-label { display: block; font-size: var(--text-sm); color: var(--gray-500); margin-bottom: 4px; }
        .price-value { font-size: var(--text-5xl); font-weight: var(--font-bold); color: var(--primary-600); }
        .booking-features { margin-top: var(--space-8); display: flex; flex-direction: column; gap: var(--space-4); text-align: left; background: var(--gray-50); padding: var(--space-5); border-radius: var(--radius-xl); }
        .booking-feature { display: flex; align-items: center; gap: var(--space-3); font-size: var(--text-sm); color: var(--gray-600); font-weight: 500; }
        
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 1024px) { .service-details-layout { grid-template-columns: 1fr; } .booking-card { position: static; } .main-image { height: 320px; } }
      `})]}):r.jsx("div",{className:"service-details-page",children:r.jsx("section",{className:"section",children:r.jsxs("div",{className:"container",style:{textAlign:"center",padding:"4rem"},children:[r.jsx("h2",{children:"Service Not Found"}),r.jsx(oe,{to:"/services",className:"btn btn-primary",style:{marginTop:"2rem"},children:"Browse All Services"})]})})})},lD=()=>{const s=[{number:1,title:"Search & Browse",description:"Explore our wide range of services. Use filters to find exactly what you need.",icon:ua,details:["Browse by category","Read reviews","Compare prices"]},{number:2,title:"Select & Schedule",description:"Choose your preferred service and pick a convenient date and time.",icon:St,details:["Pick your date","Select time slot","Add special instructions"]},{number:3,title:"Confirm & Pay",description:"Review your booking details and complete secure payment.",icon:vt,details:["Review summary","Secure checkout","Get confirmation"]},{number:4,title:"Service Delivered",description:"Our verified professional arrives and completes the job to perfection.",icon:Mn,details:["Pro arrives on time","Quality service","Rate your experience"]}],e=[{icon:Qc,title:"Verified Professionals",description:"All service providers are background-checked and verified."},{icon:cn,title:"Quality Guaranteed",description:"Not satisfied? We'll make it right or refund your money."},{icon:St,title:"Flexible Scheduling",description:"Book services at times that work best for your schedule."},{icon:vt,title:"Transparent Pricing",description:"No hidden fees. See exact prices before you book."}];return r.jsxs("div",{className:"how-it-works-page",children:[r.jsx("section",{className:"page-hero",children:r.jsxs("div",{className:"container",children:[r.jsx("h1",{children:"How It Works"}),r.jsx("p",{children:"Book professional services in just a few simple steps"})]})}),r.jsx("section",{className:"section steps-section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"steps-timeline",children:s.map((n,i)=>r.jsxs("div",{className:"step-item",children:[r.jsxs("div",{className:"step-connector",children:[r.jsx("div",{className:"step-number",children:n.number}),i<s.length-1&&r.jsx("div",{className:"connector-line"})]}),r.jsxs("div",{className:"step-content card",children:[r.jsx("div",{className:"step-icon",children:r.jsx(n.icon,{size:32})}),r.jsx("h3",{children:n.title}),r.jsx("p",{children:n.description}),r.jsx("ul",{className:"step-details",children:n.details.map((l,u)=>r.jsxs("li",{children:[r.jsx(vt,{size:16})," ",l]},u))})]})]},n.number))})})}),r.jsx("section",{className:"section benefits-section",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"section-header text-center",children:[r.jsx("h2",{children:"Why Choose Us"}),r.jsx("p",{children:"Experience the ServisGo difference"})]}),r.jsx("div",{className:"benefits-grid",children:e.map((n,i)=>r.jsxs("div",{className:"card benefit-card",children:[r.jsx("div",{className:"benefit-icon",children:r.jsx(n.icon,{size:28})}),r.jsx("h3",{children:n.title}),r.jsx("p",{children:n.description})]},i))})]})}),r.jsx("section",{className:"section cta-section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"cta-box",children:[r.jsx("h2",{children:"Ready to Get Started?"}),r.jsx("p",{children:"Join thousands of happy customers today"}),r.jsxs(oe,{to:"/services",className:"btn btn-primary btn-lg",children:["Browse Services ",r.jsx(ja,{size:20})]})]})})}),r.jsx("style",{children:`
        .page-hero {
          background: var(--gradient-hero);
          padding: var(--space-16) 0;
          text-align: center;
          color: white;
        }

        .page-hero h1 {
          color: white;
          margin-bottom: var(--space-3);
        }

        .page-hero p {
          color: rgba(255,255,255,0.9);
          font-size: var(--text-xl);
        }

        .steps-section {
          background: var(--gray-50);
        }

        .steps-timeline {
          max-width: 800px;
          margin: 0 auto;
        }

        .step-item {
          display: flex;
          gap: var(--space-6);
          margin-bottom: var(--space-8);
        }

        .step-item:last-child {
          margin-bottom: 0;
        }

        .step-connector {
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .step-number {
          width: 48px;
          height: 48px;
          background: var(--gradient-primary);
          color: white;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: var(--text-xl);
          font-weight: var(--font-bold);
          flex-shrink: 0;
        }

        .connector-line {
          width: 2px;
          flex: 1;
          background: linear-gradient(to bottom, var(--primary-400), var(--secondary-400));
          margin: var(--space-2) 0;
          min-height: 100px;
        }

        .step-content {
          flex: 1;
        }

        .step-icon {
          width: 64px;
          height: 64px;
          background: var(--primary-50);
          border-radius: var(--radius-xl);
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--primary-600);
          margin-bottom: var(--space-4);
        }

        .step-content h3 {
          font-size: var(--text-xl);
          margin-bottom: var(--space-2);
        }

        .step-content > p {
          margin-bottom: var(--space-4);
        }

        .step-details {
          display: flex;
          flex-direction: column;
          gap: var(--space-2);
        }

        .step-details li {
          display: flex;
          align-items: center;
          gap: var(--space-2);
          font-size: var(--text-sm);
          color: var(--gray-600);
        }

        .step-details svg {
          color: var(--success);
        }

        .benefits-section {
          background: white;
        }

        .section-header {
          margin-bottom: var(--space-12);
        }

        .section-header h2 {
          margin-bottom: var(--space-2);
        }

        .section-header p {
          font-size: var(--text-lg);
        }

        .benefits-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: var(--space-6);
        }

        .benefit-card {
          text-align: center;
        }

        .benefit-icon {
          width: 64px;
          height: 64px;
          margin: 0 auto var(--space-4);
          background: var(--primary-50);
          border-radius: var(--radius-xl);
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--primary-600);
        }

        .benefit-card h3 {
          font-size: var(--text-lg);
          margin-bottom: var(--space-2);
        }

        .cta-section {
          background: var(--gray-50);
        }

        .cta-box {
          background: var(--gradient-hero);
          border-radius: var(--radius-2xl);
          padding: var(--space-12);
          text-align: center;
          color: white;
        }

        .cta-box h2 {
          color: white;
          margin-bottom: var(--space-2);
        }

        .cta-box p {
          color: rgba(255,255,255,0.9);
          font-size: var(--text-lg);
          margin-bottom: var(--space-6);
        }

        .cta-box .btn-primary {
          background: white;
          color: var(--primary-600);
        }

        @media (max-width: 1024px) {
          .benefits-grid {
            grid-template-columns: repeat(2, 1fr);
          }
        }

        @media (max-width: 768px) {
          .step-item {
            flex-direction: column;
          }

          .step-connector {
            flex-direction: row;
          }

          .connector-line {
            width: 100%;
            height: 2px;
            min-height: auto;
          }

          .benefits-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})},cD=()=>{const s=[{value:"0",label:"Happy Customers"},{value:"0",label:"Service Providers"},{value:"0",label:"Service Types"},{value:"-",label:"Average Rating"}],e=[{icon:LS,title:"Mission",description:"To connect people with trusted professionals for all their service needs."},{icon:nS,title:"Care",description:"We care deeply about customer satisfaction and provider success."},{icon:$n,title:"Community",description:"Building a community of reliable service providers and happy customers."},{icon:Rm,title:"Excellence",description:"We strive for excellence in every service delivered."}],n=[];return r.jsxs("div",{className:"about-page",children:[r.jsx("section",{className:"page-hero",children:r.jsxs("div",{className:"container",children:[r.jsx("h1",{children:"About ServisGo"}),r.jsx("p",{children:"Your trusted platform for booking local services"})]})}),r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"about-intro",children:[r.jsxs("div",{className:"intro-content",children:[r.jsx("h2",{children:"Our Story"}),r.jsx("p",{children:"ServisGo was founded with a simple mission: make it easy for people to find and book quality local services. We believe everyone deserves access to trusted professionals who can help maintain their homes and improve their lives."}),r.jsx("p",{children:"Today, we've grown to serve thousands of customers, connecting them with verified service providers across multiple categories. Our platform ensures quality, convenience, and peace of mind."})]}),r.jsx("div",{className:"intro-image",children:r.jsx("img",{src:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=500&h=400&fit=crop",alt:"Team"})})]})})}),r.jsx("section",{className:"section stats-section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"stats-grid",children:s.map((i,l)=>r.jsxs("div",{className:"stat-card card",children:[r.jsx("div",{className:"stat-value",children:i.value}),r.jsx("div",{className:"stat-label",children:i.label})]},l))})})}),r.jsx("section",{className:"section values-section",children:r.jsxs("div",{className:"container",children:[r.jsx("h2",{className:"text-center mb-8",children:"Our Values"}),r.jsx("div",{className:"values-grid",children:e.map((i,l)=>r.jsxs("div",{className:"card value-card",children:[r.jsx("div",{className:"value-icon",children:r.jsx(i.icon,{size:28})}),r.jsx("h3",{children:i.title}),r.jsx("p",{children:i.description})]},l))})]})}),r.jsx("section",{className:"section team-section",children:r.jsxs("div",{className:"container",children:[r.jsx("h2",{className:"text-center mb-8",children:"Leadership Team"}),r.jsx("div",{className:"team-grid",children:n.map((i,l)=>r.jsxs("div",{className:"team-card",children:[r.jsx("img",{src:i.image,alt:i.name}),r.jsx("h4",{children:i.name}),r.jsx("p",{children:i.role})]},l))})]})}),r.jsx("section",{className:"section cta-section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"cta-box",children:[r.jsx("h2",{children:"Join Our Growing Community"}),r.jsxs("div",{className:"cta-buttons",children:[r.jsx(oe,{to:"/services",className:"btn btn-primary btn-lg",children:"Find Services"}),r.jsx(oe,{to:"/become-provider",className:"btn btn-secondary btn-lg",children:"Become a Provider"})]})]})})}),r.jsx("style",{children:`
        .page-hero { background: var(--gradient-hero); padding: var(--space-16) 0; text-align: center; color: white; }
        .page-hero h1 { color: white; margin-bottom: var(--space-3); }
        .page-hero p { color: rgba(255,255,255,0.9); font-size: var(--text-xl); }
        .about-intro { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-12); align-items: center; }
        .intro-content h2 { margin-bottom: var(--space-6); }
        .intro-content p { margin-bottom: var(--space-4); font-size: var(--text-lg); line-height: 1.7; }
        .intro-image img { border-radius: var(--radius-xl); width: 100%; }
        .stats-section { background: var(--gray-50); }
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-6); }
        .stat-card { text-align: center; padding: var(--space-8); }
        .stat-value { font-size: var(--text-4xl); font-weight: var(--font-bold); color: var(--primary-600); margin-bottom: var(--space-2); }
        .stat-label { color: var(--gray-600); }
        .values-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-6); }
        .value-card { text-align: center; }
        .value-icon { width: 64px; height: 64px; margin: 0 auto var(--space-4); background: var(--primary-50); border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; color: var(--primary-600); }
        .value-card h3 { margin-bottom: var(--space-2); }
        .team-section { background: var(--gray-50); }
        .team-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-8); max-width: 800px; margin: 0 auto; }
        .team-card { text-align: center; }
        .team-card img { width: 120px; height: 120px; border-radius: 50%; margin: 0 auto var(--space-4); object-fit: cover; }
        .team-card h4 { margin-bottom: var(--space-1); }
        .team-card p { color: var(--gray-600); }
        .cta-box { background: var(--gradient-hero); border-radius: var(--radius-2xl); padding: var(--space-12); text-align: center; color: white; }
        .cta-box h2 { color: white; margin-bottom: var(--space-6); }
        .cta-buttons { display: flex; gap: var(--space-4); justify-content: center; }
        .cta-buttons .btn-primary { background: white; color: var(--primary-600); }
        .cta-buttons .btn-secondary { color: white; border-color: rgba(255,255,255,0.5); }
        @media (max-width: 1024px) { .about-intro, .values-grid { grid-template-columns: repeat(2, 1fr); } .stats-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { .about-intro, .values-grid, .team-grid { grid-template-columns: 1fr; } .cta-buttons { flex-direction: column; } }
      `})]})},uD=()=>{const[s,e]=T.useState(0),[n,i]=T.useState(""),[l,u]=T.useState("all"),h=["all","general","booking","payment","providers"],v=[].filter(g=>(l==="all"||g.category===l)&&(g.question.toLowerCase().includes(n.toLowerCase())||g.answer.toLowerCase().includes(n.toLowerCase())));return r.jsxs("div",{className:"faq-page",children:[r.jsx("section",{className:"page-hero",children:r.jsxs("div",{className:"container",children:[r.jsx("h1",{children:"Frequently Asked Questions"}),r.jsx("p",{children:"Find answers to common questions about ServisGo"}),r.jsxs("div",{className:"hero-search",children:[r.jsx(ua,{size:20}),r.jsx("input",{type:"text",placeholder:"Search questions...",value:n,onChange:g=>i(g.target.value)})]})]})}),r.jsx("section",{className:"section",children:r.jsxs("div",{className:"container",children:[r.jsx("div",{className:"faq-categories",children:h.map(g=>r.jsx("button",{className:`category-btn ${l===g?"active":""}`,onClick:()=>u(g),children:g.charAt(0).toUpperCase()+g.slice(1)},g))}),r.jsx("div",{className:"accordion",children:v.map((g,x)=>r.jsxs("div",{className:`accordion-item ${s===x?"open":""}`,children:[r.jsxs("button",{className:"accordion-header",onClick:()=>e(s===x?-1:x),children:[g.question,r.jsx(Rc,{size:20,className:"accordion-icon"})]}),r.jsx("div",{className:"accordion-content",children:r.jsx("p",{children:g.answer})})]},x))}),v.length===0&&r.jsx("div",{className:"empty-state",children:r.jsx("p",{children:"No questions found. Try a different search term."})})]})}),r.jsx("style",{children:`
        .page-hero { background: var(--gradient-hero); padding: var(--space-16) 0; text-align: center; color: white; }
        .page-hero h1 { color: white; margin-bottom: var(--space-3); }
        .page-hero p { color: rgba(255,255,255,0.9); font-size: var(--text-xl); margin-bottom: var(--space-8); }
        .hero-search { display: flex; align-items: center; gap: var(--space-3); background: white; max-width: 500px; margin: 0 auto; padding: var(--space-3) var(--space-5); border-radius: var(--radius-full); }
        .hero-search svg { color: var(--gray-400); }
        .hero-search input { flex: 1; border: none; font-size: var(--text-base); }
        .hero-search input:focus { outline: none; }
        .faq-categories { display: flex; gap: var(--space-2); justify-content: center; margin-bottom: var(--space-8); flex-wrap: wrap; }
        .category-btn { padding: var(--space-2) var(--space-5); border: 2px solid var(--gray-200); border-radius: var(--radius-full); background: white; font-weight: var(--font-medium); cursor: pointer; transition: all var(--transition-fast); }
        .category-btn:hover { border-color: var(--primary-300); }
        .category-btn.active { background: var(--primary-600); border-color: var(--primary-600); color: white; }
        .accordion { max-width: 800px; margin: 0 auto; }
        .empty-state { text-align: center; padding: var(--space-12); color: var(--gray-500); }
      `})]})},dD=()=>{const s=[{icon:Vi,label:"Email",value:"support@servisgo.com",href:"mailto:support@servisgo.com"},{icon:Yc,label:"Phone",value:"+1 (234) 567-890",href:"tel:+1234567890"},{icon:Dn,label:"Address",value:"123 Service Street, New York, NY 10001"},{icon:St,label:"Hours",value:"Mon-Fri: 9AM-6PM, Sat: 10AM-4PM"}];return r.jsxs("div",{className:"contact-page",children:[r.jsx("section",{className:"page-hero",children:r.jsxs("div",{className:"container",children:[r.jsx("h1",{children:"Contact Us"}),r.jsx("p",{children:"We'd love to hear from you. Get in touch with us."})]})}),r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"contact-grid",children:[r.jsxs("div",{className:"contact-form-wrapper card",children:[r.jsx("h2",{children:"Send us a Message"}),r.jsxs("form",{className:"contact-form",children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"First Name"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"John"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Last Name"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"Doe"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Email"}),r.jsx("input",{type:"email",className:"form-input",placeholder:"john@example.com"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Subject"}),r.jsxs("select",{className:"form-input form-select",children:[r.jsx("option",{children:"General Inquiry"}),r.jsx("option",{children:"Booking Support"}),r.jsx("option",{children:"Provider Support"}),r.jsx("option",{children:"Billing"}),r.jsx("option",{children:"Feedback"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Message"}),r.jsx("textarea",{className:"form-input form-textarea",placeholder:"How can we help?",rows:"5"})]}),r.jsxs("button",{type:"submit",className:"btn btn-primary btn-lg",children:[r.jsx(DS,{size:18})," Send Message"]})]})]}),r.jsxs("div",{className:"contact-info",children:[r.jsx("h2",{children:"Get in Touch"}),r.jsx("p",{children:"Have questions? We're here to help. Reach out through any channel."}),r.jsx("div",{className:"info-cards",children:s.map((e,n)=>r.jsxs("div",{className:"info-card",children:[r.jsx("div",{className:"info-icon",children:r.jsx(e.icon,{size:24})}),r.jsxs("div",{children:[r.jsx("h4",{children:e.label}),e.href?r.jsx("a",{href:e.href,children:e.value}):r.jsx("p",{children:e.value})]})]},n))}),r.jsx("div",{className:"map-placeholder",children:r.jsx("img",{src:"https://images.unsplash.com/photo-1524661135-423995f22d0b?w=600&h=300&fit=crop",alt:"Map"})})]})]})})}),r.jsx("style",{children:`
        .page-hero { background: var(--gradient-hero); padding: var(--space-16) 0; text-align: center; color: white; }
        .page-hero h1 { color: white; margin-bottom: var(--space-3); }
        .page-hero p { color: rgba(255,255,255,0.9); font-size: var(--text-xl); }
        .contact-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-10); }
        .contact-form-wrapper { padding: var(--space-8); }
        .contact-form-wrapper h2 { margin-bottom: var(--space-6); }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); }
        .contact-info h2 { margin-bottom: var(--space-3); }
        .contact-info > p { margin-bottom: var(--space-6); }
        .info-cards { display: flex; flex-direction: column; gap: var(--space-4); margin-bottom: var(--space-6); }
        .info-card { display: flex; gap: var(--space-4); padding: var(--space-4); background: white; border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); }
        .info-icon { width: 48px; height: 48px; background: var(--primary-50); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; color: var(--primary-600); flex-shrink: 0; }
        .info-card h4 { font-size: var(--text-sm); color: var(--gray-500); margin-bottom: var(--space-1); }
        .info-card p, .info-card a { font-weight: var(--font-medium); color: var(--gray-900); }
        .map-placeholder { border-radius: var(--radius-xl); overflow: hidden; }
        .map-placeholder img { width: 100%; height: 200px; object-fit: cover; }
        @media (max-width: 1024px) { .contact-grid { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .form-row { grid-template-columns: 1fr; } }
      `})]})},hD=()=>{const[s,e]=T.useState(""),n=[{id:1,title:"10 Tips for Finding the Right Home Cleaner",excerpt:"Learn how to choose the best cleaning service for your home with these expert tips.",image:"https://images.unsplash.com/photo-1581578731548-c64695cc6952?w=400&h=250&fit=crop",category:"Tips",date:"Jan 15, 2026",readTime:"5 min"},{id:2,title:"How to Prepare Your Home for a Plumbing Service",excerpt:"Get the most out of your plumbing appointment with proper preparation.",image:"https://images.unsplash.com/photo-1585704032915-c3400ca199e7?w=400&h=250&fit=crop",category:"Guides",date:"Jan 12, 2026",readTime:"4 min"},{id:3,title:"The Benefits of Regular AC Maintenance",excerpt:"Discover why regular AC maintenance can save you money and extend equipment life.",image:"https://images.unsplash.com/photo-1585771724684-38269d6639fd?w=400&h=250&fit=crop",category:"Maintenance",date:"Jan 10, 2026",readTime:"6 min"},{id:4,title:"DIY vs Professional: When to Call an Expert",excerpt:"Know when to tackle home repairs yourself and when to call a professional.",image:"https://images.unsplash.com/photo-1581092921461-eab62e97a780?w=400&h=250&fit=crop",category:"Tips",date:"Jan 8, 2026",readTime:"7 min"},{id:5,title:"Spring Cleaning Checklist for Every Room",excerpt:"A comprehensive guide to deep cleaning your entire home this spring.",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?w=400&h=250&fit=crop",category:"Guides",date:"Jan 5, 2026",readTime:"8 min"},{id:6,title:"How ServisGo Verifies Service Providers",excerpt:"Learn about our rigorous verification process that keeps you safe.",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=250&fit=crop",category:"Company",date:"Jan 2, 2026",readTime:"4 min"}],i=["All","Tips","Guides","Maintenance","Company"],[l,u]=T.useState("All"),h=n.filter(m=>(l==="All"||m.category===l)&&m.title.toLowerCase().includes(s.toLowerCase()));return r.jsxs("div",{className:"blog-page",children:[r.jsx("section",{className:"page-hero",children:r.jsxs("div",{className:"container",children:[r.jsx("h1",{children:"Blog"}),r.jsx("p",{children:"Tips, guides, and insights for home services"})]})}),r.jsx("section",{className:"section",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"blog-toolbar",children:[r.jsxs("div",{className:"search-input-wrapper",children:[r.jsx(ua,{size:20,className:"search-icon"}),r.jsx("input",{type:"text",placeholder:"Search articles...",value:s,onChange:m=>e(m.target.value),className:"form-input search-input"})]}),r.jsx("div",{className:"category-tabs",children:i.map(m=>r.jsx("button",{className:`tab ${l===m?"active":""}`,onClick:()=>u(m),children:m},m))})]}),r.jsx("div",{className:"blog-grid",children:h.map(m=>r.jsxs(oe,{to:`/blog/${m.id}`,className:"card blog-card",children:[r.jsx("img",{src:m.image,alt:m.title,className:"blog-image"}),r.jsxs("div",{className:"blog-content",children:[r.jsx("span",{className:"blog-category",children:m.category}),r.jsx("h3",{children:m.title}),r.jsx("p",{children:m.excerpt}),r.jsxs("div",{className:"blog-meta",children:[r.jsxs("span",{children:[r.jsx(ht,{size:14})," ",m.date]}),r.jsxs("span",{children:[r.jsx(St,{size:14})," ",m.readTime]})]})]})]},m.id))}),h.length===0&&r.jsx("div",{className:"empty-state text-center",children:r.jsx("p",{children:"No articles found"})})]})}),r.jsx("style",{children:`
        .page-hero { background: var(--gradient-hero); padding: var(--space-16) 0; text-align: center; color: white; }
        .page-hero h1 { color: white; margin-bottom: var(--space-3); }
        .page-hero p { color: rgba(255,255,255,0.9); font-size: var(--text-xl); }
        .blog-toolbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-8); gap: var(--space-4); flex-wrap: wrap; }
        .blog-toolbar .search-input-wrapper { max-width: 300px; }
        .category-tabs { display: flex; gap: var(--space-2); }
        .blog-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-6); }
        .blog-card { padding: 0; overflow: hidden; }
        .blog-image { width: 100%; height: 200px; object-fit: cover; }
        .blog-content { padding: var(--space-5); }
        .blog-category { font-size: var(--text-xs); color: var(--primary-600); background: var(--primary-50); padding: var(--space-1) var(--space-2); border-radius: var(--radius-sm); display: inline-block; margin-bottom: var(--space-3); }
        .blog-content h3 { font-size: var(--text-lg); margin-bottom: var(--space-2); }
        .blog-content p { font-size: var(--text-sm); line-height: 1.6; margin-bottom: var(--space-4); }
        .blog-meta { display: flex; gap: var(--space-4); font-size: var(--text-sm); color: var(--gray-500); }
        .blog-meta span { display: flex; align-items: center; gap: var(--space-1); }
        .empty-state { padding: var(--space-12); }
        @media (max-width: 1024px) { .blog-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { .blog-grid { grid-template-columns: 1fr; } .category-tabs { overflow-x: auto; } }
      `})]})},fD=()=>{const{blogId:s}=Hc(),e={title:"10 Tips for Finding the Right Home Cleaner",image:"https://images.unsplash.com/photo-1581578731548-c64695cc6952?w=1200&h=500&fit=crop",category:"Tips",date:"January 15, 2026",readTime:"5 min read",author:{name:"Sarah Johnson",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop",role:"Content Writer"},content:`
      <p>Finding the right home cleaner can feel overwhelming with so many options available. Whether you're hiring for the first time or looking to switch services, these tips will help you make an informed decision.</p>
      <h2>1. Check Reviews and Ratings</h2>
      <p>Always start by reading reviews from other customers. Look for consistent feedback about reliability, quality of work, and professionalism.</p>
      <h2>2. Verify Insurance and Bonding</h2>
      <p>A reputable cleaning service should be insured and bonded. This protects you in case of accidents or damages during the cleaning process.</p>
      <h2>3. Ask About Their Cleaning Products</h2>
      <p>If you have preferences for eco-friendly or hypoallergenic products, make sure to ask what the service uses before booking.</p>
      <h2>4. Get a Clear Price Quote</h2>
      <p>Avoid surprises by getting a detailed quote upfront. Understand what's included and any additional fees that might apply.</p>
      <h2>5. Check Their Availability</h2>
      <p>Make sure the cleaning service can accommodate your schedule. The best services offer flexible booking options.</p>
    `},n=[{id:2,title:"Spring Cleaning Checklist",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?w=300&h=200&fit=crop",date:"Jan 5, 2026"},{id:3,title:"DIY vs Professional Cleaning",image:"https://images.unsplash.com/photo-1581092921461-eab62e97a780?w=300&h=200&fit=crop",date:"Jan 8, 2026"}];return r.jsxs("div",{className:"blog-details-page",children:[r.jsx("section",{className:"blog-header",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"breadcrumb",children:[r.jsx(oe,{to:"/",children:"Home"}),r.jsx(oa,{size:16}),r.jsx(oe,{to:"/blog",children:"Blog"}),r.jsx(oa,{size:16}),r.jsx("span",{children:e.category})]}),r.jsx("span",{className:"blog-category",children:e.category}),r.jsx("h1",{children:e.title}),r.jsxs("div",{className:"blog-meta",children:[r.jsxs("div",{className:"author-info",children:[r.jsx("img",{src:e.author.avatar,alt:e.author.name}),r.jsxs("div",{children:[r.jsx("strong",{children:e.author.name}),r.jsx("span",{children:e.author.role})]})]}),r.jsxs("div",{className:"meta-items",children:[r.jsxs("span",{children:[r.jsx(ht,{size:16})," ",e.date]}),r.jsxs("span",{children:[r.jsx(St,{size:16})," ",e.readTime]})]})]})]})}),r.jsx("section",{className:"blog-content-section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"blog-layout",children:[r.jsxs("article",{className:"blog-article",children:[r.jsx("img",{src:e.image,alt:e.title,className:"featured-image"}),r.jsx("div",{className:"article-content",dangerouslySetInnerHTML:{__html:e.content}}),r.jsxs("div",{className:"share-section",children:[r.jsx("span",{children:"Share this article:"}),r.jsxs("div",{className:"share-buttons",children:[r.jsx("button",{className:"share-btn",children:r.jsx(u_,{size:18})}),r.jsx("button",{className:"share-btn",children:r.jsx(v_,{size:18})}),r.jsx("button",{className:"share-btn",children:r.jsx(h_,{size:18})})]})]})]}),r.jsx("aside",{className:"blog-sidebar",children:r.jsxs("div",{className:"sidebar-section",children:[r.jsx("h4",{children:"Related Articles"}),n.map(i=>r.jsxs(oe,{to:`/blog/${i.id}`,className:"related-post",children:[r.jsx("img",{src:i.image,alt:i.title}),r.jsxs("div",{children:[r.jsx("h5",{children:i.title}),r.jsx("span",{children:i.date})]})]},i.id))]})})]})})}),r.jsx("style",{children:`
        .blog-header { background: var(--gray-50); padding: var(--space-12) 0; }
        .breadcrumb { display: flex; align-items: center; gap: var(--space-2); font-size: var(--text-sm); color: var(--gray-500); margin-bottom: var(--space-6); }
        .breadcrumb a { color: var(--gray-600); }
        .blog-category { font-size: var(--text-sm); color: var(--primary-600); background: var(--primary-50); padding: var(--space-1) var(--space-3); border-radius: var(--radius-full); display: inline-block; margin-bottom: var(--space-4); }
        .blog-header h1 { font-size: var(--text-4xl); max-width: 800px; margin-bottom: var(--space-6); }
        .blog-meta { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: var(--space-4); }
        .author-info { display: flex; gap: var(--space-3); align-items: center; }
        .author-info img { width: 48px; height: 48px; border-radius: 50%; object-fit: cover; }
        .author-info strong { display: block; font-size: var(--text-base); }
        .author-info span { font-size: var(--text-sm); color: var(--gray-500); }
        .meta-items { display: flex; gap: var(--space-4); font-size: var(--text-sm); color: var(--gray-500); }
        .meta-items span { display: flex; align-items: center; gap: var(--space-2); }
        .blog-content-section { padding: var(--space-12) 0; }
        .blog-layout { display: grid; grid-template-columns: 1fr 300px; gap: var(--space-10); }
        .featured-image { width: 100%; border-radius: var(--radius-xl); margin-bottom: var(--space-8); }
        .article-content { font-size: var(--text-lg); line-height: 1.8; }
        .article-content h2 { font-size: var(--text-2xl); margin: var(--space-8) 0 var(--space-4); }
        .article-content p { margin-bottom: var(--space-4); color: var(--gray-700); }
        .share-section { display: flex; align-items: center; gap: var(--space-4); padding-top: var(--space-8); border-top: 1px solid var(--gray-200); margin-top: var(--space-8); }
        .share-buttons { display: flex; gap: var(--space-2); }
        .share-btn { width: 40px; height: 40px; border-radius: var(--radius-lg); border: 1px solid var(--gray-200); background: white; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--gray-600); }
        .share-btn:hover { background: var(--gray-50); color: var(--primary-600); }
        .sidebar-section { background: white; padding: var(--space-5); border-radius: var(--radius-xl); box-shadow: var(--shadow-card); }
        .sidebar-section h4 { margin-bottom: var(--space-4); }
        .related-post { display: flex; gap: var(--space-3); padding: var(--space-3); border-radius: var(--radius-lg); margin-bottom: var(--space-2); }
        .related-post:hover { background: var(--gray-50); }
        .related-post img { width: 80px; height: 60px; border-radius: var(--radius-md); object-fit: cover; }
        .related-post h5 { font-size: var(--text-sm); margin-bottom: var(--space-1); }
        .related-post span { font-size: var(--text-xs); color: var(--gray-500); }
        @media (max-width: 1024px) { .blog-layout { grid-template-columns: 1fr; } }
      `})]})},pD=()=>{const s=[{icon:Ta,title:"Set Your Own Rates",description:"You decide how much to charge for your services."},{icon:ht,title:"Flexible Schedule",description:"Work when you want. Accept jobs that fit your availability."},{icon:$n,title:"Access to Customers",description:"Connect with thousands of customers looking for services."},{icon:Qc,title:"Secure Payments",description:"Get paid weekly, directly to your bank account."}],e=[{number:1,title:"Sign Up",description:"Create your provider account in minutes"},{number:2,title:"Get Verified",description:"Complete our verification process"},{number:3,title:"Set Up Profile",description:"Add your services, rates, and availability"},{number:4,title:"Start Earning",description:"Accept jobs and grow your business"}],n=[{name:"Mike R.",role:"Plumber",content:"ServisGo helped me grow my business by 40% in just 3 months!",rating:5},{name:"Lisa T.",role:"House Cleaner",content:"The flexible scheduling lets me work around my family life.",rating:5}];return r.jsxs("div",{className:"become-provider-page",children:[r.jsx("section",{className:"provider-hero",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"hero-content",children:[r.jsx("h1",{children:"Grow Your Business with ServisGo"}),r.jsx("p",{children:"Join thousands of professionals earning more by connecting with customers who need your services."}),r.jsxs("div",{className:"hero-cta",children:[r.jsxs(oe,{to:"/provider/onboarding",className:"btn btn-primary btn-lg",children:["Get Started ",r.jsx(ja,{size:20})]}),r.jsx("span",{className:"hero-note",children:"Free to join  No monthly fees"})]}),r.jsxs("div",{className:"hero-stats",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"1000+"}),r.jsx("span",{children:"Active Providers"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"$5M+"}),r.jsx("span",{children:"Earned by Providers"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"4.9"}),r.jsx("span",{children:"Avg Provider Rating"})]})]})]})})}),r.jsx("section",{className:"section benefits-section",children:r.jsxs("div",{className:"container",children:[r.jsx("h2",{className:"text-center",children:"Why Join ServisGo?"}),r.jsx("p",{className:"text-center text-gray mb-8",children:"Everything you need to succeed"}),r.jsx("div",{className:"benefits-grid",children:s.map((i,l)=>r.jsxs("div",{className:"card benefit-card",children:[r.jsx("div",{className:"benefit-icon",children:r.jsx(i.icon,{size:28})}),r.jsx("h3",{children:i.title}),r.jsx("p",{children:i.description})]},l))})]})}),r.jsx("section",{className:"section steps-section",children:r.jsxs("div",{className:"container",children:[r.jsx("h2",{className:"text-center",children:"How to Get Started"}),r.jsx("p",{className:"text-center text-gray mb-8",children:"Four simple steps to start earning"}),r.jsx("div",{className:"steps-grid",children:e.map((i,l)=>r.jsxs("div",{className:"step-card",children:[r.jsx("div",{className:"step-number",children:i.number}),r.jsx("h3",{children:i.title}),r.jsx("p",{children:i.description})]},l))})]})}),r.jsx("section",{className:"section testimonials-section",children:r.jsxs("div",{className:"container",children:[r.jsx("h2",{className:"text-center",children:"What Providers Say"}),r.jsx("div",{className:"testimonials-grid",children:n.map((i,l)=>r.jsxs("div",{className:"card testimonial-card",children:[r.jsx("div",{className:"stars",children:[...Array(i.rating)].map((u,h)=>r.jsx(cn,{size:18,fill:"#FBBF24",color:"#FBBF24"},h))}),r.jsxs("p",{children:['"',i.content,'"']}),r.jsxs("div",{className:"author",children:[r.jsx("strong",{children:i.name}),r.jsx("span",{children:i.role})]})]},l))})]})}),r.jsx("section",{className:"section cta-section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"cta-box",children:[r.jsx("h2",{children:"Ready to Start Earning?"}),r.jsx("p",{children:"Join our network of trusted professionals today"}),r.jsx(oe,{to:"/provider/onboarding",className:"btn btn-primary btn-lg",children:"Apply Now"})]})})}),r.jsx("style",{children:`
        .provider-hero { background: var(--gradient-hero); padding: var(--space-20) 0; color: white; }
        .hero-content { max-width: 700px; }
        .provider-hero h1 { color: white; font-size: var(--text-5xl); margin-bottom: var(--space-6); }
        .provider-hero p { color: rgba(255,255,255,0.9); font-size: var(--text-xl); margin-bottom: var(--space-8); }
        .hero-cta { display: flex; align-items: center; gap: var(--space-4); margin-bottom: var(--space-10); flex-wrap: wrap; }
        .hero-note { color: rgba(255,255,255,0.8); font-size: var(--text-sm); }
        .hero-stats { display: flex; gap: var(--space-10); }
        .hero-stats div { display: flex; flex-direction: column; }
        .hero-stats strong { font-size: var(--text-3xl); }
        .hero-stats span { font-size: var(--text-sm); opacity: 0.8; }
        .benefits-section { background: var(--gray-50); }
        .benefits-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-6); }
        .benefit-card { text-align: center; }
        .benefit-icon { width: 64px; height: 64px; margin: 0 auto var(--space-4); background: var(--primary-50); border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; color: var(--primary-600); }
        .benefit-card h3 { margin-bottom: var(--space-2); }
        .steps-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-6); }
        .step-card { text-align: center; padding: var(--space-6); }
        .step-number { width: 48px; height: 48px; margin: 0 auto var(--space-4); background: var(--gradient-primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--text-xl); font-weight: var(--font-bold); }
        .step-card h3 { margin-bottom: var(--space-2); }
        .testimonials-section { background: var(--gray-50); }
        .testimonials-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-6); max-width: 800px; margin: 0 auto; }
        .testimonial-card { text-align: center; }
        .stars { display: flex; justify-content: center; gap: var(--space-1); margin-bottom: var(--space-4); }
        .testimonial-card p { font-size: var(--text-lg); margin-bottom: var(--space-4); font-style: italic; }
        .author strong { display: block; }
        .author span { font-size: var(--text-sm); color: var(--gray-500); }
        .cta-box { background: var(--gradient-hero); border-radius: var(--radius-2xl); padding: var(--space-12); text-align: center; color: white; }
        .cta-box h2 { color: white; margin-bottom: var(--space-2); }
        .cta-box p { color: rgba(255,255,255,0.9); margin-bottom: var(--space-6); }
        .cta-box .btn-primary { background: white; color: var(--primary-600); }
        @media (max-width: 1024px) { .benefits-grid, .steps-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { .benefits-grid, .steps-grid, .testimonials-grid { grid-template-columns: 1fr; } .hero-stats { flex-wrap: wrap; } }
      `})]})},mD=()=>{const[s,e]=T.useState(!1),[n,i]=T.useState(""),[l,u]=T.useState(""),[h,m]=T.useState(""),[v,g]=T.useState(!1),{login:x,googleSignIn:_}=xt(),j=Fs(),S=async C=>{if(C.preventDefault(),!n||!l)return m("Please fill in all fields");try{m(""),g(!0);const{user:M}=await x(n,l),V=await Pi(gt(xe,"users",M.uid));if(V.exists()){const P=V.data();P.role==="provider"?j("/provider"):P.role==="admin"?j("/admin"):j("/customer")}else j("/customer")}catch(M){console.error(" Error during sign in:",M),m("Failed to sign in. Please check your credentials.")}finally{g(!1)}},I=async()=>{try{m("");const{user:C}=await _(),M=await Pi(gt(xe,"users",C.uid));if(!M.exists())await sg(gt(xe,"users",C.uid),{fullName:C.displayName,email:C.email,role:"customer",createdAt:Bc(),id:C.uid}),j("/customer");else{const V=M.data();V.role==="provider"?j("/provider"):V.role==="admin"?j("/admin"):j("/customer")}}catch(C){console.error(C),m("Failed to sign in with Google")}};return r.jsxs("div",{className:"auth-page",children:[r.jsxs("div",{className:"auth-container",children:[r.jsx("div",{className:"auth-form-section",children:r.jsxs("div",{className:"auth-form-content",children:[r.jsxs(oe,{to:"/",className:"logo",children:[r.jsx("div",{className:"logo-icon",children:r.jsx(is,{size:24})}),r.jsx("span",{children:"ServisGo"})]}),r.jsxs("div",{className:"auth-header",children:[r.jsx("h1",{children:"Welcome Back"}),r.jsx("p",{children:"Sign in to your account to continue"})]}),h&&r.jsx("div",{className:"auth-error",style:{color:"var(--error)",backgroundColor:"rgba(239, 68, 68, 0.1)",padding:"var(--space-3)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-4)",fontSize:"var(--text-sm)"},children:h}),r.jsxs("form",{className:"auth-form",onSubmit:S,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Email Address"}),r.jsxs("div",{className:"input-with-icon",children:[r.jsx(Vi,{size:20,className:"input-icon"}),r.jsx("input",{type:"email",className:"form-input",placeholder:"Enter your email",value:n,onChange:C=>i(C.target.value),required:!0})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("div",{className:"form-label-row",children:[r.jsx("label",{className:"form-label",children:"Password"}),r.jsx(oe,{to:"/forgot-password",className:"forgot-link",children:"Forgot Password?"})]}),r.jsxs("div",{className:"input-with-icon",children:[r.jsx(p_,{size:20,className:"input-icon"}),r.jsx("input",{type:s?"text":"password",className:"form-input",placeholder:"Enter your password",value:l,onChange:C=>u(C.target.value),required:!0}),r.jsx("button",{type:"button",className:"password-toggle",onClick:()=>e(!s),children:s?r.jsx(c_,{size:20}):r.jsx($c,{size:20})})]})]}),r.jsxs("label",{className:"form-checkbox",children:[r.jsx("input",{type:"checkbox"}),r.jsx("span",{children:"Remember me"})]}),r.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",style:{width:"100%"},disabled:v,children:v?r.jsxs(r.Fragment,{children:[r.jsx(De,{size:20,className:"animate-spin"})," Signing In..."]}):"Sign In"})]}),r.jsx("div",{className:"auth-divider",children:r.jsx("span",{children:"or continue with"})}),r.jsxs("div",{className:"social-buttons",children:[r.jsx("button",{className:"btn btn-secondary",onClick:I,children:"Google"}),r.jsx("button",{className:"btn btn-secondary",children:"Facebook"})]}),r.jsxs("p",{className:"auth-footer",children:["Don't have an account? ",r.jsx(oe,{to:"/signup",children:"Sign Up"})]})]})}),r.jsx("div",{className:"auth-info-section",children:r.jsxs("div",{className:"auth-info-content",children:[r.jsx("h2",{children:"Book Services with Confidence"}),r.jsx("p",{children:"Join thousands of happy customers"}),r.jsxs("div",{className:"auth-features",children:[r.jsxs("div",{className:"auth-feature",children:[r.jsx(Rn,{size:20}),r.jsx("span",{children:"Verified Professionals"})]}),r.jsxs("div",{className:"auth-feature",children:[r.jsx(Rn,{size:20}),r.jsx("span",{children:"Secure Payments"})]}),r.jsxs("div",{className:"auth-feature",children:[r.jsx(Rn,{size:20}),r.jsx("span",{children:"Quality Guaranteed"})]})]})]})})]}),r.jsx("style",{children:`
        .auth-page { min-height: 100vh; }
        .auth-container { display: grid; grid-template-columns: 1fr 1fr; width: 100%; min-height: 100vh; }
        .auth-form-section { display: flex; align-items: center; justify-content: center; padding: var(--space-8); background: white; }
        .auth-form-content { width: 100%; max-width: 420px; }
        .auth-form-content .logo { display: flex; align-items: center; gap: var(--space-2); margin-bottom: var(--space-10); }
        .auth-header { margin-bottom: var(--space-8); }
        .auth-header h1 { font-size: var(--text-3xl); margin-bottom: var(--space-2); }
        .auth-form { margin-bottom: var(--space-6); }
        .form-label-row { display: flex; justify-content: space-between; }
        .forgot-link { font-size: var(--text-sm); color: var(--primary-600); }
        .input-with-icon { position: relative; display: flex; align-items: center; }
        .input-icon { position: absolute; left: var(--space-4); color: var(--gray-400); }
        .input-with-icon .form-input { padding-left: var(--space-12); padding-right: var(--space-12); }
        .password-toggle { position: absolute; right: var(--space-4); background: none; border: none; color: var(--gray-400); cursor: pointer; }
        .form-checkbox { margin-bottom: var(--space-6); }
        .auth-divider { display: flex; align-items: center; gap: var(--space-4); margin: var(--space-6) 0; }
        .auth-divider::before, .auth-divider::after { content: ''; flex: 1; height: 1px; background: var(--gray-200); }
        .auth-divider span { color: var(--gray-500); font-size: var(--text-sm); }
        .social-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); margin-bottom: var(--space-6); }
        .auth-footer { text-align: center; color: var(--gray-600); }
        .auth-footer a { color: var(--primary-600); font-weight: var(--font-semibold); }
        .auth-info-section { background: var(--gradient-hero); display: flex; align-items: center; justify-content: center; padding: var(--space-8); }
        .auth-info-content { max-width: 400px; color: white; text-align: center; }
        .auth-info-content h2 { color: white; font-size: var(--text-3xl); margin-bottom: var(--space-4); }
        .auth-info-content > p { color: rgba(255,255,255,0.9); margin-bottom: var(--space-10); }
        .auth-features { display: flex; flex-direction: column; gap: var(--space-4); }
        .auth-feature { display: flex; align-items: center; gap: var(--space-3); background: rgba(255,255,255,0.1); padding: var(--space-4); border-radius: var(--radius-lg); }
        @media (max-width: 1024px) { .auth-container { grid-template-columns: 1fr; } .auth-info-section { display: none; } }
      `})]})},gD=()=>{const[s,e]=T.useState(!1),[n,i]=T.useState("customer"),[l,u]=T.useState(""),[h,m]=T.useState(""),[v,g]=T.useState(""),[x,_]=T.useState(""),[j,S]=T.useState(!1),{signup:I}=xt(),C=Fs(),M=async P=>{if(P.preventDefault(),!l||!h||!v)return _("Please fill in all fields");if(v.length<6)return _("Password must be at least 6 characters");try{_(""),S(!0);const{user:H}=await I(h,v);await sg(gt(xe,"users",H.uid),{fullName:l,email:h,role:n,createdAt:Bc(),id:H.uid}),C(n==="provider"?"/provider":"/customer")}catch(H){console.error(H),_(H.message||"Failed to create an account")}finally{S(!1)}},V=async()=>{try{_("");const{user:P}=await googleSignIn();(await Pi(gt(xe,"users",P.uid))).exists()||await sg(gt(xe,"users",P.uid),{fullName:P.displayName,email:P.email,role:"customer",createdAt:Bc(),id:P.uid}),C("/customer")}catch(P){console.error(P),_("Failed to sign in with Google")}};return r.jsxs("div",{className:"auth-page",children:[r.jsxs("div",{className:"auth-container",children:[r.jsx("div",{className:"auth-form-section",children:r.jsxs("div",{className:"auth-form-content",children:[r.jsxs(oe,{to:"/",className:"logo",children:[r.jsx("div",{className:"logo-icon",children:r.jsx(is,{size:24})}),r.jsx("span",{children:"ServisGo"})]}),r.jsxs("div",{className:"auth-header",children:[r.jsx("h1",{children:"Create Account"}),r.jsx("p",{children:"Join ServisGo and get started today"})]}),x&&r.jsx("div",{className:"auth-error",style:{color:"var(--error)",backgroundColor:"rgba(239, 68, 68, 0.1)",padding:"var(--space-3)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-4)",fontSize:"var(--text-sm)"},children:x}),r.jsxs("div",{className:"role-selector",children:[r.jsxs("button",{className:`role-btn ${n==="customer"?"active":""}`,onClick:()=>i("customer"),children:[r.jsx(Mn,{size:20}),"I need services"]}),r.jsxs("button",{className:`role-btn ${n==="provider"?"active":""}`,onClick:()=>i("provider"),children:[r.jsx(is,{size:20}),"I provide services"]})]}),r.jsxs("form",{className:"auth-form",onSubmit:M,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Full Name"}),r.jsxs("div",{className:"input-with-icon",children:[r.jsx(Mn,{size:20,className:"input-icon"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"Enter your name",value:l,onChange:P=>u(P.target.value),required:!0})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Email Address"}),r.jsxs("div",{className:"input-with-icon",children:[r.jsx(Vi,{size:20,className:"input-icon"}),r.jsx("input",{type:"email",className:"form-input",placeholder:"Enter your email",value:h,onChange:P=>m(P.target.value),required:!0})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Password"}),r.jsxs("div",{className:"input-with-icon",children:[r.jsx(p_,{size:20,className:"input-icon"}),r.jsx("input",{type:s?"text":"password",className:"form-input",placeholder:"Create a password",value:v,onChange:P=>g(P.target.value),required:!0}),r.jsx("button",{type:"button",className:"password-toggle",onClick:()=>e(!s),children:s?r.jsx(c_,{size:20}):r.jsx($c,{size:20})})]}),r.jsx("p",{className:"form-hint",children:"Must be at least 6 characters"})]}),r.jsxs("label",{className:"form-checkbox",children:[r.jsx("input",{type:"checkbox",required:!0}),r.jsxs("span",{children:["I agree to the ",r.jsx(oe,{to:"/terms",children:"Terms"})," and ",r.jsx(oe,{to:"/privacy",children:"Privacy Policy"})]})]}),r.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",style:{width:"100%"},disabled:j,children:j?r.jsxs(r.Fragment,{children:[r.jsx(De,{size:20,className:"animate-spin"})," Creating Account..."]}):"Create Account"})]}),r.jsx("div",{className:"auth-divider",children:r.jsx("span",{children:"or"})}),r.jsxs("div",{className:"social-buttons",children:[r.jsx("button",{className:"btn btn-secondary",onClick:V,children:"Google"}),r.jsx("button",{className:"btn btn-secondary",children:"Facebook"})]}),r.jsxs("p",{className:"auth-footer",children:["Already have an account? ",r.jsx(oe,{to:"/login",children:"Sign In"})]})]})}),r.jsx("div",{className:"auth-info-section",children:r.jsxs("div",{className:"auth-info-content",children:[r.jsx("h2",{children:n==="customer"?"Access Quality Services":"Grow Your Business"}),r.jsx("p",{children:n==="customer"?"Book trusted professionals for all your needs":"Connect with customers and grow your income"}),r.jsx("div",{className:"auth-features",children:n==="customer"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"auth-feature",children:[r.jsx(Rn,{size:20}),r.jsx("span",{children:"Verified professionals"})]}),r.jsxs("div",{className:"auth-feature",children:[r.jsx(Rn,{size:20}),r.jsx("span",{children:"Easy booking"})]}),r.jsxs("div",{className:"auth-feature",children:[r.jsx(Rn,{size:20}),r.jsx("span",{children:"Money-back guarantee"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"auth-feature",children:[r.jsx(Rn,{size:20}),r.jsx("span",{children:"Set your own rates"})]}),r.jsxs("div",{className:"auth-feature",children:[r.jsx(Rn,{size:20}),r.jsx("span",{children:"Flexible schedule"})]}),r.jsxs("div",{className:"auth-feature",children:[r.jsx(Rn,{size:20}),r.jsx("span",{children:"Weekly payouts"})]})]})})]})})]}),r.jsx("style",{children:`
        .auth-page { min-height: 100vh; }
        .auth-container { display: grid; grid-template-columns: 1fr 1fr; width: 100%; min-height: 100vh; }
        .auth-form-section { display: flex; align-items: center; justify-content: center; padding: var(--space-8); background: white; }
        .auth-form-content { width: 100%; max-width: 420px; }
        .auth-form-content .logo { display: flex; align-items: center; gap: var(--space-2); margin-bottom: var(--space-8); }
        .auth-header { margin-bottom: var(--space-6); }
        .auth-header h1 { font-size: var(--text-3xl); margin-bottom: var(--space-2); }
        .role-selector { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-3); margin-bottom: var(--space-6); }
        .role-btn { display: flex; align-items: center; justify-content: center; gap: var(--space-2); padding: var(--space-4); border: 2px solid var(--gray-200); border-radius: var(--radius-lg); background: white; font-weight: var(--font-medium); cursor: pointer; transition: all var(--transition-fast); }
        .role-btn:hover { border-color: var(--primary-300); }
        .role-btn.active { border-color: var(--primary-600); background: var(--primary-50); color: var(--primary-600); }
        .auth-form { margin-bottom: var(--space-4); }
        .input-with-icon { position: relative; display: flex; align-items: center; }
        .input-icon { position: absolute; left: var(--space-4); color: var(--gray-400); }
        .input-with-icon .form-input { padding-left: var(--space-12); padding-right: var(--space-12); }
        .password-toggle { position: absolute; right: var(--space-4); background: none; border: none; color: var(--gray-400); cursor: pointer; }
        .form-checkbox { margin-bottom: var(--space-6); }
        .form-checkbox a { color: var(--primary-600); }
        .auth-divider { display: flex; align-items: center; gap: var(--space-4); margin: var(--space-4) 0; }
        .auth-divider::before, .auth-divider::after { content: ''; flex: 1; height: 1px; background: var(--gray-200); }
        .auth-divider span { color: var(--gray-500); font-size: var(--text-sm); }
        .social-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); margin-bottom: var(--space-6); }
        .auth-footer { text-align: center; color: var(--gray-600); }
        .auth-footer a { color: var(--primary-600); font-weight: var(--font-semibold); }
        .auth-info-section { background: var(--gradient-hero); display: flex; align-items: center; justify-content: center; padding: var(--space-8); }
        .auth-info-content { max-width: 400px; color: white; text-align: center; }
        .auth-info-content h2 { color: white; font-size: var(--text-3xl); margin-bottom: var(--space-4); }
        .auth-info-content > p { color: rgba(255,255,255,0.9); margin-bottom: var(--space-10); }
        .auth-features { display: flex; flex-direction: column; gap: var(--space-4); }
        .auth-feature { display: flex; align-items: center; gap: var(--space-3); background: rgba(255,255,255,0.1); padding: var(--space-4); border-radius: var(--radius-lg); }
        @media (max-width: 1024px) { .auth-container { grid-template-columns: 1fr; } .auth-info-section { display: none; } }
      `})]})},vD=()=>{const[s,e]=T.useState(!1);return s?r.jsxs("div",{className:"auth-page",children:[r.jsx("div",{className:"auth-center",children:r.jsxs("div",{className:"success-card card",children:[r.jsx("div",{className:"success-icon",children:r.jsx(vt,{size:48})}),r.jsx("h2",{children:"Check Your Email"}),r.jsx("p",{children:"We've sent a password reset link to your email address. Please check your inbox."}),r.jsx(oe,{to:"/login",className:"btn btn-primary",style:{width:"100%"},children:"Back to Login"})]})}),r.jsx("style",{children:`
          .auth-page { min-height: 100vh; display: flex; align-items: center; justify-content: center; background: var(--gray-50); padding: var(--space-4); }
          .auth-center { width: 100%; max-width: 420px; }
          .success-card { text-align: center; }
          .success-icon { width: 80px; height: 80px; margin: 0 auto var(--space-6); background: var(--success-light); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--success); }
          .success-card h2 { margin-bottom: var(--space-3); }
          .success-card p { margin-bottom: var(--space-6); }
        `})]}):r.jsxs("div",{className:"auth-page",children:[r.jsx("div",{className:"auth-center",children:r.jsxs("div",{className:"card",children:[r.jsxs(oe,{to:"/",className:"logo",children:[r.jsx("div",{className:"logo-icon",children:r.jsx(is,{size:24})}),r.jsx("span",{children:"ServisGo"})]}),r.jsxs("div",{className:"auth-header",children:[r.jsx("h1",{children:"Forgot Password?"}),r.jsx("p",{children:"No worries, we'll send you reset instructions"})]}),r.jsxs("form",{className:"auth-form",onSubmit:n=>{n.preventDefault(),e(!0)},children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Email Address"}),r.jsxs("div",{className:"input-with-icon",children:[r.jsx(Vi,{size:20,className:"input-icon"}),r.jsx("input",{type:"email",className:"form-input",placeholder:"Enter your email",required:!0})]})]}),r.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",style:{width:"100%"},children:"Reset Password"})]}),r.jsxs(oe,{to:"/login",className:"back-link",children:[r.jsx(Cc,{size:18})," Back to login"]})]})}),r.jsx("style",{children:`
        .auth-page { min-height: 100vh; display: flex; align-items: center; justify-content: center; background: var(--gray-50); padding: var(--space-4); }
        .auth-center { width: 100%; max-width: 420px; }
        .auth-center .card { padding: var(--space-8); }
        .auth-center .logo { display: flex; align-items: center; gap: var(--space-2); margin-bottom: var(--space-8); justify-content: center; }
        .auth-header { text-align: center; margin-bottom: var(--space-8); }
        .auth-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-2); }
        .auth-form { margin-bottom: var(--space-6); }
        .input-with-icon { position: relative; }
        .input-icon { position: absolute; left: var(--space-4); top: 50%; transform: translateY(-50%); color: var(--gray-400); }
        .input-with-icon .form-input { padding-left: var(--space-12); }
        .back-link { display: flex; align-items: center; justify-content: center; gap: var(--space-2); color: var(--gray-600); }
        .back-link:hover { color: var(--primary-600); }
      `})]})},yD=()=>r.jsxs("div",{className:"legal-page",children:[r.jsx("section",{className:"page-hero",children:r.jsxs("div",{className:"container",children:[r.jsx("h1",{children:"Terms & Conditions"}),r.jsx("p",{children:"Last updated: January 2026"})]})}),r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"legal-content",children:[r.jsx("h2",{children:"1. Acceptance of Terms"}),r.jsx("p",{children:"By accessing and using ServisGo, you agree to be bound by these Terms and Conditions. If you do not agree, please do not use our services."}),r.jsx("h2",{children:"2. Service Description"}),r.jsx("p",{children:"ServisGo is a platform that connects customers with local service providers. We facilitate bookings but do not directly provide services."}),r.jsx("h2",{children:"3. User Accounts"}),r.jsx("p",{children:"Users must provide accurate information when creating accounts. You are responsible for maintaining the confidentiality of your login credentials."}),r.jsx("h2",{children:"4. Booking and Payments"}),r.jsx("p",{children:"All bookings are subject to availability. Payments are processed securely through our platform. Prices are displayed before booking confirmation."}),r.jsx("h2",{children:"5. Cancellation Policy"}),r.jsx("p",{children:"Cancellations made 24+ hours before the scheduled service receive a full refund. Late cancellations may incur fees."}),r.jsx("h2",{children:"6. Provider Obligations"}),r.jsx("p",{children:"Service providers are independent contractors. They are responsible for the quality of their work and compliance with applicable laws."}),r.jsx("h2",{children:"7. Limitation of Liability"}),r.jsx("p",{children:"ServisGo is not liable for any damages arising from services provided by third-party providers. Our platform facilitates connections only."}),r.jsx("h2",{children:"8. Changes to Terms"}),r.jsx("p",{children:"We may update these terms at any time. Continued use of the platform constitutes acceptance of updated terms."})]})})}),r.jsx("style",{children:".page-hero{background:var(--gradient-hero);padding:var(--space-12) 0;color:white;text-align:center}.page-hero h1{color:white;margin-bottom:var(--space-2)}.page-hero p{color:rgba(255,255,255,0.9)}.legal-content{max-width:800px;margin:0 auto}.legal-content h2{font-size:var(--text-xl);margin:var(--space-8) 0 var(--space-3)}.legal-content p{line-height:1.8;margin-bottom:var(--space-4)}"})]}),xD=()=>r.jsxs("div",{className:"legal-page",children:[r.jsx("section",{className:"page-hero",children:r.jsxs("div",{className:"container",children:[r.jsx("h1",{children:"Privacy Policy"}),r.jsx("p",{children:"Last updated: January 2026"})]})}),r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"legal-content",children:[r.jsx("h2",{children:"1. Information We Collect"}),r.jsx("p",{children:"We collect information you provide directly, including name, email, phone number, and address when you create an account or book services."}),r.jsx("h2",{children:"2. How We Use Your Information"}),r.jsx("p",{children:"Your information is used to facilitate bookings, process payments, send notifications, and improve our services. We do not sell your data."}),r.jsx("h2",{children:"3. Information Sharing"}),r.jsx("p",{children:"We share necessary information with service providers to complete your bookings. Payment information is processed by secure third-party processors."}),r.jsx("h2",{children:"4. Data Security"}),r.jsx("p",{children:"We implement industry-standard security measures to protect your data. However, no method of transmission is 100% secure."}),r.jsx("h2",{children:"5. Cookies and Tracking"}),r.jsx("p",{children:"We use cookies to improve user experience, analyze site traffic, and personalize content. You can manage cookie preferences in your browser."}),r.jsx("h2",{children:"6. Your Rights"}),r.jsx("p",{children:"You have the right to access, correct, or delete your personal information. Contact us to exercise these rights."}),r.jsx("h2",{children:"7. Contact Us"}),r.jsx("p",{children:"For privacy inquiries, contact us at privacy@servisgo.com."})]})})}),r.jsx("style",{children:".page-hero{background:var(--gradient-hero);padding:var(--space-12) 0;color:white;text-align:center}.page-hero h1{color:white;margin-bottom:var(--space-2)}.page-hero p{color:rgba(255,255,255,0.9)}.legal-content{max-width:800px;margin:0 auto}.legal-content h2{font-size:var(--text-xl);margin:var(--space-8) 0 var(--space-3)}.legal-content p{line-height:1.8;margin-bottom:var(--space-4)}"})]}),bD=()=>r.jsxs("div",{className:"legal-page",children:[r.jsx("section",{className:"page-hero",children:r.jsxs("div",{className:"container",children:[r.jsx("h1",{children:"Cancellation & Refund Policy"}),r.jsx("p",{children:"Last updated: January 2026"})]})}),r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"legal-content",children:[r.jsx("h2",{children:"Cancellation by Customer"}),r.jsxs("p",{children:[r.jsx("strong",{children:"24+ hours before:"})," Full refund, no cancellation fee."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"12-24 hours before:"})," 50% refund of service cost."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Less than 12 hours:"})," No refund applicable."]}),r.jsx("h2",{children:"Cancellation by Provider"}),r.jsx("p",{children:"If a provider cancels, you will receive a full refund. We will also help you find an alternative provider."}),r.jsx("h2",{children:"No-Show Policy"}),r.jsx("p",{children:"If you are not available at the scheduled time, the booking may be marked as a no-show with no refund."}),r.jsx("h2",{children:"Refund Processing"}),r.jsx("p",{children:"Refunds are processed within 5-7 business days and credited to your original payment method."}),r.jsx("h2",{children:"Service Quality Issues"}),r.jsx("p",{children:"Not satisfied? Contact us within 48 hours of service completion. We'll investigate and may offer a partial or full refund."}),r.jsx("h2",{children:"Contact Us"}),r.jsx("p",{children:"For cancellation requests or refund inquiries, contact support@servisgo.com or call +1 (234) 567-890."})]})})}),r.jsx("style",{children:".page-hero{background:var(--gradient-hero);padding:var(--space-12) 0;color:white;text-align:center}.page-hero h1{color:white;margin-bottom:var(--space-2)}.page-hero p{color:rgba(255,255,255,0.9)}.legal-content{max-width:800px;margin:0 auto}.legal-content h2{font-size:var(--text-xl);margin:var(--space-8) 0 var(--space-3)}.legal-content p{line-height:1.8;margin-bottom:var(--space-4)}"})]}),_D=()=>{const{userData:s,currentUser:e}=xt(),[n,i]=T.useState([{label:"Total Bookings",value:"0",color:"var(--primary-600)"},{label:"Upcoming",value:"0",color:"var(--accent-orange)"},{label:"Completed",value:"0",color:"var(--success)"}]),[l,u]=T.useState([]),[h,m]=T.useState(!0);T.useEffect(()=>{(async()=>{if(e)try{const x=Je(xe,"bookings"),_=wt(x,Dt("userId","==",e.uid)),S=(await lt(_)).docs.map(P=>({id:P.id,...P.data()})).sort((P,H)=>{const ee=P.createdAt?.seconds||0;return(H.createdAt?.seconds||0)-ee}),I=S.length,C=S.filter(P=>P.status==="upcoming"||P.status==="pending").length,M=S.filter(P=>P.status==="completed").length;i([{label:"Total Bookings",value:I.toString(),color:"var(--primary-600)"},{label:"Upcoming",value:C.toString(),color:"var(--accent-orange)"},{label:"Completed",value:M.toString(),color:"var(--success)"}]);const V=S.filter(P=>P.status==="upcoming"||P.status==="pending").slice(0,3);u(V)}catch(x){console.error("Error fetching dashboard data:",x)}finally{m(!1)}})()},[e]);const v=[{icon:ht,label:"Book Service",link:"/customer/book-service"},{icon:St,label:"My Bookings",link:"/customer/bookings"},{icon:Dn,label:"Addresses",link:"/customer/addresses"},{icon:Go,label:"Payments",link:"/customer/payments"}];return r.jsxs("div",{className:"dashboard-page",children:[r.jsxs("div",{className:"welcome-section",children:[r.jsxs("div",{children:[r.jsxs("h1",{children:["Welcome back, ",s?.fullName?.split(" ")[0]||"User","!"]}),r.jsx("p",{children:"Here's what's happening with your account"})]}),r.jsxs(oe,{to:"/customer/book-service",className:"btn btn-primary",children:["Book a Service ",r.jsx(ja,{size:18})]})]}),r.jsx("div",{className:"stats-row",children:n.map((g,x)=>r.jsxs("div",{className:"card stat-card",children:[r.jsx("div",{className:"stat-value",style:{color:g.color},children:g.value}),r.jsx("div",{className:"stat-label",children:g.label})]},x))}),r.jsxs("div",{className:"dashboard-grid",children:[r.jsx("div",{className:"main-content",children:r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{className:"card-title",children:"Upcoming Bookings"}),r.jsx(oe,{to:"/customer/bookings",className:"btn btn-ghost btn-sm",children:"View All"})]}),r.jsx("div",{className:"bookings-list",children:h?r.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:r.jsx(De,{size:32,className:"animate-spin"})}):l.length>0?l.map(g=>r.jsxs(oe,{to:`/customer/bookings/${g.id}`,className:"booking-item",children:[r.jsx("div",{className:"booking-icon-placeholder",children:r.jsx(ht,{size:24})}),r.jsxs("div",{className:"booking-info",children:[r.jsx("h4",{children:g.serviceName}),r.jsxs("div",{className:"booking-meta",children:[r.jsxs("span",{children:[r.jsx(ht,{size:14})," ",g.date]}),r.jsxs("span",{children:[r.jsx(St,{size:14})," ",g.time]})]})]}),r.jsx("span",{className:`badge ${g.status==="upcoming"?"badge-success":"badge-warning"}`,children:g.status})]},g.id)):r.jsxs("div",{className:"empty-state",children:[r.jsx("div",{className:"empty-icon",children:r.jsx(ht,{size:48})}),r.jsx("p",{children:"No upcoming bookings found."}),r.jsx(oe,{to:"/customer/book-service",className:"btn btn-primary btn-sm",children:"Book Your First Service"})]})})]})}),r.jsxs("div",{className:"sidebar-content",children:[r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"card-title",style:{marginBottom:"var(--space-4)"},children:"Quick Actions"}),r.jsx("div",{className:"quick-actions",children:v.map((g,x)=>r.jsxs(oe,{to:g.link,className:"quick-action",children:[r.jsx(g.icon,{size:20}),r.jsx("span",{children:g.label})]},x))})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"card-title",style:{marginBottom:"var(--space-4)"},children:"Account Status"}),r.jsxs("div",{className:"status-item",children:[r.jsx(vt,{size:18,color:"var(--success)"}),r.jsx("span",{children:"Email Verified"})]}),s?.phone&&r.jsxs("div",{className:"status-item",children:[r.jsx(vt,{size:18,color:"var(--success)"}),r.jsx("span",{children:"Phone Linked"})]}),!s?.address&&r.jsxs(oe,{to:"/customer/profile",className:"status-item warning",children:[r.jsx(ja,{size:18}),r.jsx("span",{children:"Complete Profile"})]})]})]})]}),r.jsx("style",{children:`
        .dashboard-page { max-width: 1200px; margin: 0 auto; }
        .welcome-section { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-8); }
        .welcome-section h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .welcome-section p { color: var(--gray-500); }
        .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-6); margin-bottom: var(--space-8); }
        .stat-card { text-align: center; padding: var(--space-6); }
        .stat-value { font-size: var(--text-4xl); font-weight: var(--font-bold); margin-bottom: var(--space-1); }
        .stat-label { color: var(--gray-500); }
        .dashboard-grid { display: grid; grid-template-columns: 2fr 1fr; gap: var(--space-6); }
        .bookings-list { display: flex; flex-direction: column; gap: var(--space-4); }
        .booking-item { display: flex; align-items: center; gap: var(--space-4); padding: var(--space-4); background: var(--gray-50); border-radius: var(--radius-lg); }
        .booking-item:hover { background: var(--gray-100); }
        .booking-icon-placeholder { width: 48px; height: 48px; background: var(--primary-50); color: var(--primary-600); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; }
        .booking-info { flex: 1; }
        .booking-info h4 { font-size: var(--text-base); margin-bottom: var(--space-1); }
        .booking-meta { display: flex; gap: var(--space-4); font-size: var(--text-sm); color: var(--gray-500); }
        .booking-meta span { display: flex; align-items: center; gap: var(--space-1); }
        .sidebar-content { display: flex; flex-direction: column; gap: var(--space-6); }
        .quick-actions { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-3); }
        .quick-action { display: flex; flex-direction: column; align-items: center; gap: var(--space-2); padding: var(--space-4); background: var(--gray-50); border-radius: var(--radius-lg); font-size: var(--text-sm); font-weight: var(--font-medium); color: var(--gray-700); }
        .quick-action:hover { background: var(--primary-50); color: var(--primary-600); }
        .status-item { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3) 0; font-size: var(--text-sm); color: var(--gray-600); }
        .status-item.warning { color: var(--primary-600); font-weight: var(--font-medium); }
        .empty-state { text-align: center; padding: var(--space-12); background: var(--gray-50); border-radius: var(--radius-xl); border: 2px dashed var(--gray-200); }
        .empty-icon { color: var(--gray-300); margin-bottom: var(--space-4); display: flex; justify-content: center; }
        .empty-state p { color: var(--gray-500); margin-bottom: var(--space-6); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 1024px) { .dashboard-grid { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .stats-row { grid-template-columns: 1fr; } .welcome-section { flex-direction: column; gap: var(--space-4); text-align: center; } }
      `})]})},z1={Electrical:"Electrical Fix",Plumbing:"Plumber Repair","Beauty & Spa":"Massage Therapy","AC & Appliances":"AC Service"},wD=()=>{const[s,e]=T.useState([]),[n,i]=T.useState([]),[l,u]=T.useState(!0),[h,m]=T.useState(""),[v,g]=T.useState("All"),[x,_]=T.useState(["All"]);return T.useEffect(()=>{(async()=>{u(!0);try{const S=wt(Je(xe,"users"),Dt("role","==","provider")),C=(await lt(S)).docs.map(W=>W.data()),M={},V=new Set;C.forEach(W=>{Array.isArray(W.services)&&W.services.forEach(R=>{if(V.add(R),M[R]=(M[R]||0)+1,z1[R]){const A=z1[R];V.add(A),M[A]=(M[A]||0)+1}})});const ee=(await lt(Je(xe,"services"))).docs.map(W=>({id:W.id,...W.data()})).filter(W=>V.has(W.name)).map(W=>({...W,providerCount:M[W.name]||0})).sort((W,R)=>(W.name||"").localeCompare(R.name||""));e(ee),i(ee);const re=["All",...new Set(ee.map(W=>W.category).filter(Boolean))];_(re)}catch(S){console.error("Error fetching services:",S)}finally{u(!1)}})()},[]),T.useEffect(()=>{const j=s.filter(S=>{const I=S.name.toLowerCase().includes(h.toLowerCase()),C=v==="All"||S.category===v;return I&&C});i(j)},[h,v,s]),r.jsxs("div",{className:"book-service-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Book a Service"}),r.jsx("p",{children:"Find the perfect professional for your needs"})]}),r.jsxs("div",{className:"steps-indicator",children:[r.jsxs("div",{className:"step active",children:[r.jsx("span",{children:"1"}),"Select Service"]}),r.jsxs("div",{className:"step",children:[r.jsx("span",{children:"2"}),"Schedule"]}),r.jsxs("div",{className:"step",children:[r.jsx("span",{children:"3"}),"Address"]}),r.jsxs("div",{className:"step",children:[r.jsx("span",{children:"4"}),"Checkout"]})]}),r.jsxs("div",{className:"search-filter-section",children:[r.jsxs("div",{className:"search-bar",children:[r.jsx(ua,{size:20}),r.jsx("input",{type:"text",placeholder:"Search for a service...",value:h,onChange:j=>m(j.target.value)})]}),r.jsx("div",{className:"categories-pills",children:x.map(j=>r.jsx("button",{className:`pill ${v===j?"active":""}`,onClick:()=>g(j),children:j},j))})]}),l?r.jsxs("div",{className:"loading-state",children:[r.jsx(De,{size:40,className:"animate-spin"}),r.jsx("p",{children:"Scanning for available professionals..."})]}):r.jsxs("div",{className:"services-grid",children:[n.map(j=>r.jsxs(oe,{to:`/services/${j.id}`,className:"card service-option",children:[r.jsx("div",{className:"service-image-container",children:r.jsx("img",{src:j.image,alt:j.name})}),r.jsxs("div",{className:"service-info",children:[r.jsx("div",{className:"service-tag",children:j.category}),r.jsx("h3",{children:j.name}),r.jsxs("div",{className:"service-meta",children:[r.jsxs("span",{className:"price",children:["Starting from $",j.basePrice]}),r.jsxs("span",{className:"provider-count",children:[r.jsx($n,{size:12,style:{marginRight:"4px"}}),j.providerCount," ",j.providerCount===1?"Professional":"Professionals"," Available"]})]})]}),r.jsx(oa,{size:20,className:"arrow-icon"})]},j.id)),n.length===0&&r.jsxs("div",{className:"empty-state",children:[r.jsx($n,{size:48,style:{marginBottom:"1rem",opacity:.5}}),r.jsx("h3",{children:"No Active Professionals Found"}),r.jsx("p",{children:"We're currently onboarding pros in this category. Please check back soon!"}),r.jsx("button",{className:"btn btn-ghost",onClick:()=>{m(""),g("All")},children:"Clear Filters"})]})]}),r.jsx("style",{children:`
        .book-service-page { max-width: 1000px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); text-align: left; }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .steps-indicator { display: flex; justify-content: space-between; margin-bottom: var(--space-8); padding: var(--space-4); background: white; border-radius: var(--radius-xl); box-shadow: var(--shadow-sm); }
        .step { display: flex; align-items: center; gap: var(--space-2); color: var(--gray-400); font-size: var(--text-sm); }
        .step span { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; background: var(--gray-100); border-radius: 50%; font-weight: var(--font-semibold); }
        .step.active { color: var(--primary-600); }
        .step.active span { background: var(--primary-600); color: white; }
        .step.completed span { background: var(--success); color: white; }
        
        .search-filter-section { margin-bottom: var(--space-8); display: flex; flex-direction: column; gap: var(--space-4); }
        .search-bar { display: flex; align-items: center; gap: var(--space-3); background: white; padding: 0 var(--space-4); border-radius: var(--radius-lg); border: 1px solid var(--gray-200); box-shadow: var(--shadow-sm); }
        .search-bar input { flex: 1; border: none; padding: var(--space-3) 0; font-size: var(--text-base); }
        .search-bar input:focus { outline: none; }
        .categories-pills { display: flex; gap: var(--space-2); overflow-x: auto; padding-bottom: var(--space-2); }
        .pill { padding: var(--space-2) var(--space-4); border-radius: var(--radius-full); background: white; border: 1px solid var(--gray-200); cursor: pointer; white-space: nowrap; font-size: var(--text-sm); }
        .pill.active { background: var(--primary-600); color: white; border-color: var(--primary-600); }
        
        .services-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-6); }
        .service-option { display: flex; align-items: center; gap: var(--space-4); padding: var(--space-4); cursor: pointer; transition: all 0.2s; position: relative; }
        .service-option:hover { border-color: var(--primary-400); transform: translateY(-2px); box-shadow: var(--shadow-md); }
        .service-image-container { width: 100px; height: 100px; border-radius: var(--radius-lg); overflow: hidden; flex-shrink: 0; }
        .service-image-container img { width: 100%; height: 100%; object-fit: cover; }
        .service-info { flex: 1; }
        .service-tag { font-size: 10px; font-weight: bold; text-transform: uppercase; color: var(--primary-600); background: var(--primary-50); padding: 2px 8px; border-radius: var(--radius-full); width: fit-content; margin-bottom: 4px; }
        .service-info h3 { font-size: var(--text-lg); margin-bottom: var(--space-1); }
        .service-meta { display: flex; flex-direction: column; gap: 4px; font-size: var(--text-sm); }
        .rating { display: flex; align-items: center; gap: var(--space-1); color: var(--gray-600); }
        .price { color: var(--primary-600); font-weight: var(--font-bold); }
        .provider-count { display: flex; align-items: center; font-size: 11px; color: var(--success); font-weight: 500; }
        .arrow-icon { color: var(--gray-300); }
        .loading-state, .empty-state { grid-column: span 2; text-align: center; padding: var(--space-16); color: var(--gray-500); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 768px) { .services-grid { grid-template-columns: 1fr; } .search-filter-section { padding: 0 4px; } }
      `})]})},jD=()=>{const s=On(),{service:e,provider:n}=s.state||{},[i,l]=T.useState(null),[u,h]=T.useState("10:00 AM"),[m,v]=T.useState([]),g=["9:00 AM","10:00 AM","11:00 AM","12:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM"];T.useEffect(()=>{const _=[],j=new Date,S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let I=0;I<7;I++){const C=new Date;C.setDate(j.getDate()+I),_.push({fullDate:C.toISOString().split("T")[0],day:C.getDate(),weekday:S[C.getDay()],month:C.toLocaleString("default",{month:"long"}),year:C.getFullYear()})}v(_),l(_[0].fullDate)},[]);const x=m.length>0?`${m[0].month} ${m[0].year}`:"";return r.jsxs("div",{className:"schedule-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Select Date & Time"}),r.jsxs("p",{children:["Choose when you want the ",e?.name||"service"]})]}),r.jsxs("div",{className:"steps-indicator",children:[r.jsxs("div",{className:"step completed",children:[r.jsx("span",{children:""}),"Select Service"]}),r.jsxs("div",{className:"step active",children:[r.jsx("span",{children:"2"}),"Schedule"]}),r.jsxs("div",{className:"step",children:[r.jsx("span",{children:"3"}),"Address"]}),r.jsxs("div",{className:"step",children:[r.jsx("span",{children:"4"}),"Checkout"]})]}),r.jsxs("div",{className:"card schedule-card",children:[r.jsx("h3",{children:"Select Date"}),r.jsxs("div",{className:"date-nav",children:[r.jsx("button",{className:"btn btn-icon btn-ghost",children:r.jsx(DT,{size:20})}),r.jsx("span",{children:x}),r.jsx("button",{className:"btn btn-icon btn-ghost",children:r.jsx(oa,{size:20})})]}),r.jsx("div",{className:"dates-grid",children:m.map(_=>r.jsxs("button",{className:`date-btn ${i===_.fullDate?"active":""}`,onClick:()=>l(_.fullDate),children:[r.jsx("span",{className:"weekday",children:_.weekday}),r.jsx("span",{className:"day",children:_.day})]},_.fullDate))})]}),r.jsxs("div",{className:"card schedule-card",children:[r.jsx("h3",{children:"Select Time"}),r.jsx("div",{className:"times-grid",children:g.map(_=>r.jsxs("button",{className:`time-btn ${u===_?"active":""}`,onClick:()=>h(_),children:[r.jsx(St,{size:16})," ",_]},_))})]}),r.jsxs("div",{className:"nav-buttons",children:[r.jsx(oe,{to:"/customer/book-service",className:"btn btn-secondary",children:"Back"}),r.jsx(oe,{to:"/customer/address",state:{service:e,provider:n,date:i,time:u},className:"btn btn-primary",disabled:!i,children:"Continue"})]}),r.jsx("style",{children:`
        .schedule-page { max-width: 700px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .steps-indicator { display: flex; justify-content: space-between; margin-bottom: var(--space-8); padding: var(--space-4); background: white; border-radius: var(--radius-xl); box-shadow: var(--shadow-sm); }
        .step { display: flex; align-items: center; gap: var(--space-2); color: var(--gray-400); font-size: var(--text-sm); }
        .step span { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; background: var(--gray-100); border-radius: 50%; font-weight: var(--font-semibold); }
        .step.active { color: var(--primary-600); }
        .step.active span { background: var(--primary-600); color: white; }
        .step.completed span { background: var(--success); color: white; }
        .schedule-card { margin-bottom: var(--space-6); }
        .schedule-card h3 { margin-bottom: var(--space-4); }
        .date-nav { display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-4); font-weight: var(--font-semibold); }
        .dates-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: var(--space-2); }
        .date-btn { display: flex; flex-direction: column; align-items: center; padding: var(--space-3); border: 2px solid var(--gray-200); border-radius: var(--radius-lg); background: white; cursor: pointer; transition: all var(--transition-fast); }
        .date-btn:hover { border-color: var(--primary-300); }
        .date-btn.active { border-color: var(--primary-600); background: var(--primary-50); }
        .date-btn .weekday { font-size: var(--text-xs); color: var(--gray-500); }
        .date-btn .day { font-size: var(--text-lg); font-weight: var(--font-semibold); }
        .times-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-3); }
        .time-btn { display: flex; align-items: center; justify-content: center; gap: var(--space-2); padding: var(--space-3); border: 2px solid var(--gray-200); border-radius: var(--radius-lg); background: white; cursor: pointer; font-size: var(--text-sm); transition: all var(--transition-fast); }
        .time-btn:hover { border-color: var(--primary-300); }
        .time-btn.active { border-color: var(--primary-600); background: var(--primary-50); color: var(--primary-600); }
        .nav-buttons { display: flex; justify-content: space-between; margin-top: var(--space-8); }
        @media (max-width: 768px) { .dates-grid { grid-template-columns: repeat(4, 1fr); } .times-grid { grid-template-columns: repeat(2, 1fr); } }
      `})]})},ED=()=>{const s=On(),e=Fs(),{service:n,provider:i,date:l,time:u}=s.state||{},{currentUser:h}=xt(),[m,v]=T.useState(null),[g,x]=T.useState(!1),[_,j]=T.useState([]),[S,I]=T.useState(!0),[C,M]=T.useState(!1),[V,P]=T.useState({label:"",address:"",city:"",zip:"",isDefault:!1}),H=async()=>{if(h){I(!0);try{const W=Je(xe,"users",h.uid,"addresses"),R=wt(W,af("isDefault","desc")),D=(await lt(R)).docs.map(L=>({id:L.id,...L.data()}));if(j(D),D.length>0){const L=D.find(k=>k.isDefault)||D[0];v(L.id)}}catch(W){console.error("Error fetching addresses:",W)}finally{I(!1)}}};T.useEffect(()=>{H()},[h]);const ee=async W=>{if(W.preventDefault(),!!h){M(!0);try{const R=Je(xe,"users",h.uid,"addresses"),A=await cu(R,{...V});x(!1),P({label:"",address:"",city:"",zip:"",isDefault:!1}),await H(),v(A.id)}catch(R){console.error("Error adding address:",R)}finally{M(!1)}}},re=()=>{const W=_.find(R=>R.id===m);e("/customer/checkout",{state:{service:n,provider:i,date:l,time:u,address:W}})};return n?r.jsxs("div",{className:"address-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Select Address"}),r.jsxs("p",{children:["Where should we provide the ",n?.name,"?"]})]}),r.jsxs("div",{className:"steps-indicator",children:[r.jsxs("div",{className:"step completed",children:[r.jsx("span",{children:""}),"Select Service"]}),r.jsxs("div",{className:"step completed",children:[r.jsx("span",{children:""}),"Schedule"]}),r.jsxs("div",{className:"step active",children:[r.jsx("span",{children:"3"}),"Address"]}),r.jsxs("div",{className:"step",children:[r.jsx("span",{children:"4"}),"Checkout"]})]}),r.jsxs("div",{className:"addresses-list",children:[S?r.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:r.jsx(De,{className:"animate-spin",size:32})}):_.map(W=>r.jsxs("div",{className:`card address-card ${m===W.id?"selected":""}`,onClick:()=>v(W.id),children:[r.jsx("div",{className:"address-icon",children:r.jsx(Dn,{size:20})}),r.jsxs("div",{className:"address-info",children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("h4",{children:W.label}),W.isDefault&&r.jsx("span",{className:"badge badge-success",children:"Primary"})]}),r.jsx("p",{children:W.address}),r.jsxs("p",{className:"city",children:[W.city,", ",W.zip]})]}),m===W.id&&r.jsx(vt,{size:24,className:"check-icon"})]},W.id)),!S&&_.length===0&&!g&&r.jsxs("div",{className:"empty-state-info",style:{textAlign:"center",padding:"var(--space-8)",color:"var(--gray-500)"},children:[r.jsx(Dn,{size:40,style:{margin:"0 auto var(--space-4)",opacity:.5}}),r.jsx("p",{children:"You haven't saved any addresses yet."})]}),!g&&r.jsxs("button",{className:"card add-address-btn",onClick:()=>x(!0),children:[r.jsx(Mr,{size:20})," Add New Address"]})]}),g&&r.jsxs("div",{className:"card new-address-form",style:{position:"relative"},children:[r.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>x(!1),style:{position:"absolute",top:"10px",right:"10px"},children:r.jsx(nl,{size:20})}),r.jsx("h3",{children:"Add New Address"}),r.jsxs("form",{onSubmit:ee,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Label (Home, Office, etc.)"}),r.jsx("input",{type:"text",className:"form-input",value:V.label,onChange:W=>P({...V,label:W.target.value}),placeholder:"e.g., Home",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Street Address"}),r.jsx("input",{type:"text",className:"form-input",value:V.address,onChange:W=>P({...V,address:W.target.value}),placeholder:"Full address",required:!0})]}),r.jsxs("div",{className:"form-row",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"City"}),r.jsx("input",{type:"text",className:"form-input",value:V.city,onChange:W=>P({...V,city:W.target.value}),placeholder:"City",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"ZIP Code"}),r.jsx("input",{type:"text",className:"form-input",value:V.zip,onChange:W=>P({...V,zip:W.target.value}),placeholder:"ZIP",required:!0})]})]}),r.jsx("button",{type:"submit",className:"btn btn-primary",disabled:C,style:{marginTop:"1rem"},children:C?r.jsx(De,{className:"animate-spin",size:18}):"Save and Select"})]})]}),r.jsxs("div",{className:"nav-buttons",style:{marginTop:"var(--space-8)",display:"flex",justifyContent:"space-between"},children:[r.jsx("button",{onClick:()=>e(-1),className:"btn btn-secondary",children:"Back"}),r.jsx("button",{onClick:re,className:"btn btn-primary",disabled:!m||C,children:"Continue to Checkout"})]}),r.jsx("style",{children:`
        .address-page { max-width: 700px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .steps-indicator { display: flex; justify-content: space-between; margin-bottom: var(--space-8); padding: var(--space-4); background: white; border-radius: var(--radius-xl); box-shadow: var(--shadow-sm); }
        .step { display: flex; align-items: center; gap: var(--space-2); color: var(--gray-400); font-size: var(--text-sm); }
        .step span { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; background: var(--gray-100); border-radius: 50%; font-weight: var(--font-semibold); }
        .step.active { color: var(--primary-600); }
        .step.active span { background: var(--primary-600); color: white; }
        .step.completed span { background: var(--success); color: white; }
        .addresses-list { display: flex; flex-direction: column; gap: var(--space-4); margin-bottom: var(--space-6); }
        .address-card { display: flex; align-items: center; gap: var(--space-4); cursor: pointer; border: 2px solid transparent; transition: 0.2s; }
        .address-card.selected { border-color: var(--primary-600); background: var(--primary-50); }
        .address-icon { width: 48px; height: 48px; background: var(--gray-100); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; color: var(--gray-500); }
        .address-card.selected .address-icon { background: var(--white); color: var(--primary-600); }
        .address-info { flex: 1; }
        .address-info h4 { font-size: var(--text-base); margin-bottom: 2px; }
        .address-info p { font-size: var(--text-sm); color: var(--gray-600); }
        .address-info .city { color: var(--gray-400); }
        .check-icon { color: var(--primary-600); }
        .add-address-btn { display: flex; align-items: center; justify-content: center; gap: var(--space-2); color: var(--primary-600); border: 2px dashed var(--gray-300); cursor: pointer; background: transparent; padding: var(--space-6); }
        .add-address-btn:hover { border-color: var(--primary-400); background: var(--primary-50); }
        .new-address-form { margin-bottom: var(--space-6); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 768px) { .nav-buttons { flex-direction: column-reverse; gap: 1rem; } .nav-buttons button { width: 100%; } }
      `})]}):r.jsxs("div",{className:"container",style:{padding:"4rem",textAlign:"center"},children:[r.jsx("h3",{children:"Session Expired"}),r.jsx(oe,{to:"/customer/book-service",className:"btn btn-primary",children:"Go Back to Selection"})]})},ND=()=>{const s=On(),e=Fs(),{currentUser:n,userData:i}=xt(),{service:l,provider:u,date:h,time:m,address:v}=s.state||{},[g,x]=T.useState("card"),[_,j]=T.useState(!1),S=l?.basePrice||0,I=Math.round(S*.1),C=S+I,M=async()=>{if(n){j(!0);try{const V={userId:n.uid,customerName:i?.fullName||"Customer",serviceId:l?.id,serviceName:l?.name,serviceImage:l?.image||"",date:h,time:m,address:v?.address,addressDetails:v,price:S,serviceFee:I,total:C,status:"pending",paymentMethod:g,paymentStatus:"paid",createdAt:Bc(),providerId:u?.id||null,providerName:u?.fullName||"To be assigned",providerProfile:{fullName:u?.fullName||"",bio:u?.bio||"",rating:u?.rating||"New"}},P=await cu(Je(xe,"bookings"),V);e("/customer/confirmation",{state:{booking:{id:P.id,...V,date:h}}})}catch(V){console.error("Error creating booking:",V),alert("Failed to create booking. Please try again.")}finally{j(!1)}}};return!l||!h||!m||!v?r.jsxs("div",{className:"container",style:{padding:"4rem",textAlign:"center"},children:[r.jsx("h3",{children:"Missing Booking Information"}),r.jsx("p",{children:"Please go back and complete all steps."}),r.jsx("button",{onClick:()=>e("/customer/book-service"),className:"btn btn-primary",style:{marginTop:"1rem"},children:"Go Back"})]}):r.jsxs("div",{className:"checkout-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Confirm Booking"}),r.jsx("p",{children:"Ready to meet your professional?"})]}),r.jsxs("div",{className:"steps-indicator",children:[r.jsxs("div",{className:"step completed",children:[r.jsx("span",{children:""}),"Service"]}),r.jsxs("div",{className:"step completed",children:[r.jsx("span",{children:""}),"Schedule"]}),r.jsxs("div",{className:"step completed",children:[r.jsx("span",{children:""}),"Address"]}),r.jsxs("div",{className:"step active",children:[r.jsx("span",{children:"4"}),"Checkout"]})]}),r.jsxs("div",{className:"checkout-layout",children:[r.jsxs("div",{className:"checkout-main",children:[u&&r.jsxs("div",{className:"card professional-summary-card",children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"1rem"},children:[r.jsx(r_,{size:20,color:"var(--primary-600)"}),r.jsx("h3",{style:{margin:0},children:"Assigned Professional"})]}),r.jsxs("div",{className:"provider-mini-profile",children:[r.jsx("div",{className:"mini-avatar",children:u.profileImage?r.jsx("img",{src:u.profileImage,alt:""}):r.jsx(Mn,{size:24})}),r.jsxs("div",{className:"mini-details",children:[r.jsxs("div",{className:"name-row",children:[r.jsx("strong",{children:u.fullName}),r.jsxs("span",{className:"rating-tag",children:[r.jsx(cn,{size:12,fill:"#FBBF24",color:"#FBBF24"})," ",u.rating||"New"]})]}),r.jsx("p",{className:"mini-bio",children:u.bio||"Top-rated professional for "+l.name})]})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Job Details"}),r.jsxs("div",{className:"summary-item",children:[r.jsx("span",{children:"Service"}),r.jsx("strong",{children:l.name})]}),r.jsxs("div",{className:"summary-item",children:[r.jsx(ht,{size:16}),r.jsx("span",{children:h})]}),r.jsxs("div",{className:"summary-item",children:[r.jsx(St,{size:16}),r.jsx("span",{children:m})]}),r.jsxs("div",{className:"summary-item",children:[r.jsx(Dn,{size:16}),r.jsx("span",{children:v.address})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Payment Method"}),r.jsxs("div",{className:"payment-options",children:[r.jsxs("label",{className:`payment-option ${g==="card"?"selected":""}`,children:[r.jsx("input",{type:"radio",name:"payment",checked:g==="card",onChange:()=>x("card")}),r.jsx(Go,{size:20}),r.jsx("span",{children:"Credit/Debit Card"})]}),r.jsxs("label",{className:`payment-option ${g==="upi"?"selected":""}`,children:[r.jsx("input",{type:"radio",name:"payment",checked:g==="upi",onChange:()=>x("upi")}),r.jsx("span",{children:"UPI Transfer"})]})]})]})]}),r.jsx("div",{className:"checkout-sidebar",children:r.jsxs("div",{className:"card order-summary",children:[r.jsx("h3",{children:"Order Total"}),r.jsxs("div",{className:"price-row",children:[r.jsx("span",{children:"Service Price"}),r.jsxs("span",{children:["$",S]})]}),r.jsxs("div",{className:"price-row",children:[r.jsx("span",{children:"Service Fee"}),r.jsxs("span",{children:["$",I]})]}),r.jsxs("div",{className:"price-row total",children:[r.jsx("span",{children:"Total Payable"}),r.jsxs("span",{children:["$",C]})]}),r.jsx("button",{onClick:M,disabled:_,className:"btn btn-primary btn-lg",style:{width:"100%",marginTop:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:_?r.jsxs(r.Fragment,{children:[r.jsx(De,{size:20,className:"animate-spin"})," Finalizing..."]}):"Confirm & Pay"}),r.jsxs("div",{className:"secure-badge",children:[r.jsx(Qc,{size:16})," Secure Payment Protected"]})]})})]}),r.jsx("style",{children:`
        .checkout-page { max-width: 1000px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-3xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .steps-indicator { display: flex; justify-content: space-between; margin-bottom: var(--space-8); padding: var(--space-4); background: white; border-radius: var(--radius-xl); box-shadow: var(--shadow-sm); }
        .step { display: flex; align-items: center; gap: var(--space-2); color: var(--gray-400); font-size: var(--text-sm); }
        .step span { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; background: var(--gray-100); border-radius: 50%; font-weight: var(--font-semibold); }
        .step.active { color: var(--primary-600); }
        .step.active span { background: var(--primary-600); color: white; }
        .step.completed span { background: var(--success); color: white; }
        
        .professional-summary-card { border: 1px solid var(--primary-100); background: var(--primary-50); }
        .provider-mini-profile { display: flex; gap: var(--space-4); align-items: center; }
        .mini-avatar { width: 60px; height: 60px; border-radius: 50%; background: white; display: flex; align-items: center; justify-content: center; overflow: hidden; border: 2px solid white; box-shadow: var(--shadow-sm); }
        .mini-avatar img { width: 100%; height: 100%; object-fit: cover; }
        .mini-details { flex: 1; }
        .name-row { display: flex; align-items: center; gap: 8px; margin-bottom: 2px; }
        .rating-tag { font-size: 11px; font-weight: bold; background: white; padding: 2px 8px; border-radius: 10px; display: flex; align-items: center; gap: 4px; border: 1px solid var(--gray-100); }
        .mini-bio { font-size: 13px; color: var(--gray-600); line-height: 1.4; }

        .checkout-layout { display: grid; grid-template-columns: 1fr 350px; gap: var(--space-8); }
        .checkout-main { display: flex; flex-direction: column; gap: var(--space-6); }
        .checkout-main h3 { margin-bottom: var(--space-4); }
        .summary-item { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-4) 0; border-bottom: 1px solid var(--gray-100); color: var(--gray-600); font-size: var(--text-sm); }
        .summary-item:last-child { border-bottom: none; }
        .summary-item strong { margin-left: auto; color: var(--gray-900); }
        .payment-options { display: flex; flex-direction: column; gap: var(--space-3); }
        .payment-option { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-4); border: 2px solid var(--gray-200); border-radius: var(--radius-lg); cursor: pointer; transition: 0.2s; }
        .payment-option.selected { border-color: var(--primary-600); background: var(--primary-50); }
        .order-summary h3 { margin-bottom: var(--space-4); }
        .price-row { display: flex; justify-content: space-between; padding: var(--space-3) 0; border-bottom: 1px solid var(--gray-100); color: var(--gray-600); }
        .price-row.total { border-bottom: none; padding-top: var(--space-4); font-size: var(--text-xl); font-weight: var(--font-bold); color: var(--gray-900); }
        .secure-badge { display: flex; align-items: center; justify-content: center; gap: var(--space-2); margin-top: var(--space-6); font-size: var(--text-xs); color: var(--gray-400); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 1024px) { .checkout-layout { grid-template-columns: 1fr; } }
      `})]})},TD=()=>{const s=On(),{booking:e}=s.state||{},n=e||{id:"B"+Math.floor(1e5+Math.random()*9e5),service:"Service",provider:"To be assigned",date:"---",time:"---",address:"---",total:0};return r.jsxs("div",{className:"confirmation-page",children:[r.jsxs("div",{className:"confirmation-card card",children:[r.jsx("div",{className:"success-icon",children:r.jsx(vt,{size:64})}),r.jsx("h1",{children:"Booking Confirmed!"}),r.jsxs("p",{className:"booking-id",children:["Booking ID: ",r.jsx("strong",{children:n.id})]}),r.jsxs("div",{className:"booking-details",children:[r.jsx("h3",{children:"Booking Details"}),r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{children:"Service"}),r.jsx("strong",{children:n.service})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{children:"Provider"}),r.jsx("strong",{children:n.provider})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx(ht,{size:16}),r.jsx("span",{children:n.date})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx(St,{size:16}),r.jsx("span",{children:n.time})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx(Dn,{size:16}),r.jsx("span",{children:n.address})]}),r.jsxs("div",{className:"detail-item total",children:[r.jsx("span",{children:"Total Paid"}),r.jsxs("strong",{children:["$",n.total]})]})]}),r.jsxs("div",{className:"confirmation-actions",children:[r.jsx(oe,{to:"/customer/bookings",className:"btn btn-primary",children:"View My Bookings"}),r.jsxs(oe,{to:"/customer",className:"btn btn-secondary",children:[r.jsx(d_,{size:18})," Back to Dashboard"]})]}),r.jsx("p",{className:"confirmation-note",children:"A confirmation email has been sent to your registered email address."})]}),r.jsx("style",{children:`
        .confirmation-page { display: flex; align-items: center; justify-content: center; min-height: 60vh; padding: var(--space-8); }
        .confirmation-card { max-width: 500px; text-align: center; padding: var(--space-10); width: 100%; }
        .success-icon { color: var(--success); margin-bottom: var(--space-6); display: flex; justify-content: center; }
        .confirmation-card h1 { font-size: var(--text-3xl); margin-bottom: var(--space-2); }
        .booking-id { color: var(--gray-500); margin-bottom: var(--space-8); }
        .booking-details { background: var(--gray-50); border-radius: var(--radius-lg); padding: var(--space-5); margin-bottom: var(--space-8); text-align: left; }
        .booking-details h3 { font-size: var(--text-base); margin-bottom: var(--space-4); text-align: center; }
        .detail-item { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-2) 0; color: var(--gray-600); font-size: var(--text-sm); }
        .detail-item strong { margin-left: auto; color: var(--gray-900); text-align: right; }
        .detail-item.total { border-top: 1px solid var(--gray-200); padding-top: var(--space-4); margin-top: var(--space-2); font-weight: var(--font-semibold); }
        .detail-item.total strong { color: var(--primary-600); font-size: var(--text-lg); }
        .confirmation-actions { display: flex; flex-direction: column; gap: var(--space-3); }
        .confirmation-note { margin-top: var(--space-6); font-size: var(--text-sm); color: var(--gray-500); }
        @media (max-width: 768px) { .confirmation-card { padding: var(--space-6); } }
      `})]})},SD=()=>{const{currentUser:s}=xt(),[e,n]=T.useState("all"),[i,l]=T.useState([]),[u,h]=T.useState(!0);T.useEffect(()=>{(async()=>{if(s){h(!0);try{const _=wt(Je(xe,"bookings"),Dt("userId","==",s.uid)),S=(await lt(_)).docs.map(I=>({id:I.id,...I.data()})).sort((I,C)=>{const M=I.createdAt?.seconds||0;return(C.createdAt?.seconds||0)-M});l(S)}catch(_){console.error("Error fetching bookings:",_)}finally{h(!1)}}})()},[s]);const m=["all","upcoming","pending","completed","cancelled"],v=e==="all"?i:i.filter(x=>e==="upcoming"?x.status==="upcoming"||x.status==="pending":x.status===e),g={upcoming:"badge-info",pending:"badge-warning",completed:"badge-success",cancelled:"badge-error"};return r.jsxs("div",{className:"my-bookings-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"My Bookings"}),r.jsx("p",{children:"View and manage your service bookings"})]}),r.jsx("div",{className:"toolbar",children:r.jsx("div",{className:"tabs",children:m.map(x=>r.jsx("button",{className:`tab ${e===x?"active":""}`,onClick:()=>n(x),children:x.charAt(0).toUpperCase()+x.slice(1)},x))})}),r.jsxs("div",{className:"bookings-list",children:[u?r.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:r.jsx(De,{className:"animate-spin",size:40})}):v.map(x=>r.jsxs(oe,{to:`/customer/bookings/${x.id}`,className:"card booking-card",children:[r.jsx("div",{className:"booking-image-wrapper",children:x.serviceImage?r.jsx("img",{src:x.serviceImage,alt:x.serviceName}):r.jsx("div",{className:"booking-placeholder",children:r.jsx(ht,{size:32})})}),r.jsxs("div",{className:"booking-info",children:[r.jsx("h3",{children:x.serviceName}),r.jsxs("p",{children:["Provider: ",x.providerName||"To be assigned"]}),r.jsxs("div",{className:"booking-meta",children:[r.jsxs("span",{children:[r.jsx(ht,{size:14})," ",x.date]}),r.jsxs("span",{children:[r.jsx(St,{size:14})," ",x.time]})]})]}),r.jsxs("div",{className:"booking-end",children:[r.jsx("span",{className:`badge ${g[x.status]||"badge-warning"}`,children:x.status}),r.jsxs("span",{className:"price",children:["$",x.total]})]})]},x.id)),!u&&v.length===0&&r.jsxs("div",{className:"empty-state-card",style:{textAlign:"center",padding:"var(--space-12)",background:"var(--gray-50)",borderRadius:"var(--radius-xl)",border:"2px dashed var(--gray-200)"},children:[r.jsx(NT,{size:48,style:{margin:"0 auto var(--space-4)",color:"var(--gray-300)"}}),r.jsxs("p",{style:{color:"var(--gray-500)"},children:["No ",e!=="all"?e:""," bookings found."]}),r.jsx(oe,{to:"/customer/book-service",className:"btn btn-primary btn-sm",style:{marginTop:"var(--space-4)"},children:"Book a Service"})]})]}),r.jsx("style",{children:`
        .my-bookings-page { max-width: 900px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .toolbar { margin-bottom: var(--space-6); overflow-x: auto; padding-bottom: var(--space-2); }
        .tabs { display: flex; gap: var(--space-2); min-width: max-content; }
        .tab { padding: var(--space-2) var(--space-4); border-radius: var(--radius-full); background: white; border: 1px solid var(--gray-200); cursor: pointer; color: var(--gray-600); transition: 0.2s; white-space: nowrap; }
        .tab.active { background: var(--primary-600); border-color: var(--primary-600); color: white; }
        .bookings-list { display: flex; flex-direction: column; gap: var(--space-4); }
        .booking-card { display: flex; align-items: center; gap: var(--space-4); padding: var(--space-4); text-decoration: none; color: inherit; }
        .booking-image-wrapper { width: 80px; height: 80px; border-radius: var(--radius-lg); overflow: hidden; }
        .booking-card img { width: 100%; height: 100%; object-fit: cover; }
        .booking-placeholder { width: 100%; height: 100%; background: var(--gray-100); display: flex; align-items: center; justify-content: center; color: var(--gray-400); }
        .booking-info { flex: 1; }
        .booking-info h3 { font-size: var(--text-lg); margin-bottom: var(--space-1); }
        .booking-info p { font-size: var(--text-sm); color: var(--gray-500); margin-bottom: var(--space-2); }
        .booking-meta { display: flex; gap: var(--space-4); font-size: var(--text-sm); color: var(--gray-500); }
        .booking-meta span { display: flex; align-items: center; gap: var(--space-1); }
        .booking-end { text-align: right; }
        .booking-end .price { display: block; font-size: var(--text-lg); font-weight: var(--font-bold); color: var(--primary-600); margin-top: var(--space-2); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 768px) { .booking-card { flex-wrap: wrap; } }
      `})]})},AD=()=>{const{currentUser:s,userData:e}=xt(),{bookingId:n}=Hc(),[i,l]=T.useState(null),[u,h]=T.useState(!0),[m,v]=T.useState(!1),[g,x]=T.useState(!1),[_,j]=T.useState(!1),[S,I]=T.useState(0),[C,M]=T.useState(""),[V,P]=T.useState(""),[H,ee]=T.useState(""),[re,W]=T.useState(null);T.useEffect(()=>{(async()=>{try{const U=gt(xe,"bookings",n),O=await Pi(U);if(O.exists()&&(l({id:O.id,...O.data()}),P(O.data().date),ee(O.data().time),O.data().providerId)){const Be=await Pi(gt(xe,"users",O.data().providerId));Be.exists()&&W(Be.data())}}catch(U){console.error("Error fetching booking details:",U)}finally{h(!1)}})()},[n]);const R=async()=>{if(window.confirm("Are you sure you want to cancel this booking?")){v(!0);try{const k=gt(xe,"bookings",n);await Ms(k,{status:"cancelled",updatedAt:new Date().toISOString()}),l(U=>({...U,status:"cancelled"})),alert("Booking cancelled successfully.")}catch(k){console.error("Error cancelling booking:",k),alert("Failed to cancel booking.")}finally{v(!1)}}},A=async()=>{if(!V||!H){alert("Please select both date and time.");return}v(!0);try{const k=gt(xe,"bookings",n),U={date:V,time:H,updatedAt:new Date().toISOString()};i.status==="upcoming"&&(U.status="pending"),await Ms(k,U),l(O=>({...O,...U})),x(!1),U.status==="pending"?alert("Booking rescheduled! The provider will need to confirm the new time."):alert("Booking rescheduled successfully.")}catch(k){console.error("Error rescheduling booking:",k),alert("Failed to reschedule booking.")}finally{v(!1)}},D=async()=>{if(S===0){alert("Please select a rating.");return}v(!0);try{await cu(Je(xe,"reviews"),{bookingId:n,providerId:i.providerId,customerId:s.uid,customerName:e?.fullName||"Customer",customerAvatar:e?.profileImage||"",serviceName:i.serviceName,rating:S,comment:C,createdAt:Bc()});const k=gt(xe,"bookings",n);await Ms(k,{isReviewed:!0});try{const U=wt(Je(xe,"reviews"),Dt("providerId","==",i.providerId)),Be=(await lt(U)).docs.map(ve=>ve.data()),bt=Be.reduce((ve,qe)=>ve+(Number(qe.rating)||0),0),Q=Be.length>0?(bt/Be.length).toFixed(1):0,le=gt(xe,"users",i.providerId);await Ms(le,{rating:parseFloat(Q),reviewCount:Be.length})}catch(U){console.error("Failed to update provider rating stats:",U)}l(U=>({...U,isReviewed:!0})),j(!1),alert("Thank you for your review!")}catch(k){console.error("Error submitting review:",k),alert("Failed to submit review. Please try again.")}finally{v(!1)}};if(u)return r.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"10rem"},children:r.jsx(De,{className:"animate-spin",size:48})});if(!i)return r.jsxs("div",{className:"container",style:{padding:"4rem",textAlign:"center"},children:[r.jsx("h3",{children:"Booking Not Found"}),r.jsx(oe,{to:"/customer/bookings",className:"btn btn-primary",children:"Back to Bookings"})]});const L=i.status!=="completed"&&i.status!=="cancelled";return console.log("Render: BookingDetails",{showRescheduleModal:g,actionLoading:m,canAction:L}),r.jsxs("div",{className:"booking-details-page",children:[r.jsxs(oe,{to:"/customer/bookings",className:"back-link",children:[r.jsx(Cc,{size:18})," Back to Bookings"]}),r.jsxs("div",{className:"details-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:i.serviceName}),r.jsxs("p",{style:{color:"var(--gray-500)"},children:["Booking #",i.id]})]}),r.jsxs("div",{className:"header-actions",children:[i.status==="completed"&&!i.isReviewed&&r.jsxs("button",{className:"btn btn-primary",onClick:()=>j(!0),disabled:m,style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(cn,{size:18,fill:"currentColor"})," Leave a Review"]}),i.isReviewed&&r.jsxs("button",{className:"btn btn-outline",disabled:!0,style:{color:"var(--success)",borderColor:"var(--success)"},children:[r.jsx(vt,{size:18})," Review Submitted"]}),L&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"btn btn-secondary",onClick:()=>{console.log("Reschedule button clicked. Setting state to true."),x(!0)},disabled:m,children:"Reschedule"}),r.jsx("button",{className:"btn btn-outline",style:{color:"var(--error)",borderColor:"var(--error)"},onClick:R,disabled:m,children:m?r.jsx(De,{size:16,className:"animate-spin"}):"Cancel"})]})]})]}),r.jsxs("div",{className:"details-grid",children:[r.jsxs("div",{className:"main-content",children:[r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Service Details"}),r.jsxs("div",{className:"detail-row",children:[r.jsx("span",{children:"Service"}),r.jsx("strong",{children:i.serviceName})]}),r.jsxs("div",{className:"detail-row",children:[r.jsx(ht,{size:16}),r.jsx("span",{children:i.date})]}),r.jsxs("div",{className:"detail-row",children:[r.jsx(St,{size:16}),r.jsx("span",{children:i.time})]}),r.jsxs("div",{className:"detail-row",children:[r.jsx(Dn,{size:16}),r.jsx("span",{children:i.address})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Service Provider"}),r.jsxs("div",{className:"provider-info",children:[r.jsx("div",{className:"avatar-placeholder",children:r.jsx(Mn,{size:32})}),r.jsxs("div",{children:[r.jsx("h4",{children:i.providerName||"To be assigned"}),r.jsxs("div",{className:"provider-meta",children:[r.jsxs("span",{children:[r.jsx(cn,{size:14,fill:"#FBBF24",color:"#FBBF24"})," ",re?.rating||"New"]}),r.jsxs("span",{children:[r.jsx(Yc,{size:14})," ---"]})]})]})]}),r.jsx("button",{className:"btn btn-secondary",style:{width:"100%",marginTop:"var(--space-4)"},disabled:!0,children:"Contact Provider"})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Payment Summary"}),r.jsxs("div",{className:"price-row",children:[r.jsx("span",{children:"Service Price"}),r.jsxs("span",{children:["$",i.price]})]}),r.jsxs("div",{className:"price-row",children:[r.jsx("span",{children:"Service Fee"}),r.jsxs("span",{children:["$",i.serviceFee]})]}),r.jsxs("div",{className:"price-row total",children:[r.jsx("span",{children:"Total Paid"}),r.jsxs("span",{children:["$",i.total]})]})]})]}),r.jsx("div",{className:"sidebar-content",children:r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Booking Status"}),r.jsxs("div",{className:"status-timeline",children:[r.jsxs("div",{className:"status-point active",children:[r.jsx(vt,{size:20}),r.jsxs("div",{children:[r.jsx("strong",{children:"Booking Placed"}),r.jsx("p",{children:"Your request has been received"})]})]}),r.jsxs("div",{className:`status-point ${i.status!=="pending"?"active":""}`,children:[r.jsx(vt,{size:20}),r.jsxs("div",{children:[r.jsx("strong",{children:"Provider Assigned"}),r.jsx("p",{children:i.providerId?"Expert assigned":"Finding the best expert..."})]})]})]})]})})]}),r.jsx("style",{children:`
        .booking-details-page { max-width: 1100px; margin: 0 auto; }
        .back-link { display: inline-flex; align-items: center; gap: var(--space-2); color: var(--gray-600); margin-bottom: var(--space-6); }
        .back-link:hover { color: var(--primary-600); }
        .details-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-8); }
        .details-header h1 { font-size: var(--text-2xl); margin-bottom: 4px; }
        .header-actions { display: flex; gap: var(--space-3); }
        .details-grid { display: grid; grid-template-columns: 1fr 350px; gap: var(--space-6); }
        .main-content { display: flex; flex-direction: column; gap: var(--space-6); }
        .main-content h3 { margin-bottom: var(--space-4); border-bottom: 1px solid var(--gray-100); padding-bottom: var(--space-2); }
        .detail-row { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3) 0; border-bottom: 1px solid var(--gray-50); color: var(--gray-600); font-size: var(--text-sm); }
        .detail-row:last-child { border-bottom: none; }
        .detail-row strong { margin-left: auto; color: var(--gray-900); }
        .provider-info { display: flex; gap: var(--space-4); align-items: center; }
        .avatar-placeholder { width: 56px; height: 56px; border-radius: var(--radius-lg); background: var(--gray-100); display: flex; align-items: center; justify-content: center; color: var(--gray-400); }
        .provider-meta { display: flex; gap: var(--space-4); font-size: var(--text-sm); color: var(--gray-500); }
        .provider-meta span { display: flex; align-items: center; gap: var(--space-1); }
        .price-row { display: flex; justify-content: space-between; padding: var(--space-3) 0; border-bottom: 1px solid var(--gray-100); }
        .price-row.total { border: none; font-size: var(--text-lg); font-weight: var(--font-bold); color: var(--primary-600); }
        .sidebar-content h3 { margin-bottom: var(--space-4); }
        .status-timeline { display: flex; flex-direction: column; gap: var(--space-6); position: relative; padding-left: 10px; }
        .status-point { display: flex; gap: var(--space-4); color: var(--gray-400); }
        .status-point.active { color: var(--success); }
        .status-point strong { display: block; color: var(--gray-900); font-size: var(--text-sm); }
        .status-point p { font-size: var(--text-xs); color: var(--gray-500); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        
        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 10000; backdrop-filter: blur(4px); }
        .modal-content { width: 100%; max-width: 450px; padding: var(--space-8); background: white; border-radius: var(--radius-xl); box-shadow: var(--shadow-2xl); }
        
        @media (max-width: 1024px) { .details-grid { grid-template-columns: 1fr; } }
      `}),g&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,backdropFilter:"blur(4px)"},onClick:()=>x(!1),children:r.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",width:"90%",maxWidth:"450px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:k=>k.stopPropagation(),children:[r.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"Reschedule Booking"}),r.jsx("p",{style:{color:"#6B7280",marginBottom:"1.5rem"},children:"Choose a new date and time for your service"}),r.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[r.jsx("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"New Date"}),r.jsx("input",{type:"date",className:"form-input",value:V,onChange:k=>P(k.target.value),min:new Date().toISOString().split("T")[0],style:{width:"100%",padding:"0.5rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB"}})]}),r.jsxs("div",{className:"form-group",style:{marginBottom:"2rem"},children:[r.jsx("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"New Time"}),r.jsxs("select",{className:"form-input",value:H,onChange:k=>ee(k.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB"},children:[r.jsx("option",{value:"",disabled:!0,children:"Select a time"}),["9:00 AM","10:00 AM","11:00 AM","12:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM"].map(k=>r.jsx("option",{value:k,children:k},k))]})]}),r.jsxs("div",{className:"modal-actions",style:{display:"flex",gap:"1rem"},children:[r.jsx("button",{className:"btn btn-secondary",onClick:()=>x(!1),style:{flex:1,padding:"0.5rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB",background:"white"},children:"Cancel"}),r.jsx("button",{className:"btn btn-primary",onClick:A,disabled:m,style:{flex:1,padding:"0.5rem",borderRadius:"0.375rem",background:"#4F46E5",color:"white",border:"none"},children:m?r.jsx(De,{className:"animate-spin",size:18}):"Confirm Reschedule"})]})]})}),_&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,backdropFilter:"blur(4px)"},onClick:()=>j(!1),children:r.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",width:"90%",maxWidth:"450px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:k=>k.stopPropagation(),children:[r.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"Rate Your Service"}),r.jsxs("p",{style:{color:"#6B7280",marginBottom:"1.5rem"},children:["How was your experience with ",i.providerName,"?"]}),r.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"1.5rem"},children:[1,2,3,4,5].map(k=>r.jsx(cn,{size:32,fill:k<=S?"#FBBF24":"none",color:k<=S?"#FBBF24":"#D1D5DB",style:{cursor:"pointer",transition:"transform 0.1s"},onClick:()=>I(k),onMouseEnter:U=>U.currentTarget.style.transform="scale(1.1)",onMouseLeave:U=>U.currentTarget.style.transform="scale(1)"},k))}),r.jsxs("div",{className:"form-group",style:{marginBottom:"2rem"},children:[r.jsx("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Your Comment"}),r.jsx("textarea",{className:"form-input",value:C,onChange:k=>M(k.target.value),placeholder:"Tell us what you liked...",rows:4,style:{width:"100%",padding:"0.5rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB"}})]}),r.jsxs("div",{className:"modal-actions",style:{display:"flex",gap:"1rem"},children:[r.jsx("button",{className:"btn btn-secondary",onClick:()=>j(!1),style:{flex:1,padding:"0.5rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB",background:"white"},children:"Cancel"}),r.jsx("button",{className:"btn btn-primary",onClick:D,disabled:m||S===0,style:{flex:1,padding:"0.5rem",borderRadius:"0.375rem",background:"#4F46E5",color:"white",border:"none"},children:m?r.jsx(De,{className:"animate-spin",size:18}):"Submit Review"})]})]})})]})},CD=()=>{const{userData:s,updateProfileData:e,changePassword:n,reauthenticate:i}=xt(),[l,u]=T.useState(!1),[h,m]=T.useState(!1),[v,g]=T.useState({type:"",text:""}),[x,_]=T.useState({type:"",text:""}),[j,S]=T.useState({firstName:"",lastName:"",phone:""}),[I,C]=T.useState({currentPassword:"",newPassword:"",confirmPassword:""});T.useEffect(()=>{if(s){const[re,...W]=(s.fullName||"").split(" ");S({firstName:re||"",lastName:W.join(" ")||"",phone:s.phone||""})}},[s]);const M=re=>{S({...j,[re.target.name]:re.target.value})},V=re=>{C({...I,[re.target.name]:re.target.value})},P=async re=>{re.preventDefault(),u(!0),g({type:"",text:""});try{await e({fullName:`${j.firstName} ${j.lastName}`.trim(),phone:j.phone}),g({type:"success",text:"Profile updated successfully!"})}catch(W){console.error("Update error",W),g({type:"error",text:"Failed to update profile."})}finally{u(!1)}},H=async re=>{if(re.preventDefault(),I.newPassword!==I.confirmPassword)return _({type:"error",text:"Passwords do not match."});if(I.newPassword.length<6)return _({type:"error",text:"Password should be at least 6 characters."});m(!0),_({type:"",text:""});try{await i(I.currentPassword),await n(I.newPassword),_({type:"success",text:"Password updated successfully!"}),C({currentPassword:"",newPassword:"",confirmPassword:""})}catch(W){console.error("Password update error",W),W.code==="auth/wrong-password"?_({type:"error",text:"Incorrect current password."}):_({type:"error",text:"Failed to update password. Try logging in again."})}finally{m(!1)}},ee={name:s?.fullName||"",email:s?.email||"",phone:s?.phone||"",avatar:s?.avatar||null};return r.jsxs("div",{className:"profile-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"My Profile"}),r.jsx("p",{children:"Manage your account information"})]}),v.text&&r.jsx("div",{className:`alert ${v.type==="success"?"alert-success":"alert-error"}`,style:{marginBottom:"var(--space-6)",padding:"var(--space-4)",borderRadius:"var(--radius-lg)",background:v.type==="success"?"var(--success-50)":"var(--error-50)",color:v.type==="success"?"var(--success-700)":"var(--error-700)",border:`1px solid ${v.type==="success"?"var(--success-200)":"var(--error-200)"}`},children:v.text}),r.jsxs("div",{className:"profile-content",children:[r.jsxs("div",{className:"card avatar-section",children:[r.jsxs("div",{className:"avatar-wrapper",children:[r.jsx("div",{className:"avatar avatar-xl",children:ee.avatar?r.jsx("img",{src:ee.avatar,alt:ee.name}):ee.name?ee.name.charAt(0):r.jsx(Mn,{})}),r.jsx("button",{className:"avatar-edit",children:r.jsx(i_,{size:16})})]}),r.jsx("h3",{children:ee.name||"User"}),r.jsx("p",{children:ee.email})]}),r.jsxs("div",{className:"card form-section",children:[r.jsx("h3",{children:"Personal Information"}),r.jsxs("form",{onSubmit:P,children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"First Name"}),r.jsx("input",{type:"text",name:"firstName",className:"form-input",value:j.firstName,onChange:M})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Last Name"}),r.jsx("input",{type:"text",name:"lastName",className:"form-input",value:j.lastName,onChange:M})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Email Address"}),r.jsx("input",{type:"email",className:"form-input",value:ee.email,disabled:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Phone Number"}),r.jsx("input",{type:"tel",name:"phone",className:"form-input",value:j.phone,onChange:M})]}),r.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?r.jsxs(r.Fragment,{children:[r.jsx(De,{size:18,className:"animate-spin"})," Saving..."]}):"Save Changes"})]})]}),r.jsxs("div",{className:"card form-section",children:[r.jsx("h3",{children:"Change Password"}),x.text&&r.jsx("div",{className:`alert ${x.type==="success"?"alert-success":"alert-error"}`,style:{marginBottom:"var(--space-4)",padding:"var(--space-3)",borderRadius:"var(--radius-md)",background:x.type==="success"?"var(--success-50)":"var(--error-50)",color:x.type==="success"?"var(--success-700)":"var(--error-700)",border:`1px solid ${x.type==="success"?"var(--success-200)":"var(--error-200)"}`},children:x.text}),r.jsxs("form",{onSubmit:H,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Current Password"}),r.jsx("input",{type:"password",name:"currentPassword",className:"form-input",placeholder:"Enter current password",value:I.currentPassword,onChange:V,required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"New Password"}),r.jsx("input",{type:"password",name:"newPassword",className:"form-input",placeholder:"Enter new password (min 6 chars)",value:I.newPassword,onChange:V,required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Confirm Password"}),r.jsx("input",{type:"password",name:"confirmPassword",className:"form-input",placeholder:"Confirm new password",value:I.confirmPassword,onChange:V,required:!0})]}),r.jsx("button",{type:"submit",className:"btn btn-secondary",disabled:h,children:h?r.jsxs(r.Fragment,{children:[r.jsx(De,{size:18,className:"animate-spin"})," Updating..."]}):"Update Password"})]})]})]}),r.jsx("style",{children:`
        .profile-page { max-width: 800px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .profile-content { display: flex; flex-direction: column; gap: var(--space-6); }
        .avatar-section { text-align: center; padding: var(--space-8); }
        .avatar-wrapper { position: relative; display: inline-block; margin-bottom: var(--space-4); }
        .avatar-edit { position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; background: var(--primary-600); color: white; border: 3px solid white; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .avatar-section h3 { margin-bottom: var(--space-1); }
        .avatar-section p { color: var(--gray-500); }
        .form-section h3 { margin-bottom: var(--space-5); }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); }
        @media (max-width: 768px) { .form-row { grid-template-columns: 1fr; } }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `})]})},RD=()=>{const{currentUser:s}=xt(),[e,n]=T.useState([]),[i,l]=T.useState(!0),[u,h]=T.useState(!1),[m,v]=T.useState(null),[g,x]=T.useState(!1),[_,j]=T.useState({label:"",address:"",city:"",zip:"",isDefault:!1}),S=async()=>{if(s){l(!0);try{const P=Je(xe,"users",s.uid,"addresses"),H=wt(P,af("isDefault","desc")),ee=await lt(H);n(ee.docs.map(re=>({id:re.id,...re.data()})))}catch(P){console.error("Error fetching addresses:",P)}finally{l(!1)}}};T.useEffect(()=>{S()},[s]);const I=async P=>{if(P.preventDefault(),!!s){x(!0);try{const H=Je(xe,"users",s.uid,"addresses");if(_.isDefault){const ee=A1(xe);e.forEach(re=>{re.isDefault&&ee.update(gt(xe,"users",s.uid,"addresses",re.id),{isDefault:!1})}),await ee.commit()}m?await Ms(gt(xe,"users",s.uid,"addresses",m.id),_):await cu(H,_),h(!1),v(null),j({label:"",address:"",city:"",zip:"",isDefault:!1}),await S()}catch(H){console.error("Error saving address:",H)}finally{x(!1)}}},C=async P=>{if(!(!s||!window.confirm("Are you sure you want to delete this address?")))try{await x5(gt(xe,"users",s.uid,"addresses",P)),await S()}catch(H){console.error("Error deleting address:",H)}},M=async P=>{if(s)try{const H=A1(xe);e.forEach(ee=>{H.update(gt(xe,"users",s.uid,"addresses",ee.id),{isDefault:ee.id===P})}),await H.commit(),await S()}catch(H){console.error("Error setting default address:",H)}},V=P=>{v(P),j({label:P.label,address:P.address,city:P.city,zip:P.zip,isDefault:P.isDefault}),h(!0)};return r.jsxs("div",{className:"addresses-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Saved Addresses"}),r.jsx("p",{children:"Manage your delivery addresses"})]}),!u&&r.jsxs("button",{className:"btn btn-primary",onClick:()=>h(!0),children:[r.jsx(Mr,{size:18})," Add New"]})]}),u&&r.jsxs("div",{className:"card form-card",style:{marginBottom:"var(--space-8)"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--space-4)"},children:[r.jsx("h3",{children:m?"Edit Address":"Add New Address"}),r.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>{h(!1),v(null)},children:r.jsx(nl,{size:20})})]}),r.jsxs("form",{onSubmit:I,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Label (e.g., Home, Office)"}),r.jsx("input",{type:"text",className:"form-input",value:_.label,onChange:P=>j({..._,label:P.target.value}),required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Street Address"}),r.jsx("input",{type:"text",className:"form-input",value:_.address,onChange:P=>j({..._,address:P.target.value}),required:!0})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"City"}),r.jsx("input",{type:"text",className:"form-input",value:_.city,onChange:P=>j({..._,city:P.target.value}),required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"ZIP Code"}),r.jsx("input",{type:"text",className:"form-input",value:_.zip,onChange:P=>j({..._,zip:P.target.value}),required:!0})]})]}),r.jsxs("div",{className:"form-group checkbox-group",style:{display:"flex",alignItems:"center",gap:"var(--space-2)",marginTop:"var(--space-2)"},children:[r.jsx("input",{type:"checkbox",id:"isDefault",checked:_.isDefault,onChange:P=>j({..._,isDefault:P.target.checked})}),r.jsx("label",{htmlFor:"isDefault",className:"form-label",style:{marginBottom:0},children:"Set as default address"})]}),r.jsxs("div",{style:{display:"flex",gap:"var(--space-3)",marginTop:"var(--space-6)"},children:[r.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?r.jsx(De,{className:"animate-spin",size:18}):"Save Address"}),r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{h(!1),v(null)},children:"Cancel"})]})]})]}),r.jsxs("div",{className:"addresses-grid",children:[i?r.jsx("div",{style:{gridColumn:"span 2",textAlign:"center",padding:"var(--space-12)"},children:r.jsx(De,{className:"animate-spin",size:40})}):e.map(P=>r.jsxs("div",{className:`card address-card ${P.isDefault?"default-card":""}`,children:[r.jsxs("div",{className:"address-header",children:[r.jsx("div",{className:"address-icon",children:r.jsx(Dn,{size:20})}),r.jsxs("div",{className:"address-label",children:[r.jsx("h4",{children:P.label}),P.isDefault&&r.jsx("span",{className:"badge badge-success",children:"Primary"})]}),r.jsxs("div",{className:"address-actions",children:[r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",onClick:()=>V(P),children:r.jsx(Li,{size:16})}),r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",onClick:()=>C(P.id),children:r.jsx(tl,{size:16})})]})]}),r.jsxs("div",{className:"address-details",children:[r.jsx("p",{className:"main-address",children:P.address}),r.jsxs("p",{className:"sub-address",children:[P.city,", ",P.zip]})]}),!P.isDefault&&r.jsx("button",{className:"btn btn-ghost btn-sm set-default-btn",onClick:()=>M(P.id),children:"Set as Default"})]},P.id)),!i&&e.length===0&&!u&&r.jsxs("div",{className:"empty-state-card",style:{gridColumn:"span 2",textAlign:"center",padding:"var(--space-12)",background:"var(--gray-50)",borderRadius:"var(--radius-xl)",border:"2px dashed var(--gray-200)"},children:[r.jsx(d_,{size:48,style:{margin:"0 auto var(--space-4)",color:"var(--gray-300)"}}),r.jsx("p",{style:{color:"var(--gray-500)",marginBottom:"var(--space-6)"},children:"No addresses saved yet. Add your first address to get started!"}),r.jsx("button",{className:"btn btn-primary",onClick:()=>h(!0),children:"Add Address"})]})]}),r.jsx("style",{children:`
        .addresses-page { max-width: 900px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .addresses-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-6); }
        .address-card { position: relative; transition: all 0.2s; border: 2px solid transparent; }
        .address-card:hover { transform: translateY(-3px); box-shadow: var(--shadow-lg); }
        .address-card.default-card { border-color: var(--success-200); background: var(--success-50); }
        .address-header { display: flex; align-items: flex-start; gap: var(--space-3); margin-bottom: var(--space-4); }
        .address-icon { width: 40px; height: 40px; background: var(--primary-50); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; color: var(--primary-600); }
        .default-card .address-icon { background: white; color: var(--success-600); }
        .address-label { flex: 1; }
        .address-label h4 { font-size: var(--text-lg); margin-bottom: 2px; }
        .address-actions { display: flex; gap: var(--space-1); }
        .address-details p { font-size: var(--text-sm); line-height: 1.5; }
        .main-address { font-weight: var(--font-medium); color: var(--gray-900); }
        .sub-address { color: var(--gray-500); }
        .set-default-btn { margin-top: var(--space-4); width: 100%; border: 1px solid var(--gray-200); }
        
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); }
        .checkbox-group input { width: 18px; height: 18px; cursor: pointer; }
        
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        
        @media (max-width: 768px) { .addresses-grid { grid-template-columns: 1fr; } .page-header { flex-direction: column; gap: var(--space-4); align-items: flex-start; } .form-row { grid-template-columns: 1fr; } }
      `})]})},kD=()=>{const{currentUser:s}=xt(),[e,n]=T.useState([]),[i,l]=T.useState(!0);return T.useEffect(()=>{(async()=>{if(s)try{const h=wt(Je(xe,"bookings"),Dt("userId","==",s.uid)),v=(await lt(h)).docs.map(g=>{const x=g.data();if(!x.paymentStatus&&!x.price)return null;let _=x.paymentStatus||"paid";return x.status==="cancelled"&&(_="refunded"),{id:g.id,date:x.createdAt?.toDate?x.createdAt.toDate().toLocaleDateString():x.date||"Recent",timestamp:x.createdAt?.toDate?x.createdAt.toDate().getTime():0,service:x.serviceName,method:x.paymentMethod==="upi"?"UPI Transfer":"Credit/Debit Card",amount:x.total||x.price,status:_}}).filter(g=>g!==null).sort((g,x)=>x.timestamp-g.timestamp);n(v)}catch(h){console.error("Error fetching payment history:",h)}finally{l(!1)}})()},[s]),i?r.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"var(--space-12)"},children:r.jsx(De,{size:32,className:"animate-spin"})}):r.jsxs("div",{className:"payments-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Payment History"}),r.jsx("p",{children:"View your transaction history"})]}),e.length>0&&r.jsxs("button",{className:"btn btn-secondary",children:[r.jsx(kh,{size:18})," Export"]})]}),e.length>0?r.jsx("div",{className:"table-wrapper card",style:{padding:0,overflow:"hidden"},children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Transaction ID"}),r.jsx("th",{children:"Date"}),r.jsx("th",{children:"Service"}),r.jsx("th",{children:"Payment Method"}),r.jsx("th",{children:"Amount"}),r.jsx("th",{children:"Status"})]})}),r.jsx("tbody",{children:e.map(u=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("strong",{children:u.id})}),r.jsx("td",{children:u.date}),r.jsx("td",{children:u.service}),r.jsxs("td",{children:[r.jsx(Go,{size:14,style:{marginRight:"8px",verticalAlign:"middle"}}),u.method]}),r.jsx("td",{children:r.jsxs("strong",{children:["$",u.amount]})}),r.jsx("td",{children:r.jsx("span",{className:`badge ${u.status==="refunded"?"badge-error":u.status==="completed"||u.status==="paid"?"badge-success":"badge-warning"}`,style:{backgroundColor:u.status==="refunded"?"#FEE2E2":void 0,color:u.status==="refunded"?"#DC2626":void 0},children:u.status})})]},u.id))})]})}):r.jsxs("div",{className:"empty-state-card",style:{textAlign:"center",padding:"var(--space-12)",background:"var(--gray-50)",borderRadius:"var(--radius-xl)",border:"2px dashed var(--gray-200)"},children:[r.jsx(TS,{size:48,style:{margin:"0 auto var(--space-4)",color:"var(--gray-300)"}}),r.jsx("h3",{children:"No transactions yet"}),r.jsx("p",{style:{color:"var(--gray-500)"},children:"Your payment history will appear here once you book your first service."})]}),r.jsx("style",{children:`
        .payments-page { max-width: 1000px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        @media (max-width: 768px) { .page-header { flex-direction: column; gap: var(--space-4); align-items: flex-start; } }
      `})]})},ID=()=>{const[s]=T.useState([]),e=s.filter(n=>!n.read).length;return r.jsxs("div",{className:"notifications-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Notifications"}),r.jsxs("p",{children:[e," unread notifications"]})]}),s.length>0&&r.jsx("button",{className:"btn btn-ghost",children:"Mark all as read"})]}),r.jsxs("div",{className:"notifications-list",children:[s.map(n=>r.jsxs("div",{className:`notification-item ${n.read?"read":"unread"}`,children:[r.jsx("div",{className:"notif-icon",children:r.jsx(n.icon,{size:20})}),r.jsxs("div",{className:"notif-content",children:[r.jsx("h4",{children:n.title}),r.jsx("p",{children:n.message}),r.jsx("span",{className:"notif-time",children:n.time})]}),!n.read&&r.jsx("div",{className:"unread-dot"})]},n.id)),s.length===0&&r.jsxs("div",{className:"empty-state-card",style:{textAlign:"center",padding:"var(--space-12)",background:"var(--gray-50)",borderRadius:"var(--radius-xl)",border:"2px dashed var(--gray-200)"},children:[r.jsx(dg,{size:48,style:{margin:"0 auto var(--space-4)",color:"var(--gray-300)"}}),r.jsx("p",{style:{color:"var(--gray-500)"},children:"No notifications to show. We'll alert you here when something important happens."})]})]}),r.jsx("style",{children:`
        .notifications-page { max-width: 700px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .notifications-list { display: flex; flex-direction: column; gap: var(--space-3); }
        .notification-item { display: flex; gap: var(--space-4); padding: var(--space-4); background: white; border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); position: relative; }
        .notification-item.unread { background: var(--primary-50); border-left: 3px solid var(--primary-600); }
        .notif-icon { width: 40px; height: 40px; background: var(--gray-100); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; color: var(--primary-600); flex-shrink: 0; }
        .notification-item.unread .notif-icon { background: var(--primary-100); }
        .notif-content { flex: 1; }
        .notif-content h4 { font-size: var(--text-base); margin-bottom: var(--space-1); }
        .notif-content p { font-size: var(--text-sm); color: var(--gray-600); margin-bottom: var(--space-2); }
        .notif-time { font-size: var(--text-xs); color: var(--gray-400); }
        .unread-dot { width: 8px; height: 8px; background: var(--primary-600); border-radius: 50%; position: absolute; top: var(--space-4); right: var(--space-4); }
      `})]})},DD=()=>{const{currentUser:s,userData:e,updateProfileData:n}=xt(),i=Fs(),[l,u]=T.useState(1),h=4,[m,v]=T.useState(!1),[g,x]=T.useState([]),[_,j]=T.useState(!1);T.useEffect(()=>{(async()=>{j(!0);try{const ee=await lt(wt(Je(xe,"services"),af("name","asc")));x(ee.docs.map(re=>({id:re.id,...re.data()})))}catch(ee){console.error("Error fetching services for onboarding:",ee)}finally{j(!1)}})()},[]);const[S,I]=T.useState({firstName:"",lastName:"",phone:"",address:"",services:[],experience:"",upiId:"",accountHolderName:"",verificationStatus:"pending"});T.useEffect(()=>{if(e){const H=e.fullName?.split(" ")||["",""];I(ee=>({...ee,firstName:H[0]||"",lastName:H.slice(1).join(" ")||"",phone:e.phone||"",email:e.email||"",accountHolderName:e.fullName||""}))}},[e]);const C=H=>{const{name:ee,value:re}=H.target;I(W=>({...W,[ee]:re}))},M=H=>{I(ee=>({...ee,services:ee.services.includes(H)?ee.services.filter(re=>re!==H):[...ee.services,H]}))},V=async()=>{if(s){v(!0);try{const{govIdFile:H,taxIdFile:ee,...re}=S,W={...re,fullName:`${S.firstName} ${S.lastName}`,isOnboarded:!0,onboardedAt:new Date().toISOString(),role:"provider",paymentDetails:{type:"upi",upiId:S.upiId,accountHolderName:S.accountHolderName},verificationDocs:{govId:H?.name||null,taxId:ee?.name||null},rating:5,totalJobs:0,earnings:0};await n(W),i("/provider")}catch(H){console.error("Onboarding error:",H),alert("Failed to save registration. Please try again.")}finally{v(!1)}}},P=[{num:1,title:"Personal Info",icon:Mn},{num:2,title:"Services",icon:Dr},{num:3,title:"Verification",icon:Xd},{num:4,title:"UPI Setup",icon:Go}];return r.jsxs("div",{className:"onboarding-page",children:[r.jsxs("div",{className:"onboarding-header",children:[r.jsxs(oe,{to:"/",className:"logo",children:[r.jsx("div",{className:"logo-icon",children:r.jsx(is,{size:24})}),r.jsx("span",{children:"ServisGo"})]}),r.jsx("p",{children:"Provider Registration"})]}),r.jsxs("div",{className:"onboarding-container",children:[r.jsx("div",{className:"steps-sidebar",children:P.map(H=>r.jsxs("div",{className:`step-item ${l===H.num?"active":""} ${l>H.num?"completed":""}`,children:[r.jsx("div",{className:"step-icon",children:l>H.num?r.jsx(vt,{size:20}):r.jsx(H.icon,{size:20})}),r.jsx("span",{children:H.title})]},H.num))}),r.jsxs("div",{className:"onboarding-content card",children:[l===1&&r.jsxs("div",{className:"onboarding-step-content",children:[r.jsx("h2",{children:"Personal Information"}),r.jsx("p",{children:"Tell us about yourself"}),r.jsxs("div",{className:"onboarding-form",children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"First Name"}),r.jsx("input",{type:"text",name:"firstName",value:S.firstName,onChange:C,className:"form-input",placeholder:"John"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Last Name"}),r.jsx("input",{type:"text",name:"lastName",value:S.lastName,onChange:C,className:"form-input",placeholder:"Doe"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Phone Number"}),r.jsx("input",{type:"tel",name:"phone",value:S.phone,onChange:C,className:"form-input",placeholder:"+1 234-567-8901"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Street Address"}),r.jsx("input",{type:"text",name:"address",value:S.address,onChange:C,className:"form-input",placeholder:"123 Main St, City"})]})]})]}),l===2&&r.jsxs("div",{className:"onboarding-step-content",children:[r.jsx("h2",{children:"Services You Offer"}),r.jsx("p",{children:"Select the services you provide"}),_?r.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:r.jsx(De,{className:"animate-spin"})}):r.jsxs("div",{className:"services-select",children:[g.map(H=>r.jsxs("label",{className:`service-option ${S.services.includes(H.name)?"selected":""}`,children:[r.jsx("input",{type:"checkbox",checked:S.services.includes(H.name),onChange:()=>M(H.name)}),r.jsx("span",{children:H.name})]},H.id)),g.length===0&&r.jsx("p",{children:"No services available to select."})]}),r.jsxs("div",{className:"form-group",style:{marginTop:"var(--space-6)"},children:[r.jsx("label",{className:"form-label",children:"Years of Experience"}),r.jsx("input",{type:"number",name:"experience",value:S.experience,onChange:C,className:"form-input",placeholder:"e.g., 5"})]})]}),l===3&&r.jsxs("div",{className:"onboarding-step-content",children:[r.jsx("h2",{children:"Verification Documents"}),r.jsx("p",{children:"Upload required documents for verification"}),r.jsxs("div",{className:"upload-section",children:[r.jsxs("div",{className:"upload-box active",children:[r.jsx(Xd,{size:32}),r.jsx("p",{children:"Government ID (License/Passport)"}),r.jsx("input",{type:"file",id:"govId",style:{display:"none"},onChange:H=>I(ee=>({...ee,govIdFile:H.target.files[0]}))}),r.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>document.getElementById("govId").click(),children:S.govIdFile?"Change File":"Browse File"}),S.govIdFile&&r.jsx("p",{className:"file-name",children:S.govIdFile.name})]}),r.jsxs("div",{className:"upload-box",children:[r.jsx(Xd,{size:32}),r.jsx("p",{children:"Tax ID / Certification"}),r.jsx("input",{type:"file",id:"taxId",style:{display:"none"},onChange:H=>I(ee=>({...ee,taxIdFile:H.target.files[0]}))}),r.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>document.getElementById("taxId").click(),children:S.taxIdFile?"Change File":"Browse File"}),S.taxIdFile&&r.jsx("p",{className:"file-name",children:S.taxIdFile.name})]})]}),r.jsx("div",{className:"verification-note",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Note:"})," Verification usually takes 24-48 hours. You can proceed to dashboard but assignments will start after verification."]})})]}),l===4&&r.jsxs("div",{className:"onboarding-step-content",children:[r.jsx("h2",{children:"UPI Payment Setup"}),r.jsx("p",{children:"Enter your UPI details to receive direct payouts"}),r.jsxs("div",{className:"onboarding-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Account Holder Name"}),r.jsx("input",{type:"text",name:"accountHolderName",value:S.accountHolderName,onChange:C,className:"form-input",placeholder:"Name as per Bank Account"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"UPI ID"}),r.jsx("input",{type:"text",name:"upiId",value:S.upiId,onChange:C,className:"form-input",placeholder:"username@upi"}),r.jsx("p",{style:{fontSize:"12px",color:"var(--gray-500)",marginTop:"8px"},children:"Make sure your UPI ID is correct to avoid payment delays."})]})]})]}),r.jsxs("div",{className:"nav-buttons",children:[l>1&&r.jsxs("button",{className:"btn btn-secondary",onClick:()=>u(l-1),disabled:m,children:[r.jsx(Cc,{size:18})," Back"]}),r.jsx("div",{style:{marginLeft:"auto"},children:l<h?r.jsxs("button",{className:"btn btn-primary",onClick:()=>u(l+1),children:["Continue ",r.jsx(ja,{size:18})]}):r.jsx("button",{className:"btn btn-primary",onClick:V,disabled:m,children:m?r.jsxs(r.Fragment,{children:[r.jsx(De,{size:18,className:"animate-spin"})," Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(vt,{size:18})," Complete Registration"]})})})]})]})]}),r.jsx("style",{children:`
        .onboarding-page { min-height: 100vh; background: var(--gray-50); padding: var(--space-8); }
        .onboarding-header { text-align: center; margin-bottom: var(--space-8); }
        .onboarding-header .logo { display: inline-flex; align-items: center; gap: var(--space-2); margin-bottom: var(--space-2); text-decoration: none; }
        .onboarding-header p { color: var(--gray-500); }
        .onboarding-container { display: grid; grid-template-columns: 250px 1fr; gap: var(--space-8); max-width: 1000px; margin: 0 auto; }
        .steps-sidebar { display: flex; flex-direction: column; gap: var(--space-4); }
        .step-item { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-4); background: white; border-radius: var(--radius-lg); color: var(--gray-400); font-weight: var(--font-medium); transition: 0.3s; }
        .step-item.active { background: var(--primary-600); color: white; box-shadow: var(--shadow-md); }
        .step-item.completed { color: var(--success); }
        .step-icon { width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: var(--gray-100); border-radius: var(--radius-lg); }
        .step-item.active .step-icon { background: rgba(255,255,255,0.2); }
        .onboarding-content { padding: var(--space-8); min-height: 500px; display: flex; flex-direction: column; }
        .onboarding-step-content { flex: 1; }
        .onboarding-content h2 { margin-bottom: var(--space-2); }
        .onboarding-content > p { color: var(--gray-500); margin-bottom: var(--space-6); }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); }
        .services-select { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-3); margin-bottom: var(--space-6); }
        .service-option { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-4); border: 2px solid var(--gray-200); border-radius: var(--radius-lg); cursor: pointer; transition: 0.2s; }
        .service-option.selected { border-color: var(--primary-600); background: var(--primary-50); }
        .service-option input { accent-color: var(--primary-600); width: 18px; height: 18px; }
        .upload-section { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-6); margin-bottom: var(--space-6); }
        .upload-box { text-align: center; padding: var(--space-8); border: 2px dashed var(--gray-300); border-radius: var(--radius-lg); color: var(--gray-400); }
        .upload-box.active { border-color: var(--primary-300); background: white; }
        .upload-box p { margin: var(--space-4) 0; font-size: var(--text-sm); }
        .file-name { color: var(--primary-600) !important; font-weight: 500; font-size: var(--text-xs) !important; margin-top: var(--space-2) !important; }
        .verification-note { padding: var(--space-4); background: var(--warning-light); border-radius: var(--radius-md); font-size: var(--text-sm); line-height: 1.5; color: var(--gray-700); }
        .nav-buttons { display: flex; justify-content: space-between; margin-top: auto; padding-top: var(--space-6); border-top: 1px solid var(--gray-100); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 768px) { .onboarding-container { grid-template-columns: 1fr; } .steps-sidebar { display: none; } .upload-section, .services-select { grid-template-columns: 1fr; } }
      `})]})},MD=()=>{const{userData:s,currentUser:e}=xt(),[n,i]=T.useState([{label:"Total Earnings",value:"$0",icon:Ta,color:"var(--success)"},{label:"Active Jobs",value:"0",icon:Dr,color:"var(--primary-600)"},{label:"Completed",value:"0",icon:vt,color:"var(--accent-cyan)"},{label:"Rating",value:"4.8",icon:cn,color:"var(--accent-yellow)"}]),[l,u]=T.useState([]),[h,m]=T.useState(0),[v,g]=T.useState(!0);return T.useEffect(()=>{(async()=>{if(e)try{const _=Je(xe,"bookings"),j=wt(_,Dt("providerId","==",e.uid)),I=(await lt(j)).docs.map(Q=>({id:Q.id,...Q.data()})),C=I.filter(Q=>Q.status==="completed"),M=I.filter(Q=>Q.status==="upcoming"||Q.status==="in-progress"),V=C.reduce((Q,le)=>Q+(le.price||0),0);i([{label:"Total Earnings",value:`$${V}`,icon:Ta,color:"var(--success)"},{label:"Active Jobs",value:M.length.toString(),icon:Dr,color:"var(--primary-600)"},{label:"Completed",value:C.length.toString(),icon:vt,color:"var(--accent-cyan)"},{label:"Rating",value:s?.rating||"New",icon:cn,color:"var(--accent-yellow)"}]);const P=I.filter(Q=>Q.status==="upcoming"||Q.status==="pending-provider").sort((Q,le)=>new Date(Q.date)-new Date(le.date)).slice(0,3);u(P);const H=wt(_,Dt("status","==","pending")),re=(await lt(H)).docs.map(Q=>({id:Q.id,...Q.data()})),W=s?.services||[],R=re.filter(Q=>{const le=Q.providerId===e.uid,ve=Q.providerId===null&&W.includes(Q.serviceName);return le||ve}).length;m(R);const A=wt(Je(xe,"reviews"),Dt("providerId","==",e.uid)),L=(await lt(A)).docs.map(Q=>Q.data()),k=L.reduce((Q,le)=>Q+(Number(le.rating)||0),0),U=L.length>0?(k/L.length).toFixed(1):0,O=L.length;i(Q=>Q.map(le=>le.label==="Rating"?{...le,value:U||"New"}:le));const Be=s?.rating||0,bt=s?.reviewCount||0;(Math.abs(parseFloat(U)-parseFloat(Be))>.05||O!==bt)&&(console.log("Fixing inconsistent rating data...",{old:Be,new:U}),await Ms(gt(xe,"users",e.uid),{rating:parseFloat(U),reviewCount:O}))}catch(_){console.error("Error fetching provider dashboard data:",_)}finally{g(!1)}})()},[e,s]),r.jsxs("div",{className:"dashboard-page",children:[r.jsxs("div",{className:"welcome-section",children:[r.jsxs("div",{children:[r.jsxs("h1",{children:["Welcome back, ",s?.fullName?.split(" ")[0]||"Provider","!"]}),r.jsx("p",{children:"Here's your business overview"})]}),r.jsxs("div",{style:{position:"relative"},children:[r.jsxs(oe,{to:"/provider/job-requests",className:"btn btn-primary",children:["View Job Requests ",r.jsx(ja,{size:18})]}),h>0&&r.jsx("span",{className:"badge-notification",children:h})]})]}),r.jsx("div",{className:"stats-grid",children:n.map((x,_)=>r.jsxs("div",{className:"card stat-card",children:[r.jsx("div",{className:"stat-icon",style:{background:`${x.color}15`,color:x.color},children:r.jsx(x.icon,{size:24})}),r.jsxs("div",{className:"stat-info",children:[r.jsx("div",{className:"stat-value",children:x.value}),r.jsx("div",{className:"stat-label",children:x.label})]})]},_))}),r.jsxs("div",{className:"quick-actions-section",style:{marginBottom:"var(--space-8)"},children:[r.jsx("h3",{children:"Quick Actions"}),r.jsxs("div",{className:"actions-grid",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"var(--space-6)",marginTop:"var(--space-4)"},children:[r.jsxs(oe,{to:"/provider/services",className:"card action-card",children:[r.jsx("div",{className:"action-icon",style:{background:"var(--primary-50)",color:"var(--primary-600)"},children:r.jsx(pg,{size:24})}),r.jsxs("div",{className:"action-info",children:[r.jsx("h4",{children:"Manage Services"}),r.jsx("p",{children:"Add or remove your service offerings"})]}),r.jsx(ja,{size:18})]}),r.jsxs(oe,{to:"/provider/availability",className:"card action-card",children:[r.jsx("div",{className:"action-icon",style:{background:"var(--accent-orange-light)",color:"var(--accent-orange)"},children:r.jsx(ht,{size:24})}),r.jsxs("div",{className:"action-info",children:[r.jsx("h4",{children:"Availability"}),r.jsx("p",{children:"Set your working hours & days"})]}),r.jsx(ja,{size:18})]}),r.jsxs(oe,{to:"/provider/earnings",className:"card action-card",children:[r.jsx("div",{className:"action-icon",style:{background:"var(--success-light)",color:"var(--success)"},children:r.jsx(Ta,{size:24})}),r.jsxs("div",{className:"action-info",children:[r.jsx("h4",{children:"Earnings Report"}),r.jsx("p",{children:"View detailed revenue analytics"})]}),r.jsx(ja,{size:18})]})]})]}),r.jsxs("div",{className:"dashboard-grid",children:[r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{className:"card-title",children:"My Upcoming Jobs"}),r.jsx(oe,{to:"/provider/active-jobs",className:"btn btn-ghost btn-sm",children:"View All"})]}),r.jsx("div",{className:"jobs-list",children:v?r.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:r.jsx(De,{size:32,className:"animate-spin"})}):l.length>0?l.map(x=>r.jsxs(oe,{to:`/provider/jobs/${x.id}`,className:"job-item",children:[r.jsxs("div",{className:"job-info",children:[r.jsx("h4",{children:x.serviceName}),r.jsx("p",{children:x.customerName}),r.jsxs("div",{className:"job-meta",children:[r.jsx(ht,{size:14})," ",x.date,", ",x.time]})]}),r.jsxs("div",{className:"job-end",children:[r.jsx("span",{className:`badge ${x.status==="upcoming"?"badge-info":"badge-warning"}`,children:x.status}),r.jsxs("span",{className:"amount",children:["$",x.price]})]})]},x.id)):r.jsxs("div",{className:"empty-state-small",children:[r.jsx("p",{children:"No upcoming jobs assigned yet."}),r.jsx(oe,{to:"/provider/job-requests",className:"btn btn-link btn-sm",children:"Browse job requests"})]})})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"card-title",style:{marginBottom:"var(--space-4)"},children:"Performance Overview"}),r.jsxs("div",{className:"earnings-chart",children:[r.jsxs("div",{className:"chart-placeholder",children:[r.jsx(Ih,{size:48}),r.jsxs("p",{children:["$",n[0].value.replace("$","")," Total Earned"]}),r.jsx("span",{className:"badge badge-info",children:"Level 1 Provider"})]}),r.jsxs("div",{className:"performance-metrics",style:{marginTop:"2rem"},children:[r.jsxs("div",{className:"metric",children:[r.jsx("span",{children:"Completion Rate"}),r.jsx("div",{className:"progress-bar",children:r.jsx("div",{className:"progress",style:{width:"95%"}})}),r.jsx("span",{children:"95%"})]}),r.jsxs("div",{className:"metric",children:[r.jsx("span",{children:"Response Time"}),r.jsx("div",{className:"progress-bar",children:r.jsx("div",{className:"progress",style:{width:"80%",background:"var(--accent-orange)"}})}),r.jsx("span",{children:"Fast"})]})]})]})]})]}),r.jsx("style",{children:`
        .dashboard-page { max-width: 1200px; margin: 0 auto; }
        .welcome-section { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-8); }
        .welcome-section h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .welcome-section p { color: var(--gray-500); }
        .badge-notification { position: absolute; top: -8px; right: -8px; background: var(--error); color: white; border-radius: 50%; width: 22px; height: 22px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; border: 2px solid white; box-shadow: var(--shadow-sm); }
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-6); margin-bottom: var(--space-8); }
        .stat-card { display: flex; align-items: center; gap: var(--space-4); }
        .stat-icon { width: 56px; height: 56px; border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; }
        .stat-value { font-size: var(--text-2xl); font-weight: var(--font-bold); }
        .stat-label { font-size: var(--text-sm); color: var(--gray-500); }
        
        .action-card { display: flex; align-items: center; gap: var(--space-4); padding: var(--space-5); text-decoration: none; color: inherit; transition: 0.2s; border: 1px solid var(--gray-100); }
        .action-card:hover { transform: translateY(-3px); border-color: var(--primary-300); box-shadow: var(--shadow-md); }
        .action-icon { width: 48px; height: 48px; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; }
        .action-info { flex: 1; }
        .action-info h4 { font-size: var(--text-base); margin-bottom: 2px; }
        .action-info p { font-size: var(--text-xs); color: var(--gray-500); }
        .action-card svg:last-child { color: var(--gray-300); transition: 0.2s; }
        .action-card:hover svg:last-child { color: var(--primary-600); transform: translateX(3px); }

        .dashboard-grid { display: grid; grid-template-columns: 2fr 1fr; gap: var(--space-6); }
        .jobs-list { display: flex; flex-direction: column; gap: var(--space-3); }
        .job-item { display: flex; justify-content: space-between; align-items: center; padding: var(--space-4); background: var(--gray-50); border-radius: var(--radius-lg); text-decoration: none; color: inherit; }
        .job-item:hover { background: var(--gray-100); }
        .job-info h4 { font-size: var(--text-base); margin-bottom: var(--space-1); }
        .job-info p { font-size: var(--text-sm); color: var(--gray-500); margin-bottom: var(--space-1); }
        .job-meta { font-size: var(--text-sm); color: var(--gray-400); display: flex; align-items: center; gap: var(--space-1); }
        .job-end { text-align: right; }
        .job-end .amount { display: block; font-size: var(--text-lg); font-weight: var(--font-bold); color: var(--primary-600); margin-top: var(--space-2); }
        .earnings-chart { padding: var(--space-4); }
        .chart-placeholder { text-align: center; color: var(--gray-400); }
        .chart-placeholder p { font-size: var(--text-xl); font-weight: var(--font-bold); color: var(--gray-900); margin: var(--space-4) 0 var(--space-2); }
        .performance-metrics { display: flex; flex-direction: column; gap: var(--space-4); }
        .metric { display: flex; align-items: center; gap: var(--space-3); font-size: var(--text-xs); color: var(--gray-600); }
        .metric span:first-child { width: 100px; }
        .progress-bar { flex: 1; height: 6px; background: var(--gray-100); border-radius: 3px; overflow: hidden; }
        .progress { height: 100%; background: var(--success); border-radius: 3px; }
        .empty-state-small { text-align: center; padding: var(--space-8); color: var(--gray-500); background: var(--gray-50); border-radius: var(--radius-lg); border: 2px dashed var(--gray-200); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 1024px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } .dashboard-grid { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .stats-grid { grid-template-columns: 1fr; } .welcome-section { flex-direction: column; gap: var(--space-4); text-align: center; } }
      `})]})},OD=()=>{const{currentUser:s,userData:e}=xt(),[n,i]=T.useState([]),[l,u]=T.useState(!0),[h,m]=T.useState(null),v=async()=>{if(!(!s||!e)){u(!0);try{const x=Je(xe,"bookings"),_=wt(x,Dt("status","==","pending")),S=(await lt(_)).docs.map(M=>({id:M.id,...M.data()})).sort((M,V)=>{const P=M.createdAt?.seconds||0;return(V.createdAt?.seconds||0)-P}),I=e?.services||[],C=S.filter(M=>{const V=M.providerId===s.uid,P=M.providerId===null&&I.includes(M.serviceName);return V||P});i(C)}catch(x){console.error("Error fetching job requests:",x)}finally{u(!1)}}};T.useEffect(()=>{v()},[s,e]);const g=async x=>{if(s){m(x);try{const _=gt(xe,"bookings",x);await Ms(_,{status:"upcoming",providerId:s.uid,providerName:e?.fullName||"Provider"}),i(n.filter(j=>j.id!==x)),alert("Job accepted successfully! You can find it in 'Active Jobs'.")}catch(_){console.error("Error accepting job:",_),alert("Failed to accept job.")}finally{m(null)}}};return r.jsxs("div",{className:"job-requests-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Job Requests"}),r.jsx("p",{children:"Review and accept new job requests"})]}),r.jsxs("div",{className:"requests-list",children:[l?r.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:r.jsx(De,{className:"animate-spin",size:40})}):n.map(x=>r.jsxs("div",{className:"card request-card",children:[r.jsxs("div",{className:"request-main",children:[r.jsxs("div",{className:"request-info",children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("h3",{children:x.serviceName}),r.jsx("span",{className:"badge badge-warning",children:"NEW"})]}),r.jsxs("p",{className:"customer",children:["Customer: ",x.customerName]}),r.jsxs("div",{className:"request-meta",children:[r.jsxs("span",{children:[r.jsx(ht,{size:14})," ",x.date]}),r.jsxs("span",{children:[r.jsx(St,{size:14})," ",x.time]}),r.jsxs("span",{children:[r.jsx(Dn,{size:14})," ",x.address]})]})]}),r.jsxs("div",{className:"request-amount",children:[r.jsx(Ta,{size:16}),x.price]})]}),r.jsxs("div",{className:"request-actions",children:[r.jsx(oe,{to:`/provider/jobs/${x.id}`,className:"btn btn-ghost btn-sm",children:"View Details"}),r.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>g(x.id),disabled:h===x.id,style:{display:"flex",alignItems:"center",gap:"6px"},children:[h===x.id?r.jsx(De,{className:"animate-spin",size:16}):r.jsx(Rn,{size:16}),"Accept Job"]})]})]},x.id)),!l&&n.length===0&&r.jsxs("div",{className:"empty-state",children:[r.jsx(nl,{size:48,style:{margin:"0 auto var(--space-4)",color:"var(--gray-300)"}}),r.jsx("p",{children:"No pending job requests at the moment. Check back later!"})]})]}),r.jsx("style",{children:`
        .job-requests-page { max-width: 900px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .requests-list { display: flex; flex-direction: column; gap: var(--space-4); }
        .request-card { border-left: 4px solid var(--accent-orange); transition: 0.2s; }
        .request-card:hover { transform: translateX(5px); }
        .request-main { display: flex; justify-content: space-between; margin-bottom: var(--space-4); }
        .request-info h3 { font-size: var(--text-lg); margin-bottom: var(--space-1); }
        .request-info .customer { color: var(--gray-600); margin-bottom: var(--space-2); font-size: var(--text-sm); }
        .request-meta { display: flex; flex-wrap: wrap; gap: var(--space-4); font-size: var(--text-sm); color: var(--gray-500); }
        .request-meta span { display: flex; align-items: center; gap: var(--space-1); }
        .request-amount { display: flex; align-items: center; font-size: var(--text-2xl); font-weight: var(--font-bold); color: var(--primary-600); }
        .request-actions { display: flex; gap: var(--space-3); justify-content: flex-end; padding-top: var(--space-4); border-top: 1px solid var(--gray-100); }
        .empty-state { text-align: center; padding: var(--space-12); color: var(--gray-500); background: var(--gray-50); border-radius: var(--radius-xl); border: 2px dashed var(--gray-200); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 768px) { .request-main { flex-direction: column; gap: var(--space-3); } .request-actions { flex-wrap: wrap; } }
      `})]})},zD=()=>{const{jobId:s}=Hc(),e=Fs(),{currentUser:n,userData:i}=xt(),[l,u]=T.useState(null),[h,m]=T.useState(!0),[v,g]=T.useState(!1);T.useEffect(()=>{(async()=>{try{const C=gt(xe,"bookings",s),M=await Pi(C);M.exists()&&u({id:M.id,...M.data()})}catch(C){console.error("Error fetching job details:",C)}finally{m(!1)}})()},[s]);const x=async I=>{if(n){g(!0);try{const C=gt(xe,"bookings",s),M={status:I};I==="upcoming"&&l.status==="pending"&&(M.providerId=n.uid,M.providerName=i?.fullName||"Provider"),await Ms(C,M),u({...l,...M}),alert(`Job updated to ${I}`),I==="upcoming"&&e("/provider/active-jobs"),I==="completed"&&e("/provider/completed-jobs")}catch(C){console.error("Error updating job:",C),alert("Failed to update job status.")}finally{g(!1)}}};if(h)return r.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"10rem"},children:r.jsx(De,{className:"animate-spin",size:48})});if(!l)return r.jsxs("div",{className:"job-details-page",children:[r.jsxs(oe,{to:"/provider/job-requests",className:"back-link",children:[r.jsx(Cc,{size:18})," Back to Requests"]}),r.jsxs("div",{style:{textAlign:"center",padding:"4rem"},children:[r.jsx("h2",{children:"Job Not Found"}),r.jsx("p",{style:{color:"var(--gray-500)",marginTop:"1rem"},children:"The job you're looking for is not available."}),r.jsx(oe,{to:"/provider/job-requests",className:"btn btn-primary",style:{marginTop:"2rem"},children:"View All Job Requests"})]})]});const _=l.status==="pending",j=l.status==="upcoming",S=l.status==="in-progress";return r.jsxs("div",{className:"job-details-page",children:[r.jsxs(oe,{to:_?"/provider/job-requests":"/provider/active-jobs",className:"back-link",children:[r.jsx(Cc,{size:18})," Back to ",_?"Requests":"Active Jobs"]}),r.jsxs("div",{className:"details-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:l.serviceName}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[r.jsx("span",{className:`badge ${l.status==="pending"?"badge-warning":l.status==="cancelled"?"badge-error":"badge-info"}`,children:l.status}),r.jsxs("span",{style:{color:"var(--gray-400)",fontSize:"14px"},children:["Job #",l.id]})]})]}),r.jsxs("div",{className:"header-actions",children:[_&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"btn btn-outline",style:{color:"var(--error)",borderColor:"var(--error)"},disabled:v,children:[r.jsx(nl,{size:18})," Decline"]}),r.jsxs("button",{className:"btn btn-primary",onClick:()=>x("upcoming"),disabled:v,children:[v?r.jsx(De,{className:"animate-spin",size:18}):r.jsx(Rn,{size:18})," Accept Job"]})]}),j&&r.jsxs("button",{className:"btn btn-primary",onClick:()=>x("in-progress"),disabled:v,children:[v?r.jsx(De,{className:"animate-spin",size:18}):r.jsx(St,{size:18})," Start Job"]}),S&&r.jsxs("button",{className:"btn btn-success",onClick:()=>x("completed"),disabled:v,style:{background:"var(--success)",color:"white",border:"none"},children:[v?r.jsx(De,{className:"animate-spin",size:18}):r.jsx(vt,{size:18})," Mark as Completed"]})]})]}),r.jsxs("div",{className:"details-grid",children:[r.jsxs("div",{className:"main-content",children:[r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Job Details"}),r.jsxs("div",{className:"detail-row",children:[r.jsx("span",{children:"Service"}),r.jsx("strong",{children:l.serviceName})]}),r.jsxs("div",{className:"detail-row",children:[r.jsx(ht,{size:16}),r.jsx("span",{children:l.date})]}),r.jsxs("div",{className:"detail-row",children:[r.jsx(St,{size:16}),r.jsx("span",{children:l.time})]}),r.jsxs("div",{className:"detail-row",children:[r.jsx(Dn,{size:16}),r.jsx("span",{children:l.address})]}),r.jsxs("div",{className:"detail-row",children:[r.jsx(Ta,{size:16}),r.jsxs("strong",{className:"amount",children:["$",l.price]})]})]}),l.addressDetails&&r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Location Map"}),r.jsxs("div",{className:"address-box",style:{padding:"var(--space-4)",background:"var(--gray-50)",borderRadius:"var(--radius-lg)"},children:[r.jsx("p",{style:{fontWeight:"600"},children:l.addressDetails.label}),r.jsx("p",{children:l.addressDetails.address}),r.jsxs("p",{children:[l.addressDetails.city,", ",l.addressDetails.zip]})]})]})]}),r.jsx("div",{className:"sidebar-content",children:r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Customer Information"}),r.jsxs("div",{className:"customer-info",style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[r.jsx("div",{className:"avatar-placeholder",style:{width:"60px",height:"60px",background:"var(--gray-100)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--gray-400)"},children:r.jsx(Mn,{size:30})}),r.jsxs("div",{children:[r.jsx("h4",{style:{margin:0},children:l.customerName}),r.jsx("span",{style:{fontSize:"12px",color:"var(--gray-500)"},children:"Customer since 2026"})]})]}),r.jsxs("div",{className:"contact-info",style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[r.jsxs("div",{className:"contact-item",style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--gray-600)"},children:[r.jsx(Yc,{size:18})," ",r.jsx("span",{children:l.addressDetails?.phone||"---"})]}),r.jsxs("div",{className:"contact-item",style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--gray-600)"},children:[r.jsx(Vi,{size:18})," ",r.jsx("span",{children:"---"})]})]}),r.jsxs("button",{className:"btn btn-secondary",style:{width:"100%",marginTop:"var(--space-6)"},disabled:!0,children:[r.jsx(fg,{size:18})," Message Customer"]})]})})]}),r.jsx("style",{children:`
        .job-details-page { max-width: 1000px; margin: 0 auto; }
        .back-link { display: inline-flex; align-items: center; gap: var(--space-2); color: var(--gray-600); margin-bottom: var(--space-6); text-decoration: none; }
        .back-link:hover { color: var(--primary-600); }
        .details-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-8); }
        .details-header h1 { margin: 0; font-size: var(--text-2xl); }
        .header-actions { display: flex; gap: var(--space-3); }
        .details-grid { display: grid; grid-template-columns: 1fr 350px; gap: var(--space-6); }
        .main-content { display: flex; flex-direction: column; gap: var(--space-6); }
        .main-content h3 { margin-bottom: var(--space-4); border-bottom: 1px solid var(--gray-100); padding-bottom: var(--space-2); }
        .detail-row { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3) 0; border-bottom: 1px solid var(--gray-50); color: var(--gray-600); }
        .detail-row:last-child { border-bottom: none; }
        .detail-row strong { margin-left: auto; color: var(--gray-900); }
        .detail-row .amount { color: var(--primary-600); font-size: var(--text-xl); }
        .sidebar-content h3 { margin-bottom: var(--space-4); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 1024px) { .details-grid { grid-template-columns: 1fr; } }
      `})]})},PD=()=>{const{currentUser:s}=xt(),[e,n]=T.useState("all"),[i,l]=T.useState([]),[u,h]=T.useState(!0);T.useEffect(()=>{(async()=>{if(s){h(!0);try{const g=Je(xe,"bookings"),x=wt(g,Dt("providerId","==",s.uid)),j=(await lt(x)).docs.map(S=>({id:S.id,...S.data()})).sort((S,I)=>{const C=S.createdAt?.seconds||0;return(I.createdAt?.seconds||0)-C}).filter(S=>S.status==="upcoming"||S.status==="in-progress");l(j)}catch(g){console.error("Error fetching active jobs:",g)}finally{h(!1)}}})()},[s]);const m=e==="all"?i:i.filter(v=>v.status===e);return r.jsxs("div",{className:"active-jobs-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Active Jobs"}),r.jsx("p",{children:"Manage your current and upcoming service bookings"})]}),r.jsx("div",{className:"toolbar",children:r.jsxs("div",{className:"tabs",children:[r.jsxs("button",{className:`tab ${e==="all"?"active":""}`,onClick:()=>n("all"),children:["All Jobs (",i.length,")"]}),r.jsx("button",{className:`tab ${e==="upcoming"?"active":""}`,onClick:()=>n("upcoming"),children:"Upcoming"}),r.jsx("button",{className:`tab ${e==="in-progress"?"active":""}`,onClick:()=>n("in-progress"),children:"In Progress"})]})}),r.jsxs("div",{className:"jobs-list",children:[u?r.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:r.jsx(De,{className:"animate-spin",size:40})}):m.map(v=>r.jsx(oe,{to:`/provider/jobs/${v.id}`,className:"card job-card",children:r.jsxs("div",{className:"job-main",children:[r.jsx("div",{className:"job-icon",children:r.jsx(St,{size:24})}),r.jsxs("div",{className:"job-details",children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("h3",{children:v.serviceName}),r.jsx("span",{className:`badge ${v.status==="upcoming"?"badge-info":"badge-warning"}`,children:v.status})]}),r.jsx("p",{className:"customer",children:v.customerName}),r.jsxs("div",{className:"job-meta",children:[r.jsxs("span",{children:[r.jsx(ht,{size:14})," ",v.date]}),r.jsxs("span",{children:[r.jsx(St,{size:14})," ",v.time]}),r.jsxs("span",{children:[r.jsx(Dn,{size:14})," ",v.address]})]})]}),r.jsxs("div",{className:"job-price",children:["$",v.price]}),r.jsx("div",{className:"job-action",children:r.jsx(oa,{size:24})})]})},v.id)),!u&&m.length===0&&r.jsxs("div",{className:"empty-state",children:[r.jsxs("p",{children:["No ",e!=="all"?e:""," active jobs found."]}),e!=="all"?r.jsx("button",{className:"btn btn-link",onClick:()=>n("all"),children:"View all active jobs"}):r.jsx(oe,{to:"/provider/job-requests",className:"btn btn-primary btn-sm",style:{marginTop:"1rem"},children:"Browse Job Requests"})]})]}),r.jsx("style",{children:`
        .active-jobs-page { max-width: 900px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .toolbar { margin-bottom: var(--space-6); }
        .tabs { display: flex; gap: var(--space-2); }
        .tab { padding: var(--space-2) var(--space-4); border-radius: var(--radius-full); background: white; border: 1px solid var(--gray-200); cursor: pointer; color: var(--gray-600); transition: 0.2s; }
        .tab.active { background: var(--primary-600); border-color: var(--primary-600); color: white; }
        .jobs-list { display: flex; flex-direction: column; gap: var(--space-4); }
        .job-card { padding: var(--space-4); text-decoration: none; color: inherit; transition: 0.2s; }
        .job-card:hover { transform: translateX(5px); border-color: var(--primary-200); }
        .job-main { display: flex; align-items: center; gap: var(--space-4); }
        .job-icon { width: 48px; height: 48px; border-radius: var(--radius-lg); background: var(--primary-50); color: var(--primary-600); display: flex; align-items: center; justify-content: center; }
        .job-details { flex: 1; }
        .job-details h3 { font-size: var(--text-lg); margin-bottom: var(--space-1); }
        .job-details .customer { color: var(--gray-600); margin-bottom: var(--space-2); font-size: var(--text-sm); }
        .job-meta { display: flex; flex-wrap: wrap; gap: var(--space-4); font-size: var(--text-sm); color: var(--gray-500); }
        .job-meta span { display: flex; align-items: center; gap: var(--space-1); }
        .job-price { font-size: var(--text-xl); font-weight: var(--font-bold); color: var(--primary-600); padding: 0 var(--space-4); }
        .job-action { color: var(--gray-300); }
        .empty-state { text-align: center; padding: var(--space-12); color: var(--gray-500); background: var(--gray-50); border-radius: var(--radius-xl); border: 2px dashed var(--gray-200); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 768px) { .job-main { flex-wrap: wrap; } .job-price { width: 100%; text-align: right; padding-top: var(--space-2); } }
      `})]})},VD=()=>{const{currentUser:s}=xt(),[e,n]=T.useState([]),[i,l]=T.useState(!0);return T.useEffect(()=>{(async()=>{if(s){l(!0);try{const h=wt(Je(xe,"bookings"),Dt("providerId","==",s.uid),Dt("status","==","completed")),v=(await lt(h)).docs.map(g=>({id:g.id,...g.data()}));v.sort((g,x)=>{const _=g.createdAt?.seconds||0;return(x.createdAt?.seconds||0)-_}),n(v)}catch(h){console.error("Error fetching completed jobs:",h)}finally{l(!1)}}})()},[s]),r.jsxs("div",{className:"completed-jobs-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Completed Jobs"}),r.jsx("p",{children:"View your past work and history"})]}),r.jsxs("div",{className:"jobs-list",children:[i?r.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:r.jsx(De,{className:"animate-spin",size:40})}):e.map(u=>r.jsx("div",{className:"card job-card",children:r.jsxs("div",{className:"job-main",children:[r.jsx("div",{className:"job-icon",style:{background:"var(--success-light)",color:"var(--success)"},children:r.jsx(vt,{size:24})}),r.jsxs("div",{className:"job-details",children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("h3",{children:u.serviceName}),r.jsx("span",{className:"badge badge-success",children:"Completed"})]}),r.jsx("p",{className:"customer",children:u.customerName}),r.jsxs("div",{className:"job-meta",children:[r.jsxs("span",{children:[r.jsx(ht,{size:14})," ",u.date]}),r.jsxs("span",{children:[r.jsx(St,{size:14})," ",u.time]}),r.jsxs("span",{children:[r.jsx(Dn,{size:14})," ",u.address]})]})]}),r.jsxs("div",{className:"job-price",children:["$",u.price]})]})},u.id)),!i&&e.length===0&&r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"No completed jobs yet. Keep working!"}),r.jsx(oe,{to:"/provider",className:"btn btn-primary btn-sm",style:{marginTop:"1rem"},children:"Back to Dashboard"})]})]}),r.jsx("style",{children:`
        .completed-jobs-page { max-width: 900px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .jobs-list { display: flex; flex-direction: column; gap: var(--space-4); }
        .job-card { padding: var(--space-4); border-left: 4px solid var(--success); }
        .job-main { display: flex; align-items: center; gap: var(--space-4); }
        .job-icon { width: 48px; height: 48px; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; }
        .job-details { flex: 1; }
        .job-details h3 { font-size: var(--text-lg); margin-bottom: var(--space-1); }
        .job-details .customer { color: var(--gray-600); margin-bottom: var(--space-2); font-size: var(--text-sm); }
        .job-meta { display: flex; flex-wrap: wrap; gap: var(--space-4); font-size: var(--text-sm); color: var(--gray-500); }
        .job-meta span { display: flex; align-items: center; gap: var(--space-1); }
        .job-price { font-size: var(--text-xl); font-weight: var(--font-bold); color: var(--gray-900); padding: 0 var(--space-4); }
        .empty-state { text-align: center; padding: var(--space-12); color: var(--gray-500); background: var(--gray-50); border-radius: var(--radius-xl); border: 2px dashed var(--gray-200); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `})]})},LD=()=>{const{userData:s,updateProfileData:e}=xt(),n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],[i,l]=T.useState(n.map(j=>({day:j,enabled:j!=="Sunday",start:"09:00",end:"17:00"}))),[u,h]=T.useState(!1),[m,v]=T.useState(!1);T.useEffect(()=>{s?.availability&&l(s.availability)},[s]);const g=j=>{const S=[...i];S[j].enabled=!S[j].enabled,l(S),v(!1)},x=(j,S,I)=>{const C=[...i];C[j][S]=I,l(C),v(!1)},_=async()=>{h(!0);try{await e({availability:i}),v(!0),setTimeout(()=>v(!1),3e3)}catch(j){console.error("Error saving availability:",j),alert("Failed to save schedule.")}finally{h(!1)}};return r.jsxs("div",{className:"availability-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Availability"}),r.jsx("p",{children:"Set your weekly working hours and days off"})]}),r.jsxs("div",{className:"card info-box",children:[r.jsx(rS,{size:20}),r.jsx("p",{children:"Customers can only book you during these hours. Make sure they are accurate!"})]}),r.jsxs("div",{className:"card schedule-card",children:[r.jsx("div",{className:"schedule-list",children:i.map((j,S)=>r.jsxs("div",{className:`schedule-row ${j.enabled?"enabled":"disabled"}`,children:[r.jsxs("label",{className:"day-control",children:[r.jsx("div",{className:`custom-checkbox ${j.enabled?"checked":""}`,onClick:()=>g(S),children:j.enabled&&r.jsx(vt,{size:14})}),r.jsx("span",{className:"day-name",children:j.day})]}),j.enabled?r.jsxs("div",{className:"time-controls",children:[r.jsxs("div",{className:"time-input-group",children:[r.jsx(St,{size:14}),r.jsx("input",{type:"time",value:j.start,className:"form-input time-input",onChange:I=>x(S,"start",I.target.value)})]}),r.jsx("span",{className:"separator",children:"to"}),r.jsxs("div",{className:"time-input-group",children:[r.jsx(St,{size:14}),r.jsx("input",{type:"time",value:j.end,className:"form-input time-input",onChange:I=>x(S,"end",I.target.value)})]})]}):r.jsx("span",{className:"unavailable-tag",children:"Off Day"})]},j.day))}),r.jsxs("div",{className:"card-footer",children:[r.jsxs("button",{className:"btn btn-primary",onClick:_,disabled:u,children:[u?r.jsx(De,{className:"animate-spin",size:18}):m?r.jsx(vt,{size:18}):r.jsx(AS,{size:18}),u?"Saving...":m?"Changes Saved":"Save Schedule"]}),m&&r.jsx("span",{className:"success-msg",children:"Your working hours have been updated!"})]})]}),r.jsx("style",{children:`
        .availability-page { max-width: 800px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        
        .info-box { display: flex; align-items: center; gap: var(--space-3); background: var(--primary-50); color: var(--primary-700); padding: var(--space-4); margin-bottom: var(--space-6); border: 1px solid var(--primary-100); }
        .info-box p { font-size: var(--text-sm); margin: 0; }
        
        .schedule-card { padding: 0; overflow: hidden; }
        .schedule-list { display: flex; flex-direction: column; }
        
        .schedule-row { display: flex; align-items: center; justify-content: space-between; padding: var(--space-5) var(--space-6); border-bottom: 1px solid var(--gray-100); transition: 0.2s; }
        .schedule-row:last-child { border-bottom: none; }
        .schedule-row.disabled { background: var(--gray-50); }
        .schedule-row.enabled:hover { background: var(--gray-50)/50; }
        
        .day-control { display: flex; align-items: center; gap: var(--space-4); cursor: pointer; }
        .day-name { font-weight: var(--font-semibold); min-width: 100px; }
        
        .custom-checkbox { width: 22px; height: 22px; border-radius: 6px; border: 2px solid var(--gray-300); display: flex; align-items: center; justify-content: center; transition: 0.2s; }
        .custom-checkbox.checked { background: var(--primary-600); border-color: var(--primary-600); color: white; }
        
        .time-controls { display: flex; align-items: center; gap: var(--space-4); }
        .time-input-group { position: relative; display: flex; align-items: center; background: white; border: 1px solid var(--gray-200); border-radius: var(--radius-md); padding: 0 var(--space-3); }
        .time-input-group svg { color: var(--gray-400); margin-right: var(--space-2); }
        .time-input { border: none !important; padding: var(--space-2) 0 !important; width: 85px !important; font-size: var(--text-sm); font-weight: 500; }
        .time-input:focus { box-shadow: none !important; }
        .separator { color: var(--gray-400); font-weight: 500; font-size: var(--text-xs); text-transform: uppercase; }
        
        .unavailable-tag { color: var(--gray-400); font-size: var(--text-sm); font-weight: 500; background: var(--gray-200); padding: 4px 12px; border-radius: var(--radius-full); }
        
        .card-footer { padding: var(--space-6); background: white; border-top: 1px solid var(--gray-100); display: flex; align-items: center; gap: var(--space-4); }
        .success-msg { color: var(--success); font-size: var(--text-sm); font-weight: 500; }
        
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `})]})},UD=()=>{const{currentUser:s,userData:e,updateProfileData:n}=xt(),[i,l]=T.useState([]),[u,h]=T.useState(!0),[m,v]=T.useState(!1),[g,x]=T.useState(!1);T.useEffect(()=>{(async()=>{console.log("Fetching all available services...");try{const M=(await lt(wt(Je(xe,"services"),af("name","asc")))).docs.map(V=>({id:V.id,...V.data()}));console.log(`Successfully fetched ${M.length} services.`),l(M)}catch(C){console.error("Error fetching services:",C)}finally{h(!1)}})()},[]);const _=Array.isArray(e?.services)?e.services:[],j=()=>{console.log("Button clicked, setting showAddModal to true"),x(!0)},S=async I=>{v(!0);try{let C=[];const M=!_.includes(I);M?C=[..._,I]:C=_.filter(V=>V!==I),await n({services:C}),alert(M?`Successfully added ${I} to your profile!`:`Removed ${I} from your profile.`),x(!1)}catch(C){console.error("Error updating services:",C),alert("Failed to update services. Please try again.")}finally{v(!1)}};return u?r.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"10rem"},children:r.jsx(De,{className:"animate-spin",size:48})}):r.jsxs("div",{className:"services-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"My Services"}),r.jsx("p",{children:"Active services you are currently offering to customers"})]}),r.jsxs("button",{className:"btn btn-primary",onClick:j,id:"add-service-btn",children:[r.jsx(Mr,{size:18})," Add New Service"]})]}),r.jsx("div",{className:"services-list",children:_.length>0?_.map((I,C)=>{const M=i.find(V=>V.name===I);return r.jsx("div",{className:"card service-card",children:r.jsxs("div",{className:"service-main",children:[r.jsx("div",{className:"service-icon-box",children:M?.image?r.jsx("img",{src:M.image,alt:I}):r.jsx("div",{className:"placeholder-icon",children:r.jsx(Rn,{size:24})})}),r.jsxs("div",{className:"service-info",children:[r.jsx("h4",{children:I}),r.jsxs("div",{className:"service-meta",children:[r.jsxs("span",{children:[r.jsx(Ta,{size:14})," From $",M?.basePrice||"---"]}),r.jsxs("span",{children:[r.jsx(St,{size:14})," ~",M?.duration||"1-2"," hours"]})]})]}),r.jsx("button",{className:"btn btn-ghost btn-sm remove-btn",onClick:()=>S(I),disabled:m,children:r.jsx(tl,{size:18})})]})},C)}):r.jsxs("div",{className:"empty-state",children:[r.jsx(hg,{size:48}),r.jsx("h3",{children:"No Services Active"}),r.jsx("p",{children:"You haven't listed any services yet. Start adding services to receive job requests!"}),r.jsx("button",{className:"btn btn-primary btn-sm",onClick:j,style:{marginTop:"1rem"},children:"Add Your First Service"})]})}),g&&r.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),style:{visibility:"visible",opacity:1,display:"flex"},children:r.jsxs("div",{className:"modal-content",onClick:I=>I.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{children:"Add Service"}),r.jsx("button",{className:"btn-close",onClick:()=>x(!1),children:r.jsx(nl,{size:20})})]}),r.jsxs("div",{className:"services-grid",children:[i.length>0?i.filter(I=>!_.includes(I.name)).map(I=>r.jsxs("div",{className:"service-option-card",onClick:()=>S(I.name),children:[r.jsx("div",{className:"option-image",children:r.jsx("img",{src:I.image,alt:I.name})}),r.jsxs("div",{className:"option-info",children:[r.jsx("h5",{children:I.name}),r.jsx("span",{children:I.category})]}),r.jsx(Mr,{size:16,className:"add-icon"})]},I.id)):r.jsxs("div",{className:"modal-empty-state",children:[r.jsx(De,{className:"animate-spin",size:24}),r.jsx("p",{children:"Loading available services..."})]}),i.length>0&&i.filter(I=>!_.includes(I.name)).length===0&&r.jsxs("div",{className:"modal-empty-state",children:[r.jsx(Rn,{size:24,color:"var(--success)"}),r.jsx("p",{children:"You have already added all available services!"})]})]})]})}),r.jsx("style",{children:`
        .services-page { max-width: 900px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-8); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .services-list { display: flex; flex-direction: column; gap: var(--space-4); }
        .service-card { padding: var(--space-4); transition: 0.2s; }
        .service-card:hover { transform: translateY(-2px); border-color: var(--primary-200); }
        .service-main { display: flex; align-items: center; gap: var(--space-4); }
        .service-icon-box { width: 60px; height: 60px; border-radius: var(--radius-lg); overflow: hidden; background: var(--gray-100); flex-shrink: 0; }
        .service-icon-box img { width: 100%; height: 100%; object-fit: cover; }
        .placeholder-icon { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: var(--success); }
        .service-info { flex: 1; }
        .service-info h4 { font-size: var(--text-lg); margin-bottom: 4px; }
        .service-meta { display: flex; gap: var(--space-6); font-size: var(--text-sm); color: var(--gray-500); }
        .service-meta span { display: flex; align-items: center; gap: 4px; }
        .remove-btn { color: var(--error); opacity: 0.3; transition: 0.2s; }
        .service-card:hover .remove-btn { opacity: 1; }
        .remove-btn:hover { background: var(--error-light); }
        
        .empty-state { text-align: center; padding: 4rem; color: var(--gray-400); background: white; border-radius: var(--radius-xl); border: 2px dashed var(--gray-200); }
        .empty-state h3 { color: var(--gray-700); margin: 1rem 0 0.5rem; }

        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; z-index: 9999; backdrop-filter: blur(8px); }
        .modal-content { background: white; border-radius: var(--radius-2xl); width: 90%; max-width: 700px; max-height: 85vh; overflow-y: auto; padding: var(--space-8); box-shadow: 0 20px 50px rgba(0,0,0,0.3); border: 1px solid var(--gray-100); position: relative; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-8); }
        .btn-close { background: var(--gray-50); border: none; cursor: pointer; color: var(--gray-500); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: 0.2s; }
        .btn-close:hover { background: var(--gray-100); color: var(--gray-900); }
        .services-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-4); }
        .service-option-card { display: flex; align-items: center; gap: var(--space-4); padding: var(--space-4); border: 1px solid var(--gray-200); border-radius: var(--radius-xl); cursor: pointer; position: relative; transition: 0.2s; background: white; }
        .service-option-card:hover { border-color: var(--primary-400); transform: translateY(-3px); box-shadow: var(--shadow-md); }
        .option-image { width: 60px; height: 60px; border-radius: var(--radius-lg); overflow: hidden; flex-shrink: 0; }
        .option-image img { width: 100%; height: 100%; object-fit: cover; }
        .option-info { flex: 1; }
        .option-info h5 { font-size: var(--text-base); margin-bottom: 2px; }
        .option-info span { font-size: 10px; text-transform: uppercase; color: var(--primary-600); font-weight: bold; background: var(--primary-50); padding: 2px 8px; border-radius: 4px; }
        .add-icon { color: var(--gray-300); transition: 0.2s; }
        .service-option-card:hover .add-icon { color: var(--primary-600); transform: scale(1.2); }
        
        .modal-empty-state { grid-column: span 2; display: flex; flex-direction: column; align-items: center; gap: var(--space-4); padding: var(--space-12); color: var(--gray-500); text-align: center; }
        .modal-empty-state p { font-size: var(--text-sm); max-width: 250px; margin: 0; }
        
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 600px) { .services-grid { grid-template-columns: 1fr; } }
      `})]})},BD=()=>{const{currentUser:s}=xt(),[e,n]=T.useState(!0),[i,l]=T.useState({revenue:0,balance:0,pending:0}),[u,h]=T.useState([]),[m,v]=T.useState(!1),[g,x]=T.useState(""),[_,j]=T.useState(!1);T.useEffect(()=>{(async()=>{if(s){n(!0);try{const M=wt(Je(xe,"bookings"),Dt("providerId","==",s.uid),Dt("status","==","completed")),V=await lt(M);let P=0;const H=V.docs.map(A=>{const D=A.data(),L=Number(D.price)||0,k=Number(D.serviceFee)||0;return P+=L,{id:A.id,service:D.serviceName,date:D.date,timestamp:D.createdAt?.toDate?D.createdAt.toDate():new Date(D.date),amount:L,fee:k,customer:D.customerName,type:"earning"}}),ee=wt(Je(xe,"withdrawals"),Dt("providerId","==",s.uid)),re=await lt(ee);let W=0;re.forEach(A=>{W+=Number(A.data().amount)});const R=P-W;H.sort((A,D)=>D.timestamp-A.timestamp),l({revenue:P,balance:R,pending:0}),h(H)}catch(M){console.error("Error fetching earnings:",M)}finally{n(!1)}}})()},[s]);const S=async()=>{if(!g||isNaN(g)||Number(g)<=0){alert("Please enter a valid amount.");return}j(!0);try{await cu(Je(xe,"withdrawals"),{providerId:s.uid,amount:Number(g),status:"processed",createdAt:new Date,method:"bank_transfer"}),alert(`Withdrawal of $${g} processed successfully!`),l(C=>({...C,balance:C.balance-Number(g)})),v(!1),x("")}catch(C){console.error("Error processing withdrawal:",C),alert("Failed to process withdrawal. Please try again.")}finally{j(!1)}},I=()=>{if(u.length===0){alert("No transactions to export.");return}const C=["Job ID","Date","Service","Customer","Amount","Fee","Net Earnings"],M=u.map(re=>[re.id,re.date,re.service,re.customer,re.amount+re.fee,re.fee,re.amount]),V=[C,...M].map(re=>re.join(",")).join(`
`),P=new Blob([V],{type:"text/csv;charset=utf-8;"}),H=URL.createObjectURL(P),ee=document.createElement("a");ee.setAttribute("href",H),ee.setAttribute("download",`earnings_report_${new Date().toISOString().split("T")[0]}.csv`),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)};return r.jsxs("div",{className:"earnings-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Earnings & Wallet"}),r.jsx("p",{children:"Manage your revenue and payouts"})]}),r.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[r.jsxs("button",{className:"btn btn-outline",onClick:I,children:[r.jsx(kh,{size:18})," Report"]}),r.jsxs("button",{className:"btn btn-primary",onClick:()=>v(!0),disabled:i.balance<=0,children:[r.jsx(YS,{size:18})," Withdraw"]})]})]}),r.jsxs("div",{className:"stats-grid",children:[r.jsxs("div",{className:"card stat-card",children:[r.jsxs("div",{className:"stat-header",children:[r.jsx("div",{className:"stat-icon",style:{background:"var(--success-light)",color:"var(--success)"},children:r.jsx(Ta,{size:20})}),r.jsx("span",{className:"trend positive",children:"+12%"})]}),r.jsxs("div",{className:"stat-value",children:["$",i.revenue]}),r.jsx("div",{className:"stat-label",children:"Total Revenue"})]}),r.jsxs("div",{className:"card stat-card",children:[r.jsxs("div",{className:"stat-header",children:[r.jsx("div",{className:"stat-icon",style:{background:"var(--primary-50)",color:"var(--primary-600)"},children:r.jsx(Ih,{size:20})}),r.jsx("span",{className:"trend",children:"Available"})]}),r.jsxs("div",{className:"stat-value",children:["$",i.balance]}),r.jsx("div",{className:"stat-label",children:"Current Balance"})]}),r.jsxs("div",{className:"card stat-card",children:[r.jsxs("div",{className:"stat-header",children:[r.jsx("div",{className:"stat-icon",style:{background:"var(--warning-light)",color:"var(--warning)"},children:r.jsx(ht,{size:20})}),r.jsx("span",{className:"trend",children:"Pending"})]}),r.jsxs("div",{className:"stat-value",children:["$",i.pending]}),r.jsx("div",{className:"stat-label",children:"Clearing Soon"})]})]}),r.jsxs("div",{className:"card earnings-table-card",children:[r.jsx("h3",{className:"card-title",children:"Transaction History"}),r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"earnings-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Job ID"}),r.jsx("th",{children:"Service / Customer"}),r.jsx("th",{children:"Date"}),r.jsx("th",{children:"Service Fee"}),r.jsx("th",{children:"Net Earnings"}),r.jsx("th",{children:"Status"})]})}),r.jsxs("tbody",{children:[e?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"3rem"},children:r.jsx(De,{className:"animate-spin",size:24})})}):u.map(C=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("span",{style:{fontFamily:"monospace",fontSize:"12px",background:"var(--gray-100)",padding:"2px 6px",borderRadius:"4px"},children:["#",C.id.slice(0,6)]})}),r.jsxs("td",{children:[r.jsx("div",{style:{fontWeight:"600"},children:C.service}),r.jsx("div",{style:{fontSize:"12px",color:"var(--gray-500)"},children:C.customer})]}),r.jsx("td",{children:C.date}),r.jsxs("td",{style:{color:"var(--error)"},children:["-$",C.fee]}),r.jsxs("td",{className:"amount",children:["+$",C.amount]}),r.jsx("td",{children:r.jsx("span",{className:"badge badge-success",children:"Paid"})})]},C.id)),!e&&u.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"3rem",color:"var(--gray-500)"},children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[r.jsx(hg,{size:24}),r.jsx("p",{children:"No completed transactions yet."})]})})})]})]})})]}),m&&r.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:r.jsxs("div",{className:"modal-content card",onClick:C=>C.stopPropagation(),children:[r.jsx("h2",{children:"Withdraw Funds"}),r.jsx("p",{children:"Transfer earnings to your linked bank account"}),r.jsxs("div",{className:"balance-display",style:{margin:"1.5rem 0",padding:"1rem",background:"var(--gray-50)",borderRadius:"var(--radius-lg)",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"0.875rem",color:"var(--gray-500)"},children:"Available Balance"}),r.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--primary-600)"},children:["$",i.balance]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Amount"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--gray-500)"},children:"$"}),r.jsx("input",{type:"number",className:"form-input",style:{paddingLeft:"2rem"},placeholder:"Enter amount",value:g,onChange:C=>x(C.target.value),max:i.balance})]})]}),r.jsxs("div",{className:"modal-actions",style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[r.jsx("button",{className:"btn btn-secondary",onClick:()=>v(!1),style:{flex:1},children:"Cancel"}),r.jsx("button",{className:"btn btn-primary",onClick:S,style:{flex:1},disabled:!g||Number(g)>i.balance||_,children:_?r.jsx(De,{className:"animate-spin",size:18}):"Confirm Withdraw"})]})]})}),r.jsx("style",{children:`
        .earnings-page { max-width: 1100px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-8); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-6); margin-bottom: var(--space-8); }
        .stat-card { padding: var(--space-6); transition: transform 0.2s; }
        .stat-card:hover { transform: translateY(-2px); }
        .stat-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-4); }
        .stat-icon { width: 44px; height: 44px; border-radius: 12px; display: flex; align-items: center; justify-content: center; }
        .trend { font-size: var(--text-xs); font-weight: var(--font-bold); padding: 2px 8px; border-radius: 20px; }
        .trend.positive { background: var(--success-light); color: var(--success); }
        .stat-value { font-size: 2.5rem; font-weight: var(--font-bold); margin-bottom: var(--space-1); letter-spacing: -1px; }
        .stat-label { font-size: var(--text-sm); color: var(--gray-500); font-weight: 500; }
        
        .earnings-table-card { padding: 0; overflow: hidden; }
        .card-title { padding: var(--space-5) var(--space-6); border-bottom: 1px solid var(--gray-100); font-size: var(--text-lg); }
        .table-responsive { width: 100%; overflow-x: auto; }
        .earnings-table { width: 100%; border-collapse: collapse; text-align: left; }
        .earnings-table th { padding: var(--space-4) var(--space-6); background: var(--gray-50); font-size: 11px; font-weight: 700; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.05em; }
        .earnings-table td { padding: var(--space-4) var(--space-6); border-bottom: 1px solid var(--gray-50); font-size: var(--text-sm); vertical-align: middle; }
        .earnings-table tr:hover td { background: var(--gray-50); }
        .earnings-table .amount { font-weight: var(--font-bold); color: var(--success); font-family: monospace; font-size: 15px; }
        
        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: var(--z-modal); backdrop-filter: blur(4px); }
        .modal-content { width: 100%; max-width: 420px; padding: var(--space-8); animation: modalSlide 0.3s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes modalSlide { from { opacity: 0; transform: translateY(20px) scale(0.96); } to { opacity: 1; transform: translateY(0) scale(1); } }
        
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (max-width: 768px) { .stats-grid { grid-template-columns: 1fr; } }
      `})]})},qD=()=>{const{userData:s,updateProfileData:e}=xt(),[n,i]=T.useState(!1),[l,u]=T.useState(!1),[h,m]=T.useState(s?.paymentDetails?.upiId||""),[v,g]=T.useState(s?.paymentDetails?.accountHolderName||""),x=async()=>{u(!0);try{await e({paymentDetails:{type:"upi",upiId:h,accountHolderName:v}}),i(!1),alert("Payment details updated successfully!")}catch(_){console.error("Error updating payout settings:",_),alert("Failed to update settings.")}finally{u(!1)}};return r.jsxs("div",{className:"payout-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Payout Settings"}),r.jsx("p",{children:"Manage how you receive your earnings"})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"section-header",children:[r.jsx("h3",{children:"UPI Configuration"}),!n&&r.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>i(!0),children:[r.jsx(Li,{size:16})," Edit Details"]})]}),r.jsxs("div",{className:"payout-method-box",children:[r.jsx("div",{className:"method-icon",children:r.jsx(is,{size:24})}),r.jsx("div",{className:"method-details",children:n?r.jsxs("div",{className:"edit-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Account Holder Name"}),r.jsx("input",{type:"text",className:"form-input",value:v,onChange:_=>g(_.target.value),placeholder:"Name as per bank"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"UPI ID"}),r.jsx("input",{type:"text",className:"form-input",value:h,onChange:_=>m(_.target.value),placeholder:"username@upi"})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>i(!1),children:"Cancel"}),r.jsxs("button",{className:"btn btn-primary btn-sm",onClick:x,disabled:l,children:[l?r.jsx(De,{size:16,className:"animate-spin"}):r.jsx(Rn,{size:16})," Save"]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("h4",{children:s?.paymentDetails?.accountHolderName||"Not Set"}),r.jsx("p",{className:"upi-id",children:s?.paymentDetails?.upiId||"No UPI ID registered"}),r.jsx("span",{className:"badge badge-success",style:{marginTop:"8px",display:"inline-block"},children:"Active Payout Method"})]})})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Payout Schedule"}),r.jsxs("p",{children:["Your earnings are automatically transferred to your UPI ID every ",r.jsx("strong",{children:"Monday"}),"."]}),r.jsx("div",{className:"info-box",style:{marginTop:"var(--space-4)",padding:"var(--space-4)",background:"var(--gray-50)",borderRadius:"var(--radius-md)",fontSize:"14px",color:"var(--gray-600)"},children:"Note: Payouts may take up to 24 hours to reflect in your account depending on your bank's processing time."})]}),r.jsx("style",{children:`
        .payout-page { max-width: 800px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); }
        .payout-method-box { display: flex; gap: var(--space-6); padding: var(--space-6); background: var(--gray-50); border-radius: var(--radius-xl); border: 1px solid var(--gray-200); }
        .method-icon { width: 60px; height: 60px; background: var(--primary-600); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2); }
        .method-details { flex: 1; }
        .method-details h4 { font-size: var(--text-lg); margin-bottom: 4px; }
        .upi-id { font-family: monospace; font-size: var(--text-md); color: var(--primary-600); font-weight: 600; }
        .edit-form { display: flex; flex-direction: column; gap: var(--space-4); }
        .form-actions { display: flex; gap: var(--space-3); justify-content: flex-end; margin-top: var(--space-2); }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `})]})},FD=()=>{const{userData:s,updateProfileData:e,changePassword:n,reauthenticate:i}=xt(),[l,u]=T.useState(!1),[h,m]=T.useState(!1),[v,g]=T.useState({type:"",text:""}),[x,_]=T.useState({type:"",text:""}),[j,S]=T.useState({firstName:"",lastName:"",phone:"",bio:"",specialization:""}),[I,C]=T.useState({currentPassword:"",newPassword:"",confirmPassword:""});T.useEffect(()=>{if(s){const[re,...W]=(s.fullName||"").split(" ");S({firstName:re||"",lastName:W.join(" ")||"",phone:s.phone||"",bio:s.bio||"",specialization:s.specialization||""})}},[s]);const M=re=>{S({...j,[re.target.name]:re.target.value})},V=re=>{C({...I,[re.target.name]:re.target.value})},P=async re=>{re.preventDefault(),u(!0),g({type:"",text:""});try{await e({fullName:`${j.firstName} ${j.lastName}`.trim(),phone:j.phone,bio:j.bio,specialization:j.specialization}),g({type:"success",text:"Profile updated successfully!"})}catch(W){console.error("Update error",W),g({type:"error",text:"Failed to update profile."})}finally{u(!1)}},H=async re=>{if(re.preventDefault(),I.newPassword!==I.confirmPassword)return _({type:"error",text:"Passwords do not match."});if(I.newPassword.length<6)return _({type:"error",text:"Password should be at least 6 characters."});m(!0),_({type:"",text:""});try{await i(I.currentPassword),await n(I.newPassword),_({type:"success",text:"Password updated successfully!"}),C({currentPassword:"",newPassword:"",confirmPassword:""})}catch(W){console.error("Password update error",W),W.code==="auth/wrong-password"?_({type:"error",text:"Incorrect current password."}):_({type:"error",text:"Failed to update password. Try logging in again."})}finally{m(!1)}},ee={name:s?.fullName||"",email:s?.email||"",phone:s?.phone||"",address:s?.address||"",rating:s?.rating||"New",jobs:s?.jobsCompleted||0,avatar:s?.avatar||null,bio:s?.bio||""};return r.jsxs("div",{className:"profile-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"My Profile"}),r.jsx("p",{children:"Manage your professional information"})]}),v.text&&r.jsx("div",{className:`alert ${v.type==="success"?"alert-success":"alert-error"}`,style:{marginBottom:"var(--space-6)",padding:"var(--space-4)",borderRadius:"var(--radius-lg)",background:v.type==="success"?"var(--success-50)":"var(--error-50)",color:v.type==="success"?"var(--success-700)":"var(--error-700)",border:`1px solid ${v.type==="success"?"var(--success-200)":"var(--error-200)"}`},children:v.text}),r.jsxs("div",{className:"profile-grid",children:[r.jsx("div",{className:"card profile-card",children:r.jsxs("div",{className:"avatar-section",children:[r.jsxs("div",{className:"avatar-wrapper",children:[r.jsx("div",{className:"avatar avatar-xl",children:ee.avatar?r.jsx("img",{src:ee.avatar,alt:ee.name}):ee.name?ee.name.charAt(0):r.jsx(Mn,{})}),r.jsx("button",{className:"avatar-edit",children:r.jsx(i_,{size:16})})]}),r.jsx("h3",{children:ee.name||"Provider"}),r.jsx("p",{children:j.specialization||"Professional"}),r.jsxs("div",{className:"profile-stats",children:[r.jsxs("div",{children:[r.jsx(cn,{size:16,fill:"#FBBF24",color:"#FBBF24"})," ",r.jsx("strong",{children:ee.rating})," Rating"]}),r.jsxs("div",{children:[r.jsx(Dr,{size:16})," ",r.jsx("strong",{children:ee.jobs})," Jobs"]})]})]})}),r.jsxs("div",{className:"card form-section",children:[r.jsx("h3",{children:"Personal Information"}),r.jsxs("form",{onSubmit:P,children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"First Name"}),r.jsx("input",{type:"text",name:"firstName",className:"form-input",value:j.firstName,onChange:M})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Last Name"}),r.jsx("input",{type:"text",name:"lastName",className:"form-input",value:j.lastName,onChange:M})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Email"}),r.jsx("input",{type:"email",className:"form-input",value:ee.email,disabled:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",className:"form-input",value:j.phone,onChange:M})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Specialization"}),r.jsx("input",{type:"text",name:"specialization",className:"form-input",value:j.specialization,onChange:M})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Bio"}),r.jsx("textarea",{name:"bio",className:"form-input form-textarea",value:j.bio,onChange:M,rows:"3"})]}),r.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?r.jsxs(r.Fragment,{children:[r.jsx(De,{size:18,className:"animate-spin"})," Saving..."]}):"Save Changes"})]})]}),r.jsxs("div",{className:"card form-section",style:{gridColumn:"span 2"},children:[r.jsx("h3",{children:"Change Password"}),x.text&&r.jsx("div",{className:`alert ${x.type==="success"?"alert-success":"alert-error"}`,style:{marginBottom:"var(--space-4)",padding:"var(--space-3)",borderRadius:"var(--radius-md)",background:x.type==="success"?"var(--success-50)":"var(--error-50)",color:x.type==="success"?"var(--success-700)":"var(--error-700)",border:`1px solid ${x.type==="success"?"var(--success-200)":"var(--error-200)"}`},children:x.text}),r.jsxs("form",{onSubmit:H,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"var(--space-4)"},children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Current Password"}),r.jsx("input",{type:"password",name:"currentPassword",className:"form-input",placeholder:"Enter current password",value:I.currentPassword,onChange:V,required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"New Password"}),r.jsx("input",{type:"password",name:"newPassword",className:"form-input",placeholder:"Enter new password",value:I.newPassword,onChange:V,required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Confirm Password"}),r.jsx("input",{type:"password",name:"confirmPassword",className:"form-input",placeholder:"Confirm new password",value:I.confirmPassword,onChange:V,required:!0})]}),r.jsx("div",{style:{gridColumn:"1 / -1"},children:r.jsx("button",{type:"submit",className:"btn btn-secondary",disabled:h,children:h?r.jsxs(r.Fragment,{children:[r.jsx(De,{size:18,className:"animate-spin"})," Updating..."]}):"Update Password"})})]})]})]}),r.jsx("style",{children:`
        .profile-page { max-width: 900px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .profile-grid { display: grid; grid-template-columns: 300px 1fr; gap: var(--space-6); }
        .profile-card { text-align: center; }
        .avatar-section { padding: var(--space-6); }
        .avatar-wrapper { position: relative; display: inline-block; margin-bottom: var(--space-4); }
        .avatar-wrapper img { width: 100px; height: 100px; border-radius: 50%; object-fit: cover; }
        .avatar-edit { position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; background: var(--primary-600); color: white; border: 3px solid white; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .avatar-section h3 { margin-bottom: var(--space-1); }
        .avatar-section > p { color: var(--gray-500); margin-bottom: var(--space-4); }
        .profile-stats { display: flex; justify-content: center; gap: var(--space-6); font-size: var(--text-sm); color: var(--gray-600); }
        .profile-stats div { display: flex; align-items: center; gap: var(--space-1); }
        .form-section h3 { margin-bottom: var(--space-5); }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); }
        @media (max-width: 768px) { .profile-grid { grid-template-columns: 1fr; } .form-row { grid-template-columns: 1fr; } }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `})]})},HD=()=>{const{currentUser:s}=xt(),[e,n]=T.useState([]),[i,l]=T.useState({average:0,total:0,breakdown:[]}),[u,h]=T.useState(!0);return T.useEffect(()=>{(async()=>{if(s){h(!0);try{const v=wt(Je(xe,"reviews"),Dt("providerId","==",s.uid)),x=(await lt(v)).docs.map(M=>{const V=M.data();return{id:M.id,...V,customer:V.customerName||V.customer||"Anonymous",service:V.serviceName||V.service||"Service",date:V.createdAt?.toDate?V.createdAt.toDate().toLocaleDateString():V.date||"Recent",avatar:V.customerAvatar||"https://images.unsplash.com/photo-1633332755192-727a05c4013d?w=100&h=100&fit=crop"}}),_=x.length,j=x.reduce((M,V)=>M+(Number(V.rating)||0),0),S=_>0?(j/_).toFixed(1):0,I={5:0,4:0,3:0,2:0,1:0};x.forEach(M=>{const V=Math.round(Number(M.rating)||0);I[V]!==void 0&&I[V]++});const C=[5,4,3,2,1].map(M=>({stars:M,count:I[M]}));n(x),l({average:S,total:_,breakdown:C})}catch(v){console.error("Error fetching reviews:",v)}finally{h(!1)}}})()},[s]),r.jsxs("div",{className:"reviews-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"My Reviews"}),r.jsx("p",{children:"See what customers say about your work"})]}),r.jsxs("div",{className:"reviews-grid",children:[r.jsxs("div",{className:"card stats-card",children:[r.jsxs("div",{className:"overall-rating",children:[r.jsx("span",{className:"big-rating",children:i.average}),r.jsx("div",{className:"stars",children:[...Array(5)].map((m,v)=>r.jsx(cn,{size:20,fill:v<Math.floor(i.average)?"#FBBF24":"#E5E7EB",color:v<Math.floor(i.average)?"#FBBF24":"#E5E7EB"},v))}),r.jsxs("p",{children:[i.total," reviews"]})]}),r.jsx("div",{className:"rating-breakdown",children:i.breakdown.map(m=>r.jsxs("div",{className:"breakdown-row",children:[r.jsxs("span",{children:[m.stars," star"]}),r.jsx("div",{className:"bar",children:r.jsx("div",{className:"fill",style:{width:`${i.total>0?m.count/i.total*100:0}%`}})}),r.jsx("span",{children:m.count})]},m.stars))})]}),r.jsx("div",{className:"reviews-list",children:e.map(m=>r.jsxs("div",{className:"card review-card",children:[r.jsxs("div",{className:"review-header",children:[r.jsx("img",{src:m.avatar,alt:m.customer}),r.jsxs("div",{children:[r.jsx("h4",{children:m.customer}),r.jsx("span",{className:"service",children:m.service})]}),r.jsxs("div",{className:"review-meta",children:[r.jsx("div",{className:"stars",children:[...Array(m.rating)].map((v,g)=>r.jsx(cn,{size:14,fill:"#FBBF24",color:"#FBBF24"},g))}),r.jsxs("span",{children:[r.jsx(ht,{size:12})," ",m.date]})]})]}),r.jsx("p",{children:m.comment}),r.jsxs("button",{className:"btn btn-ghost btn-sm",children:[r.jsx(fg,{size:14})," Reply"]})]},m.id))})]}),r.jsx("style",{children:`
        .reviews-page { max-width: 1000px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .reviews-grid { display: grid; grid-template-columns: 300px 1fr; gap: var(--space-6); }
        .stats-card { padding: var(--space-6); }
        .overall-rating { text-align: center; margin-bottom: var(--space-6); padding-bottom: var(--space-6); border-bottom: 1px solid var(--gray-100); }
        .big-rating { font-size: 3rem; font-weight: var(--font-bold); color: var(--gray-900); }
        .stars { display: flex; justify-content: center; gap: var(--space-1); margin: var(--space-2) 0; }
        .overall-rating p { color: var(--gray-500); }
        .rating-breakdown { display: flex; flex-direction: column; gap: var(--space-2); }
        .breakdown-row { display: flex; align-items: center; gap: var(--space-3); font-size: var(--text-sm); }
        .bar { flex: 1; height: 8px; background: var(--gray-100); border-radius: 4px; overflow: hidden; }
        .fill { height: 100%; background: var(--accent-yellow); }
        .reviews-list { display: flex; flex-direction: column; gap: var(--space-4); }
        .review-card { padding: var(--space-5); }
        .review-header { display: flex; gap: var(--space-3); margin-bottom: var(--space-3); }
        .review-header img { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; }
        .review-header h4 { margin-bottom: var(--space-1); }
        .review-header .service { font-size: var(--text-xs); color: var(--gray-500); }
        .review-meta { margin-left: auto; text-align: right; }
        .review-meta span { display: flex; align-items: center; gap: var(--space-1); font-size: var(--text-xs); color: var(--gray-400); margin-top: var(--space-1); }
        .review-card p { margin-bottom: var(--space-3); line-height: 1.6; }
        @media (max-width: 768px) { .reviews-grid { grid-template-columns: 1fr; } }
      `})]})},GD=()=>{const s=[];return r.jsxs("div",{className:"support-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Help & Support"}),r.jsx("p",{children:"Get help with your provider account"})]}),r.jsxs("div",{className:"support-grid",children:[r.jsxs("div",{className:"card contact-card",children:[r.jsx("h3",{children:"Contact Us"}),r.jsxs("div",{className:"contact-options",children:[r.jsxs("a",{href:"#",className:"contact-option",children:[r.jsx("div",{className:"option-icon",children:r.jsx(fg,{size:20})}),r.jsxs("div",{children:[r.jsx("strong",{children:"Live Chat"}),r.jsx("p",{children:"Chat with support"})]}),r.jsx(oa,{size:18})]}),r.jsxs("a",{href:"mailto:provider-support@servisgo.com",className:"contact-option",children:[r.jsx("div",{className:"option-icon",children:r.jsx(Vi,{size:20})}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email"}),r.jsx("p",{children:"provider-support@servisgo.com"})]}),r.jsx(oa,{size:18})]}),r.jsxs("a",{href:"tel:+1234567890",className:"contact-option",children:[r.jsx("div",{className:"option-icon",children:r.jsx(Yc,{size:20})}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone"}),r.jsx("p",{children:"+1 (234) 567-890"})]}),r.jsx(oa,{size:18})]})]})]}),r.jsxs("div",{className:"card faq-card",children:[r.jsx("h3",{children:"Quick Answers"}),r.jsx("div",{className:"faq-list",children:s.map((e,n)=>r.jsxs("div",{className:"faq-item",children:[r.jsx(o_,{size:18}),r.jsxs("div",{children:[r.jsx("strong",{children:e.q}),r.jsx("p",{children:e.a})]})]},n))}),r.jsxs("a",{href:"/faq",className:"btn btn-secondary",style:{marginTop:"var(--space-4)"},children:["View All FAQs ",r.jsx(l_,{size:16})]})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Submit a Ticket"}),r.jsxs("form",{children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Subject"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"What's your issue about?"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Description"}),r.jsx("textarea",{className:"form-input form-textarea",placeholder:"Describe your issue in detail...",rows:"4"})]}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Ticket"})]})]}),r.jsx("style",{children:`
        .support-page { max-width: 900px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .support-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-6); margin-bottom: var(--space-6); }
        .contact-card h3, .faq-card h3 { margin-bottom: var(--space-4); }
        .contact-options { display: flex; flex-direction: column; gap: var(--space-3); }
        .contact-option { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); border-radius: var(--radius-lg); background: var(--gray-50); color: inherit; }
        .contact-option:hover { background: var(--gray-100); }
        .option-icon { width: 40px; height: 40px; background: var(--primary-50); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; color: var(--primary-600); }
        .contact-option strong { display: block; margin-bottom: var(--space-1); }
        .contact-option p { font-size: var(--text-sm); color: var(--gray-500); }
        .contact-option > svg { margin-left: auto; color: var(--gray-400); }
        .faq-list { display: flex; flex-direction: column; gap: var(--space-4); }
        .faq-item { display: flex; gap: var(--space-3); }
        .faq-item svg { color: var(--primary-600); flex-shrink: 0; margin-top: 2px; }
        .faq-item strong { display: block; margin-bottom: var(--space-1); }
        .faq-item p { font-size: var(--text-sm); color: var(--gray-600); }
        .card h3 { margin-bottom: var(--space-5); }
        @media (max-width: 768px) { .support-grid { grid-template-columns: 1fr; } }
      `})]})},$D=()=>{const s=[{label:"Total Users",value:"0",change:"-",icon:$n,color:"var(--primary-600)"},{label:"Active Providers",value:"0",change:"-",icon:Dr,color:"var(--accent-cyan)"},{label:"Bookings Today",value:"0",change:"-",icon:ht,color:"var(--accent-orange)"},{label:"Revenue (MTD)",value:"$0",change:"-",icon:Ta,color:"var(--success)"}],e=[],n=[];return r.jsxs("div",{className:"admin-dashboard",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Dashboard"}),r.jsx("p",{children:"Welcome back, Admin"})]}),r.jsx("div",{className:"stats-grid",children:s.map((i,l)=>r.jsxs("div",{className:"card stat-card",children:[r.jsx("div",{className:"stat-icon",style:{background:`${i.color}15`,color:i.color},children:r.jsx(i.icon,{size:24})}),r.jsxs("div",{className:"stat-info",children:[r.jsx("span",{className:"stat-label",children:i.label}),r.jsx("span",{className:"stat-value",children:i.value}),r.jsxs("span",{className:"stat-change",children:[r.jsx(s_,{size:14})," ",i.change]})]})]},l))}),n.length>0&&r.jsx("div",{className:"alerts-section",children:n.map((i,l)=>r.jsxs("div",{className:`alert alert-${i.type}`,children:[r.jsx(hg,{size:18})," ",i.message]},l))}),r.jsxs("div",{className:"dashboard-grid",children:[r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:"Recent Bookings"}),r.jsx(oe,{to:"/admin/bookings",className:"btn btn-ghost btn-sm",children:"View All"})]}),r.jsx("div",{className:"table-wrapper",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Customer"}),r.jsx("th",{children:"Service"}),r.jsx("th",{children:"Provider"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Amount"})]})}),r.jsx("tbody",{children:e.map(i=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("strong",{children:i.customer})}),r.jsx("td",{children:i.service}),r.jsx("td",{children:i.provider}),r.jsx("td",{children:r.jsx("span",{className:`badge badge-${i.status==="completed"?"success":i.status==="pending"?"warning":"info"}`,children:i.status})}),r.jsxs("td",{children:["$",i.amount]})]},i.id))})]})})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Quick Stats"}),r.jsxs("div",{className:"chart-placeholder",children:[r.jsx(Ih,{size:48}),r.jsx("p",{children:"No revenue data yet"})]})]})]}),r.jsx("style",{children:`
        .admin-dashboard { max-width: 1200px; margin: 0 auto; }
        .page-header { margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-6); margin-bottom: var(--space-6); }
        .stat-card { display: flex; gap: var(--space-4); align-items: center; }
        .stat-icon { width: 56px; height: 56px; border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; }
        .stat-label { font-size: var(--text-sm); color: var(--gray-500); display: block; }
        .stat-value { font-size: var(--text-2xl); font-weight: var(--font-bold); display: block; }
        .stat-change { font-size: var(--text-sm); color: var(--success); display: flex; align-items: center; gap: 2px; }
        .alerts-section { display: flex; flex-direction: column; gap: var(--space-3); margin-bottom: var(--space-6); }
        .alert { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-4); border-radius: var(--radius-lg); }
        .alert-warning { background: #FEF3C7; color: #92400E; }
        .alert-info { background: #DBEAFE; color: #1E40AF; }
        .dashboard-grid { display: grid; grid-template-columns: 2fr 1fr; gap: var(--space-6); }
        .chart-placeholder { text-align: center; padding: var(--space-10); color: var(--gray-400); }
        .chart-placeholder p { margin-top: var(--space-4); color: var(--gray-600); font-weight: var(--font-medium); }
        @media (max-width: 1024px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } .dashboard-grid { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .stats-grid { grid-template-columns: 1fr; } }
      `})]})},YD=()=>{const[s,e]=T.useState("all"),n=["all","customers","providers","admins"],i=[],l=s==="all"?i:i.filter(u=>u.role===s.slice(0,-1));return r.jsxs("div",{className:"user-management-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"User Management"}),r.jsx("p",{children:"Manage customers, providers, and admins"})]}),r.jsxs("button",{className:"btn btn-primary",children:[r.jsx(Mr,{size:18})," Add User"]})]}),r.jsxs("div",{className:"toolbar",children:[r.jsx("div",{className:"tabs",children:n.map(u=>r.jsx("button",{className:`tab ${s===u?"active":""}`,onClick:()=>e(u),children:u.charAt(0).toUpperCase()+u.slice(1)},u))}),r.jsxs("div",{className:"search-input-wrapper",children:[r.jsx(ua,{size:18,className:"search-icon"}),r.jsx("input",{type:"text",className:"form-input search-input",placeholder:"Search users..."})]})]}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"table-wrapper",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"User"}),r.jsx("th",{children:"Role"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Joined"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:l.map(u=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("div",{className:"user-cell",children:[r.jsx("div",{className:"avatar avatar-sm",children:u.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("strong",{children:u.name}),r.jsx("p",{children:u.email})]})]})}),r.jsx("td",{children:r.jsxs("span",{className:`badge badge-${u.role==="admin"?"primary":u.role==="provider"?"info":"secondary"}`,children:[u.role," ",u.verified&&r.jsx(vt,{size:12})]})}),r.jsx("td",{children:r.jsx("span",{className:`badge badge-${u.status==="active"?"success":u.status==="pending"?"warning":"gray"}`,children:u.status})}),r.jsx("td",{children:u.joined}),r.jsx("td",{children:r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",children:r.jsx($c,{size:16})}),r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",children:r.jsx(Li,{size:16})}),r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",style:{color:"var(--error)"},children:r.jsx(tl,{size:16})})]})})]},u.id))})]})})}),r.jsx("style",{children:`
        .user-management-page { max-width: 1200px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .toolbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); gap: var(--space-4); flex-wrap: wrap; }
        .toolbar .search-input-wrapper { width: 300px; }
        .user-cell { display: flex; align-items: center; gap: var(--space-3); }
        .user-cell p { font-size: var(--text-sm); color: var(--gray-500); }
        .action-buttons { display: flex; gap: var(--space-1); }
        @media (max-width: 768px) { .toolbar { flex-direction: column; align-items: stretch; } .toolbar .search-input-wrapper { width: 100%; } .page-header { flex-direction: column; gap: var(--space-4); align-items: flex-start; } }
      `})]})},QD=()=>{const s=[{id:1,name:"Cleaning",services:12,providers:45,status:"active"},{id:2,name:"Plumbing",services:8,providers:32,status:"active"},{id:3,name:"Electrical",services:10,providers:28,status:"active"},{id:4,name:"AC & Appliances",services:6,providers:24,status:"active"},{id:5,name:"Painting",services:5,providers:18,status:"active"},{id:6,name:"Beauty & Spa",services:15,providers:56,status:"active"}];return r.jsxs("div",{className:"service-management-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Service Management"}),r.jsx("p",{children:"Manage service categories and offerings"})]}),r.jsxs("button",{className:"btn btn-primary",children:[r.jsx(Mr,{size:18})," Add Category"]})]}),r.jsx("div",{className:"toolbar",children:r.jsxs("div",{className:"search-input-wrapper",children:[r.jsx(ua,{size:18,className:"search-icon"}),r.jsx("input",{type:"text",className:"form-input search-input",placeholder:"Search categories..."})]})}),r.jsx("div",{className:"categories-grid",children:s.map(e=>r.jsxs("div",{className:"card category-card",children:[r.jsxs("div",{className:"cat-header",children:[r.jsx("h3",{children:e.name}),r.jsx("span",{className:"badge badge-success",children:e.status})]}),r.jsxs("div",{className:"cat-stats",children:[r.jsxs("div",{children:[r.jsx("strong",{children:e.services}),r.jsx("span",{children:"Services"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:e.providers}),r.jsx("span",{children:"Providers"})]})]}),r.jsxs("div",{className:"cat-actions",children:[r.jsxs("button",{className:"btn btn-ghost btn-sm",children:[r.jsx($c,{size:16})," View"]}),r.jsxs("button",{className:"btn btn-ghost btn-sm",children:[r.jsx(Li,{size:16})," Edit"]}),r.jsx("button",{className:"btn btn-ghost btn-sm",style:{color:"var(--error)"},children:r.jsx(tl,{size:16})})]})]},e.id))}),r.jsx("style",{children:`
        .service-management-page { max-width: 1200px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .toolbar { margin-bottom: var(--space-6); }
        .toolbar .search-input-wrapper { max-width: 300px; }
        .categories-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-6); }
        .category-card { padding: var(--space-5); }
        .cat-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-4); }
        .cat-header h3 { font-size: var(--text-lg); }
        .cat-stats { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); margin-bottom: var(--space-4); padding-bottom: var(--space-4); border-bottom: 1px solid var(--gray-100); }
        .cat-stats div { text-align: center; }
        .cat-stats strong { display: block; font-size: var(--text-2xl); color: var(--primary-600); }
        .cat-stats span { font-size: var(--text-sm); color: var(--gray-500); }
        .cat-actions { display: flex; gap: var(--space-2); }
        @media (max-width: 1024px) { .categories-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { .categories-grid { grid-template-columns: 1fr; } .page-header { flex-direction: column; gap: var(--space-4); align-items: flex-start; } }
      `})]})},KD=()=>{const[s,e]=T.useState("all"),n=["all","pending","confirmed","in-progress","completed","cancelled"],i=[],l={pending:"warning",confirmed:"info","in-progress":"primary",completed:"success",cancelled:"gray"},u=s==="all"?i:i.filter(h=>h.status===s);return r.jsxs("div",{className:"booking-management-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Booking Management"}),r.jsx("p",{children:"View and manage all bookings"})]}),r.jsxs("button",{className:"btn btn-secondary",children:[r.jsx(kh,{size:18})," Export"]})]}),r.jsxs("div",{className:"toolbar",children:[r.jsx("div",{className:"tabs",children:n.map(h=>r.jsx("button",{className:`tab ${s===h?"active":""}`,onClick:()=>e(h),children:h.replace("-"," ")},h))}),r.jsxs("div",{className:"search-input-wrapper",children:[r.jsx(ua,{size:18,className:"search-icon"}),r.jsx("input",{type:"text",className:"form-input search-input",placeholder:"Search bookings..."})]})]}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"table-wrapper",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"ID"}),r.jsx("th",{children:"Customer"}),r.jsx("th",{children:"Service"}),r.jsx("th",{children:"Provider"}),r.jsx("th",{children:"Date"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Amount"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:u.map(h=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("strong",{children:h.id})}),r.jsx("td",{children:h.customer}),r.jsx("td",{children:h.service}),r.jsx("td",{children:h.provider}),r.jsx("td",{children:h.date}),r.jsx("td",{children:r.jsx("span",{className:`badge badge-${l[h.status]}`,children:h.status})}),r.jsx("td",{children:r.jsxs("strong",{children:["$",h.amount]})}),r.jsxs("td",{children:[r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",children:r.jsx($c,{size:16})}),r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",children:r.jsx(Li,{size:16})})]})]},h.id))})]})})}),r.jsx("style",{children:`
        .booking-management-page { max-width: 1200px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .toolbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); gap: var(--space-4); flex-wrap: wrap; }
        .toolbar .tabs { overflow-x: auto; }
        .toolbar .search-input-wrapper { width: 250px; }
        @media (max-width: 768px) { .toolbar { flex-direction: column; align-items: stretch; } .toolbar .search-input-wrapper { width: 100%; } .page-header { flex-direction: column; gap: var(--space-4); align-items: flex-start; } }
      `})]})},XD=()=>{const s=[{label:"Total Revenue",value:"$48,500",change:"+15%",icon:Ta},{label:"New Users",value:"1,240",change:"+8%",icon:$n},{label:"Total Bookings",value:"3,450",change:"+12%",icon:ht},{label:"Active Providers",value:"1,024",change:"+5%",icon:Dr}],e=[{name:"Home Cleaning",bookings:850,revenue:12500},{name:"Plumbing",bookings:620,revenue:9800},{name:"AC Service",bookings:480,revenue:8200},{name:"Electrical",bookings:350,revenue:6500},{name:"Beauty & Spa",bookings:290,revenue:4200}];return r.jsxs("div",{className:"reports-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Reports & Analytics"}),r.jsx("p",{children:"Business insights and performance metrics"})]}),r.jsxs("button",{className:"btn btn-secondary",children:[r.jsx(kh,{size:18})," Export Report"]})]}),r.jsx("div",{className:"metrics-grid",children:s.map((n,i)=>r.jsxs("div",{className:"card metric-card",children:[r.jsx("div",{className:"metric-icon",children:r.jsx(n.icon,{size:24})}),r.jsxs("div",{className:"metric-info",children:[r.jsx("span",{className:"metric-label",children:n.label}),r.jsx("span",{className:"metric-value",children:n.value}),r.jsxs("span",{className:"metric-change",children:[r.jsx(s_,{size:14})," ",n.change]})]})]},i))}),r.jsxs("div",{className:"reports-grid",children:[r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Revenue Trend"}),r.jsxs("div",{className:"chart-placeholder",children:[r.jsx(Ih,{size:64}),r.jsx("p",{children:"Chart visualization would go here"})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"Top Services"}),r.jsx("div",{className:"table-wrapper",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Service"}),r.jsx("th",{children:"Bookings"}),r.jsx("th",{children:"Revenue"})]})}),r.jsx("tbody",{children:e.map((n,i)=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("strong",{children:n.name})}),r.jsx("td",{children:n.bookings}),r.jsxs("td",{children:["$",n.revenue.toLocaleString()]})]},i))})]})})]})]}),r.jsx("style",{children:`
        .reports-page { max-width: 1200px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .metrics-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-6); margin-bottom: var(--space-6); }
        .metric-card { display: flex; gap: var(--space-4); align-items: center; }
        .metric-icon { width: 56px; height: 56px; background: var(--primary-50); border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; color: var(--primary-600); }
        .metric-label { font-size: var(--text-sm); color: var(--gray-500); display: block; }
        .metric-value { font-size: var(--text-2xl); font-weight: var(--font-bold); display: block; }
        .metric-change { font-size: var(--text-sm); color: var(--success); display: flex; align-items: center; gap: 2px; }
        .reports-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-6); }
        .reports-grid h3 { margin-bottom: var(--space-4); }
        .chart-placeholder { text-align: center; padding: var(--space-12); color: var(--gray-300); }
        .chart-placeholder p { margin-top: var(--space-4); color: var(--gray-400); }
        @media (max-width: 1024px) { .metrics-grid { grid-template-columns: repeat(2, 1fr); } .reports-grid { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .metrics-grid { grid-template-columns: 1fr; } .page-header { flex-direction: column; gap: var(--space-4); align-items: flex-start; } }
      `})]})},JD=()=>{const s=[{id:1,title:"10 Tips for Finding the Right Home Cleaner",status:"published",author:"Sarah J.",date:"Jan 15, 2026",views:1240},{id:2,title:"How to Prepare for a Plumbing Service",status:"published",author:"Mike R.",date:"Jan 12, 2026",views:890},{id:3,title:"Benefits of Regular AC Maintenance",status:"draft",author:"Sarah J.",date:"Jan 10, 2026",views:0},{id:4,title:"DIY vs Professional: When to Call an Expert",status:"published",author:"John D.",date:"Jan 8, 2026",views:1560}];return r.jsxs("div",{className:"blog-management-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Blog Management"}),r.jsx("p",{children:"Create and manage blog content"})]}),r.jsxs("button",{className:"btn btn-primary",children:[r.jsx(Mr,{size:18})," New Post"]})]}),r.jsx("div",{className:"toolbar",children:r.jsxs("div",{className:"search-input-wrapper",children:[r.jsx(ua,{size:18,className:"search-icon"}),r.jsx("input",{type:"text",className:"form-input search-input",placeholder:"Search posts..."})]})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"table-wrapper",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Title"}),r.jsx("th",{children:"Author"}),r.jsx("th",{children:"Date"}),r.jsx("th",{children:"Views"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:s.map(e=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("strong",{children:e.title})}),r.jsx("td",{children:e.author}),r.jsxs("td",{children:[r.jsx(ht,{size:14,style:{marginRight:"4px",verticalAlign:"middle"}}),e.date]}),r.jsx("td",{children:e.views.toLocaleString()}),r.jsx("td",{children:r.jsx("span",{className:`badge badge-${e.status==="published"?"success":"gray"}`,children:e.status})}),r.jsxs("td",{children:[r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",children:r.jsx(l_,{size:16})}),r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",children:r.jsx(Li,{size:16})}),r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",style:{color:"var(--error)"},children:r.jsx(tl,{size:16})})]})]},e.id))})]})})}),r.jsx("style",{children:`
        .blog-management-page { max-width: 1200px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .toolbar { margin-bottom: var(--space-6); }
        .toolbar .search-input-wrapper { max-width: 300px; }
        @media (max-width: 768px) { .page-header { flex-direction: column; gap: var(--space-4); align-items: flex-start; } }
      `})]})},WD=()=>{const[s,e]=T.useState(1),n=[];return r.jsxs("div",{className:"faq-management-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"FAQ Management"}),r.jsx("p",{children:"Manage frequently asked questions"})]}),r.jsxs("button",{className:"btn btn-primary",children:[r.jsx(Mr,{size:18})," Add FAQ"]})]}),r.jsx("div",{className:"faq-list",children:n.map(i=>r.jsxs("div",{className:"card faq-item",children:[r.jsxs("div",{className:"faq-header",onClick:()=>e(s===i.id?null:i.id),children:[r.jsx("div",{className:"faq-grip",children:r.jsx(eS,{size:18})}),r.jsxs("div",{className:"faq-info",children:[r.jsx("span",{className:"badge badge-secondary",children:i.category}),r.jsx("h4",{children:i.question})]}),r.jsxs("div",{className:"faq-actions",children:[r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",children:r.jsx(Li,{size:16})}),r.jsx("button",{className:"btn btn-ghost btn-icon btn-sm",style:{color:"var(--error)"},children:r.jsx(tl,{size:16})}),s===i.id?r.jsx(zT,{size:20}):r.jsx(Rc,{size:20})]})]}),s===i.id&&r.jsx("div",{className:"faq-answer",children:r.jsx("p",{children:i.answer})})]},i.id))}),r.jsx("style",{children:`
        .faq-management-page { max-width: 900px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6); }
        .page-header h1 { font-size: var(--text-2xl); margin-bottom: var(--space-1); }
        .page-header p { color: var(--gray-500); }
        .faq-list { display: flex; flex-direction: column; gap: var(--space-3); }
        .faq-item { padding: 0; overflow: hidden; }
        .faq-header { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-4); cursor: pointer; }
        .faq-header:hover { background: var(--gray-50); }
        .faq-grip { color: var(--gray-300); cursor: grab; }
        .faq-info { flex: 1; }
        .faq-info .badge { margin-bottom: var(--space-2); }
        .faq-info h4 { font-size: var(--text-base); }
        .faq-actions { display: flex; align-items: center; gap: var(--space-1); color: var(--gray-400); }
        .faq-answer { padding: var(--space-4); background: var(--gray-50); border-top: 1px solid var(--gray-100); }
        .faq-answer p { color: var(--gray-600); line-height: 1.6; }
        @media (max-width: 768px) { .page-header { flex-direction: column; gap: var(--space-4); align-items: flex-start; } }
      `})]})};function An({children:s}){return r.jsxs(r.Fragment,{children:[r.jsx(W5,{}),r.jsx("main",{children:s}),r.jsx(Z5,{})]})}function ZD(){return r.jsxs(nT,{children:[r.jsx(dT,{}),r.jsxs(I2,{children:[r.jsx(_e,{path:"/",element:r.jsx(An,{children:r.jsx(aD,{})})}),r.jsx(_e,{path:"/services",element:r.jsx(An,{children:r.jsx(sD,{})})}),r.jsx(_e,{path:"/services/category/:categoryId",element:r.jsx(An,{children:r.jsx(rD,{})})}),r.jsx(_e,{path:"/services/:serviceId",element:r.jsx(An,{children:r.jsx(oD,{})})}),r.jsx(_e,{path:"/how-it-works",element:r.jsx(An,{children:r.jsx(lD,{})})}),r.jsx(_e,{path:"/about",element:r.jsx(An,{children:r.jsx(cD,{})})}),r.jsx(_e,{path:"/faq",element:r.jsx(An,{children:r.jsx(uD,{})})}),r.jsx(_e,{path:"/contact",element:r.jsx(An,{children:r.jsx(dD,{})})}),r.jsx(_e,{path:"/blog",element:r.jsx(An,{children:r.jsx(hD,{})})}),r.jsx(_e,{path:"/blog/:blogId",element:r.jsx(An,{children:r.jsx(fD,{})})}),r.jsx(_e,{path:"/become-provider",element:r.jsx(An,{children:r.jsx(pD,{})})}),r.jsx(_e,{path:"/login",element:r.jsx(mD,{})}),r.jsx(_e,{path:"/signup",element:r.jsx(gD,{})}),r.jsx(_e,{path:"/forgot-password",element:r.jsx(vD,{})}),r.jsx(_e,{path:"/terms",element:r.jsx(An,{children:r.jsx(yD,{})})}),r.jsx(_e,{path:"/privacy",element:r.jsx(An,{children:r.jsx(xD,{})})}),r.jsx(_e,{path:"/cancellation-policy",element:r.jsx(An,{children:r.jsx(bD,{})})}),r.jsxs(_e,{path:"/customer",element:r.jsx(Sm,{role:"customer"}),children:[r.jsx(_e,{index:!0,element:r.jsx(_D,{})}),r.jsx(_e,{path:"book-service",element:r.jsx(wD,{})}),r.jsx(_e,{path:"schedule",element:r.jsx(jD,{})}),r.jsx(_e,{path:"address",element:r.jsx(ED,{})}),r.jsx(_e,{path:"checkout",element:r.jsx(ND,{})}),r.jsx(_e,{path:"confirmation",element:r.jsx(TD,{})}),r.jsx(_e,{path:"bookings",element:r.jsx(SD,{})}),r.jsx(_e,{path:"bookings/:bookingId",element:r.jsx(AD,{})}),r.jsx(_e,{path:"profile",element:r.jsx(CD,{})}),r.jsx(_e,{path:"addresses",element:r.jsx(RD,{})}),r.jsx(_e,{path:"payments",element:r.jsx(kD,{})}),r.jsx(_e,{path:"notifications",element:r.jsx(ID,{})})]}),r.jsx(_e,{path:"/provider/onboarding",element:r.jsx(DD,{})}),r.jsxs(_e,{path:"/provider",element:r.jsx(Sm,{role:"provider"}),children:[r.jsx(_e,{index:!0,element:r.jsx(MD,{})}),r.jsx(_e,{path:"job-requests",element:r.jsx(OD,{})}),r.jsx(_e,{path:"jobs/:jobId",element:r.jsx(zD,{})}),r.jsx(_e,{path:"active-jobs",element:r.jsx(PD,{})}),r.jsx(_e,{path:"completed-jobs",element:r.jsx(VD,{})}),r.jsx(_e,{path:"availability",element:r.jsx(LD,{})}),r.jsx(_e,{path:"services",element:r.jsx(UD,{})}),r.jsx(_e,{path:"earnings",element:r.jsx(BD,{})}),r.jsx(_e,{path:"payout",element:r.jsx(qD,{})}),r.jsx(_e,{path:"profile",element:r.jsx(FD,{})}),r.jsx(_e,{path:"reviews",element:r.jsx(HD,{})}),r.jsx(_e,{path:"support",element:r.jsx(GD,{})})]}),r.jsxs(_e,{path:"/admin",element:r.jsx(Sm,{role:"admin"}),children:[r.jsx(_e,{index:!0,element:r.jsx($D,{})}),r.jsx(_e,{path:"users",element:r.jsx(YD,{})}),r.jsx(_e,{path:"services",element:r.jsx(QD,{})}),r.jsx(_e,{path:"bookings",element:r.jsx(KD,{})}),r.jsx(_e,{path:"reports",element:r.jsx(XD,{})}),r.jsx(_e,{path:"blog",element:r.jsx(JD,{})}),r.jsx(_e,{path:"faq",element:r.jsx(WD,{})})]})]})]})}IN.createRoot(document.getElementById("root")).render(r.jsx(T.StrictMode,{children:r.jsx(J5,{children:r.jsx(ZD,{})})}));
